function c2(d,m){for(var x=0;x<m.length;x++){const y=m[x];if(typeof y!="string"&&!Array.isArray(y)){for(const C in y)if(C!=="default"&&!(C in d)){const p=Object.getOwnPropertyDescriptor(y,C);p&&Object.defineProperty(d,C,p.get?p:{enumerable:!0,get:()=>y[C]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))y(C);new MutationObserver(C=>{for(const p of C)if(p.type==="childList")for(const I of p.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&y(I)}).observe(document,{childList:!0,subtree:!0});function x(C){const p={};return C.integrity&&(p.integrity=C.integrity),C.referrerPolicy&&(p.referrerPolicy=C.referrerPolicy),C.crossOrigin==="use-credentials"?p.credentials="include":C.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function y(C){if(C.ep)return;C.ep=!0;const p=x(C);fetch(C.href,p)}})();var Bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function f2(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Pc={exports:{}},Es={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function h2(){if(X0)return Es;X0=1;var d=Symbol.for("react.transitional.element"),m=Symbol.for("react.fragment");function x(y,C,p){var I=null;if(p!==void 0&&(I=""+p),C.key!==void 0&&(I=""+C.key),"key"in C){p={};for(var B in C)B!=="key"&&(p[B]=C[B])}else p=C;return C=p.ref,{$$typeof:d,type:y,key:I,ref:C!==void 0?C:null,props:p}}return Es.Fragment=m,Es.jsx=x,Es.jsxs=x,Es}var Z0;function d2(){return Z0||(Z0=1,Pc.exports=h2()),Pc.exports}var Ht=d2(),Yc={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function g2(){if(q0)return Xe;q0=1;var d=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),I=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),U=Symbol.iterator;function K(F){return F===null||typeof F!="object"?null:(F=U&&F[U]||F["@@iterator"],typeof F=="function"?F:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,le={};function ge(F,de,Se){this.props=F,this.context=de,this.refs=le,this.updater=Se||ee}ge.prototype.isReactComponent={},ge.prototype.setState=function(F,de){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,de,"setState")},ge.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function ue(){}ue.prototype=ge.prototype;function Ee(F,de,Se){this.props=F,this.context=de,this.refs=le,this.updater=Se||ee}var ae=Ee.prototype=new ue;ae.constructor=Ee,te(ae,ge.prototype),ae.isPureReactComponent=!0;var ve=Array.isArray,Re={H:null,A:null,T:null,S:null},ke=Object.prototype.hasOwnProperty;function fe(F,de,Se,Me,pe,Je){return Se=Je.ref,{$$typeof:d,type:F,key:de,ref:Se!==void 0?Se:null,props:Je}}function Ye(F,de){return fe(F.type,de,void 0,void 0,void 0,F.props)}function X(F){return typeof F=="object"&&F!==null&&F.$$typeof===d}function Pe(F){var de={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Se){return de[Se]})}var mt=/\/+/g;function Oe(F,de){return typeof F=="object"&&F!==null&&F.key!=null?Pe(""+F.key):de.toString(36)}function qe(){}function bt(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(qe,qe):(F.status="pending",F.then(function(de){F.status==="pending"&&(F.status="fulfilled",F.value=de)},function(de){F.status==="pending"&&(F.status="rejected",F.reason=de)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function W(F,de,Se,Me,pe){var Je=typeof F;(Je==="undefined"||Je==="boolean")&&(F=null);var Ae=!1;if(F===null)Ae=!0;else switch(Je){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(F.$$typeof){case d:case m:Ae=!0;break;case R:return Ae=F._init,W(Ae(F._payload),de,Se,Me,pe)}}if(Ae)return pe=pe(F),Ae=Me===""?"."+Oe(F,0):Me,ve(pe)?(Se="",Ae!=null&&(Se=Ae.replace(mt,"$&/")+"/"),W(pe,de,Se,"",function(_t){return _t})):pe!=null&&(X(pe)&&(pe=Ye(pe,Se+(pe.key==null||F&&F.key===pe.key?"":(""+pe.key).replace(mt,"$&/")+"/")+Ae)),de.push(pe)),1;Ae=0;var cn=Me===""?".":Me+":";if(ve(F))for(var He=0;He<F.length;He++)Me=F[He],Je=cn+Oe(Me,He),Ae+=W(Me,de,Se,Je,pe);else if(He=K(F),typeof He=="function")for(F=He.call(F),He=0;!(Me=F.next()).done;)Me=Me.value,Je=cn+Oe(Me,He++),Ae+=W(Me,de,Se,Je,pe);else if(Je==="object"){if(typeof F.then=="function")return W(bt(F),de,Se,Me,pe);throw de=String(F),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function me(F,de,Se){if(F==null)return F;var Me=[],pe=0;return W(F,Me,"","",function(Je){return de.call(Se,Je,pe++)}),Me}function ye(F){if(F._status===-1){var de=F._result;de=de(),de.then(function(Se){(F._status===0||F._status===-1)&&(F._status=1,F._result=Se)},function(Se){(F._status===0||F._status===-1)&&(F._status=2,F._result=Se)}),F._status===-1&&(F._status=0,F._result=de)}if(F._status===1)return F._result.default;throw F._result}var Be=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function st(){}return Xe.Children={map:me,forEach:function(F,de,Se){me(F,function(){de.apply(this,arguments)},Se)},count:function(F){var de=0;return me(F,function(){de++}),de},toArray:function(F){return me(F,function(de){return de})||[]},only:function(F){if(!X(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Xe.Component=ge,Xe.Fragment=x,Xe.Profiler=C,Xe.PureComponent=Ee,Xe.StrictMode=y,Xe.Suspense=O,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re,Xe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Xe.cache=function(F){return function(){return F.apply(null,arguments)}},Xe.cloneElement=function(F,de,Se){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Me=te({},F.props),pe=F.key,Je=void 0;if(de!=null)for(Ae in de.ref!==void 0&&(Je=void 0),de.key!==void 0&&(pe=""+de.key),de)!ke.call(de,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&de.ref===void 0||(Me[Ae]=de[Ae]);var Ae=arguments.length-2;if(Ae===1)Me.children=Se;else if(1<Ae){for(var cn=Array(Ae),He=0;He<Ae;He++)cn[He]=arguments[He+2];Me.children=cn}return fe(F.type,pe,void 0,void 0,Je,Me)},Xe.createContext=function(F){return F={$$typeof:I,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:p,_context:F},F},Xe.createElement=function(F,de,Se){var Me,pe={},Je=null;if(de!=null)for(Me in de.key!==void 0&&(Je=""+de.key),de)ke.call(de,Me)&&Me!=="key"&&Me!=="__self"&&Me!=="__source"&&(pe[Me]=de[Me]);var Ae=arguments.length-2;if(Ae===1)pe.children=Se;else if(1<Ae){for(var cn=Array(Ae),He=0;He<Ae;He++)cn[He]=arguments[He+2];pe.children=cn}if(F&&F.defaultProps)for(Me in Ae=F.defaultProps,Ae)pe[Me]===void 0&&(pe[Me]=Ae[Me]);return fe(F,Je,void 0,void 0,null,pe)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(F){return{$$typeof:B,render:F}},Xe.isValidElement=X,Xe.lazy=function(F){return{$$typeof:R,_payload:{_status:-1,_result:F},_init:ye}},Xe.memo=function(F,de){return{$$typeof:w,type:F,compare:de===void 0?null:de}},Xe.startTransition=function(F){var de=Re.T,Se={};Re.T=Se;try{var Me=F(),pe=Re.S;pe!==null&&pe(Se,Me),typeof Me=="object"&&Me!==null&&typeof Me.then=="function"&&Me.then(st,Be)}catch(Je){Be(Je)}finally{Re.T=de}},Xe.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()},Xe.use=function(F){return Re.H.use(F)},Xe.useActionState=function(F,de,Se){return Re.H.useActionState(F,de,Se)},Xe.useCallback=function(F,de){return Re.H.useCallback(F,de)},Xe.useContext=function(F){return Re.H.useContext(F)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(F,de){return Re.H.useDeferredValue(F,de)},Xe.useEffect=function(F,de){return Re.H.useEffect(F,de)},Xe.useId=function(){return Re.H.useId()},Xe.useImperativeHandle=function(F,de,Se){return Re.H.useImperativeHandle(F,de,Se)},Xe.useInsertionEffect=function(F,de){return Re.H.useInsertionEffect(F,de)},Xe.useLayoutEffect=function(F,de){return Re.H.useLayoutEffect(F,de)},Xe.useMemo=function(F,de){return Re.H.useMemo(F,de)},Xe.useOptimistic=function(F,de){return Re.H.useOptimistic(F,de)},Xe.useReducer=function(F,de,Se){return Re.H.useReducer(F,de,Se)},Xe.useRef=function(F){return Re.H.useRef(F)},Xe.useState=function(F){return Re.H.useState(F)},Xe.useSyncExternalStore=function(F,de,Se){return Re.H.useSyncExternalStore(F,de,Se)},Xe.useTransition=function(){return Re.H.useTransition()},Xe.version="19.0.0",Xe}var Q0;function $c(){return Q0||(Q0=1,Yc.exports=g2()),Yc.exports}var ne=$c(),jc={exports:{}},ys={},Gc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function x2(){return W0||(W0=1,function(d){function m(me,ye){var Be=me.length;me.push(ye);e:for(;0<Be;){var st=Be-1>>>1,F=me[st];if(0<C(F,ye))me[st]=ye,me[Be]=F,Be=st;else break e}}function x(me){return me.length===0?null:me[0]}function y(me){if(me.length===0)return null;var ye=me[0],Be=me.pop();if(Be!==ye){me[0]=Be;e:for(var st=0,F=me.length,de=F>>>1;st<de;){var Se=2*(st+1)-1,Me=me[Se],pe=Se+1,Je=me[pe];if(0>C(Me,Be))pe<F&&0>C(Je,Me)?(me[st]=Je,me[pe]=Be,st=pe):(me[st]=Me,me[Se]=Be,st=Se);else if(pe<F&&0>C(Je,Be))me[st]=Je,me[pe]=Be,st=pe;else break e}}return ye}function C(me,ye){var Be=me.sortIndex-ye.sortIndex;return Be!==0?Be:me.id-ye.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;d.unstable_now=function(){return p.now()}}else{var I=Date,B=I.now();d.unstable_now=function(){return I.now()-B}}var O=[],w=[],R=1,U=null,K=3,ee=!1,te=!1,le=!1,ge=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function ae(me){for(var ye=x(w);ye!==null;){if(ye.callback===null)y(w);else if(ye.startTime<=me)y(w),ye.sortIndex=ye.expirationTime,m(O,ye);else break;ye=x(w)}}function ve(me){if(le=!1,ae(me),!te)if(x(O)!==null)te=!0,bt();else{var ye=x(w);ye!==null&&W(ve,ye.startTime-me)}}var Re=!1,ke=-1,fe=5,Ye=-1;function X(){return!(d.unstable_now()-Ye<fe)}function Pe(){if(Re){var me=d.unstable_now();Ye=me;var ye=!0;try{e:{te=!1,le&&(le=!1,ue(ke),ke=-1),ee=!0;var Be=K;try{t:{for(ae(me),U=x(O);U!==null&&!(U.expirationTime>me&&X());){var st=U.callback;if(typeof st=="function"){U.callback=null,K=U.priorityLevel;var F=st(U.expirationTime<=me);if(me=d.unstable_now(),typeof F=="function"){U.callback=F,ae(me),ye=!0;break t}U===x(O)&&y(O),ae(me)}else y(O);U=x(O)}if(U!==null)ye=!0;else{var de=x(w);de!==null&&W(ve,de.startTime-me),ye=!1}}break e}finally{U=null,K=Be,ee=!1}ye=void 0}}finally{ye?mt():Re=!1}}}var mt;if(typeof Ee=="function")mt=function(){Ee(Pe)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,qe=Oe.port2;Oe.port1.onmessage=Pe,mt=function(){qe.postMessage(null)}}else mt=function(){ge(Pe,0)};function bt(){Re||(Re=!0,mt())}function W(me,ye){ke=ge(function(){me(d.unstable_now())},ye)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(me){me.callback=null},d.unstable_continueExecution=function(){te||ee||(te=!0,bt())},d.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<me?Math.floor(1e3/me):5},d.unstable_getCurrentPriorityLevel=function(){return K},d.unstable_getFirstCallbackNode=function(){return x(O)},d.unstable_next=function(me){switch(K){case 1:case 2:case 3:var ye=3;break;default:ye=K}var Be=K;K=ye;try{return me()}finally{K=Be}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(me,ye){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var Be=K;K=me;try{return ye()}finally{K=Be}},d.unstable_scheduleCallback=function(me,ye,Be){var st=d.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?st+Be:st):Be=st,me){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Be+F,me={id:R++,callback:ye,priorityLevel:me,startTime:Be,expirationTime:F,sortIndex:-1},Be>st?(me.sortIndex=Be,m(w,me),x(O)===null&&me===x(w)&&(le?(ue(ke),ke=-1):le=!0,W(ve,Be-st))):(me.sortIndex=F,m(O,me),te||ee||(te=!0,bt())),me},d.unstable_shouldYield=X,d.unstable_wrapCallback=function(me){var ye=K;return function(){var Be=K;K=ye;try{return me.apply(this,arguments)}finally{K=Be}}}}(Vc)),Vc}var K0;function m2(){return K0||(K0=1,Gc.exports=x2()),Gc.exports}var Xc={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function A2(){if(J0)return Bn;J0=1;var d=$c();function m(O){var w="https://react.dev/errors/"+O;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)w+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+O+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(){}var y={d:{f:x,r:function(){throw Error(m(522))},D:x,C:x,L:x,m:x,X:x,S:x,M:x},p:0,findDOMNode:null},C=Symbol.for("react.portal");function p(O,w,R){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:U==null?null:""+U,children:O,containerInfo:w,implementation:R}}var I=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function B(O,w){if(O==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=y,Bn.createPortal=function(O,w){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(m(299));return p(O,w,null,R)},Bn.flushSync=function(O){var w=I.T,R=y.p;try{if(I.T=null,y.p=2,O)return O()}finally{I.T=w,y.p=R,y.d.f()}},Bn.preconnect=function(O,w){typeof O=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,y.d.C(O,w))},Bn.prefetchDNS=function(O){typeof O=="string"&&y.d.D(O)},Bn.preinit=function(O,w){if(typeof O=="string"&&w&&typeof w.as=="string"){var R=w.as,U=B(R,w.crossOrigin),K=typeof w.integrity=="string"?w.integrity:void 0,ee=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;R==="style"?y.d.S(O,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:U,integrity:K,fetchPriority:ee}):R==="script"&&y.d.X(O,{crossOrigin:U,integrity:K,fetchPriority:ee,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Bn.preinitModule=function(O,w){if(typeof O=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var R=B(w.as,w.crossOrigin);y.d.M(O,{crossOrigin:R,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&y.d.M(O)},Bn.preload=function(O,w){if(typeof O=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var R=w.as,U=B(R,w.crossOrigin);y.d.L(O,R,{crossOrigin:U,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Bn.preloadModule=function(O,w){if(typeof O=="string")if(w){var R=B(w.as,w.crossOrigin);y.d.m(O,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:R,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else y.d.m(O)},Bn.requestFormReset=function(O){y.d.r(O)},Bn.unstable_batchedUpdates=function(O,w){return O(w)},Bn.useFormState=function(O,w,R){return I.H.useFormState(O,w,R)},Bn.useFormStatus=function(){return I.H.useHostTransitionStatus()},Bn.version="19.0.0",Bn}var $0;function E2(){if($0)return Xc.exports;$0=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(m){console.error(m)}}return d(),Xc.exports=A2(),Xc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function y2(){if(eh)return ys;eh=1;var d=m2(),m=$c(),x=E2();function y(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var p=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),ve=Symbol.for("react.memo_cache_sentinel"),Re=Symbol.iterator;function ke(t){return t===null||typeof t!="object"?null:(t=Re&&t[Re]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===fe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case B:return"Portal";case R:return"Profiler";case w:return"StrictMode";case le:return"Suspense";case ge:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ee:return(t.displayName||"Context")+".Provider";case K:return(t._context.displayName||"Context")+".Consumer";case te:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ue:return i=t.displayName||null,i!==null?i:Ye(t.type)||"Memo";case Ee:i=t._payload,t=t._init;try{return Ye(t(i))}catch{}}return null}var X=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe=Object.assign,mt,Oe;function qe(t){if(mt===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);mt=i&&i[1]||"",Oe=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+t+Oe}var bt=!1;function W(t,i){if(!t||bt)return"";bt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(J){var Z=J}Reflect.construct(t,[],oe)}else{try{oe.call()}catch(J){Z=J}t.call(oe.prototype)}}else{try{throw Error()}catch(J){Z=J}(oe=t())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=u.DetermineComponentFrameRoot(),b=A[0],M=A[1];if(b&&M){var L=b.split(`
`),P=M.split(`
`);for(h=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(u===L.length||h===P.length)for(u=L.length-1,h=P.length-1;1<=u&&0<=h&&L[u]!==P[h];)h--;for(;1<=u&&0<=h;u--,h--)if(L[u]!==P[h]){if(u!==1||h!==1)do if(u--,h--,0>h||L[u]!==P[h]){var $=`
`+L[u].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=u&&0<=h);break}}}finally{bt=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?qe(l):""}function me(t){switch(t.tag){case 26:case 27:case 5:return qe(t.type);case 16:return qe("Lazy");case 13:return qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return t=W(t.type,!1),t;case 11:return t=W(t.type.render,!1),t;case 1:return t=W(t.type,!0),t;default:return""}}function ye(t){try{var i="";do i+=me(t),t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Be(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function st(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function F(t){if(Be(t)!==t)throw Error(y(188))}function de(t){var i=t.alternate;if(!i){if(i=Be(t),i===null)throw Error(y(188));return i!==t?null:t}for(var l=t,u=i;;){var h=l.return;if(h===null)break;var A=h.alternate;if(A===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===A.child){for(A=h.child;A;){if(A===l)return F(h),t;if(A===u)return F(h),i;A=A.sibling}throw Error(y(188))}if(l.return!==u.return)l=h,u=A;else{for(var b=!1,M=h.child;M;){if(M===l){b=!0,l=h,u=A;break}if(M===u){b=!0,u=h,l=A;break}M=M.sibling}if(!b){for(M=A.child;M;){if(M===l){b=!0,l=A,u=h;break}if(M===u){b=!0,u=A,l=h;break}M=M.sibling}if(!b)throw Error(y(189))}}if(l.alternate!==u)throw Error(y(190))}if(l.tag!==3)throw Error(y(188));return l.stateNode.current===l?t:i}function Se(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=Se(t),i!==null)return i;t=t.sibling}return null}var Me=Array.isArray,pe=x.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Je={pending:!1,data:null,method:null,action:null},Ae=[],cn=-1;function He(t){return{current:t}}function _t(t){0>cn||(t.current=Ae[cn],Ae[cn]=null,cn--)}function At(t,i){cn++,Ae[cn]=t.current,t.current=i}var Ut=He(null),vi=He(null),Ze=He(null),Ei=He(null);function Ln(t,i){switch(At(Ze,i),At(vi,t),At(Ut,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?C0(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=C0(t),i=w0(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}_t(Ut),At(Ut,i)}function ai(){_t(Ut),_t(vi),_t(Ze)}function Kt(t){t.memoizedState!==null&&At(Ei,t);var i=Ut.current,l=w0(i,t.type);i!==l&&(At(vi,t),At(Ut,l))}function xt(t){vi.current===t&&(_t(Ut),_t(vi)),Ei.current===t&&(_t(Ei),ds._currentValue=Je)}var et=Object.prototype.hasOwnProperty,ya=d.unstable_scheduleCallback,be=d.unstable_cancelCallback,Ur=d.unstable_shouldYield,Ms=d.unstable_requestPaint,an=d.unstable_now,Sl=d.unstable_getCurrentPriorityLevel,Yn=d.unstable_ImmediatePriority,bl=d.unstable_UserBlockingPriority,Zn=d.unstable_NormalPriority,Cn=d.unstable_LowPriority,Tl=d.unstable_IdlePriority,kr=d.log,Go=d.unstable_setDisableYieldValue,Dt=null,xe=null;function Jt(t){if(xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(Dt,t,void 0,(t.current.flags&128)===128)}catch{}}function it(t){if(typeof kr=="function"&&Go(t),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(Dt,t)}catch{}}var at=Math.clz32?Math.clz32:Is,lr=Math.log,vl=Math.LN2;function Is(t){return t>>>=0,t===0?32:31-(lr(t)/vl|0)|0}var rt=128,ri=4194304;function Ni(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sr(t,i){var l=t.pendingLanes;if(l===0)return 0;var u=0,h=t.suspendedLanes,A=t.pingedLanes,b=t.warmLanes;t=t.finishedLanes!==0;var M=l&134217727;return M!==0?(l=M&~h,l!==0?u=Ni(l):(A&=M,A!==0?u=Ni(A):t||(b=M&~b,b!==0&&(u=Ni(b))))):(M=l&~h,M!==0?u=Ni(M):A!==0?u=Ni(A):t||(b=l&~b,b!==0&&(u=Ni(b)))),u===0?0:i!==0&&i!==u&&(i&h)===0&&(h=u&-u,b=i&-i,h>=b||h===32&&(b&4194176)!==0)?i:u}function wn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Nl(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fn(){var t=rt;return rt<<=1,(rt&4194176)===0&&(rt=128),t}function Xi(){var t=ri;return ri<<=1,(ri&62914560)===0&&(ri=4194304),t}function pa(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function In(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vo(t,i,l,u,h,A){var b=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var M=t.entanglements,L=t.expirationTimes,P=t.hiddenUpdates;for(l=b&~l;0<l;){var $=31-at(l),oe=1<<$;M[$]=0,L[$]=-1;var Z=P[$];if(Z!==null)for(P[$]=null,$=0;$<Z.length;$++){var J=Z[$];J!==null&&(J.lane&=-536870913)}l&=~oe}u!==0&&Mi(t,u,0),A!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=A&~(b&~i))}function Mi(t,i,l){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-at(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|l&4194218}function zr(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var u=31-at(l),h=1<<u;h&i|t[u]&i&&(t[u]|=i),l&=~h}}function Sn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ii(){var t=pe.p;return t!==0?t:(t=window.event,t===void 0?32:H0(t.type))}function jn(t,i){var l=pe.p;try{return pe.p=t,i()}finally{pe.p=l}}var Ce=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Ce,mn="__reactProps$"+Ce,$t="__reactContainer$"+Ce,Oi="__reactEvents$"+Ce,Fr="__reactListeners$"+Ce,Hr="__reactHandles$"+Ce,qn="__reactResources$"+Ce,or="__reactMarker$"+Ce;function Ml(t){delete t[Pt],delete t[mn],delete t[Oi],delete t[Fr],delete t[Hr]}function An(t){var i=t[Pt];if(i)return i;for(var l=t.parentNode;l;){if(i=l[$t]||l[Pt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=T0(t);t!==null;){if(l=t[Pt])return l;t=T0(t)}return i}t=l,l=t.parentNode}return null}function Xt(t){if(t=t[Pt]||t[$t]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Et(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(y(33))}function Zi(t){var i=t[qn];return i||(i=t[qn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Nt(t){t[or]=!0}var Pr=new Set,re={};function qi(t,i){pt(t,i),pt(t+"Capture",i)}function pt(t,i){for(re[t]=i,t=0;t<i.length;t++)Pr.add(i[t])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ft={},ut={};function tt(t){return et.call(ut,t)?!0:et.call(ft,t)?!1:Xo.test(t)?ut[t]=!0:(ft[t]=!0,!1)}function Ca(t,i,l){if(tt(i))if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+l)}}function wa(t,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+l)}}function Qn(t,i,l,u){if(u===null)t.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(i,l,""+u)}}function ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zo(t){var i=yi(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,A=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(b){u=""+b,A.call(this,b)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Rt(t){t._valueTracker||(t._valueTracker=Zo(t))}function pi(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return t&&(u=yi(t)?t.checked?"true":"false":t.value),t=u,t!==l?(i.setValue(t),!0):!1}function Yr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sa=/[\n"\\]/g;function Qe(t){return t.replace(Sa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function rn(t,i,l,u,h,A,b,M){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),i!=null?b==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ht(i)):t.value!==""+ht(i)&&(t.value=""+ht(i)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),i!=null?_(t,b,ht(i)):l!=null?_(t,b,ht(l)):u!=null&&t.removeAttribute("value"),h==null&&A!=null&&(t.defaultChecked=!!A),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+ht(M):t.removeAttribute("name")}function G(t,i,l,u,h,A,b,M){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.type=A),i!=null||l!=null){if(!(A!=="submit"&&A!=="reset"||i!=null))return;l=l!=null?""+ht(l):"",i=i!=null?""+ht(i):l,M||i===t.value||(t.value=i),t.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=M?t.checked:!!u,t.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function _(t,i,l){i==="number"&&Yr(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Ne(t,i,l,u){if(t=t.options,i){i={};for(var h=0;h<l.length;h++)i["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=i.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&u&&(t[l].defaultSelected=!0)}else{for(l=""+ht(l),i=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function en(t,i,l){if(i!=null&&(i=""+ht(i),i!==t.value&&(t.value=i),l==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=l!=null?""+ht(l):""}function Un(t,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(y(92));if(Me(u)){if(1<u.length)throw Error(y(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=ht(i),t.defaultValue=l,u=t.textContent,u===l&&u!==""&&u!==null&&(t.value=u)}function ba(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var Il=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kn(t,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,l):typeof l!="number"||l===0||Il.has(i)?i==="float"?t.cssFloat=l:t[i]=(""+l).trim():t[i]=l+"px"}function _e(t,i,l){if(i!=null&&typeof i!="object")throw Error(y(62));if(t=t.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&l[h]!==u&&kn(t,h,u)}else for(var A in i)i.hasOwnProperty(A)&&kn(t,A,i[A])}function Mt(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Os=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return qo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var va=null;function ur(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Na=null,kt=null;function Ma(t){var i=Xt(t);if(i&&(t=i.stateNode)){var l=t[mn]||null;e:switch(t=i.stateNode,i.type){case"input":if(rn(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Qe(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==t&&u.form===t.form){var h=u[mn]||null;if(!h)throw Error(y(90));rn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===t.form&&pi(u)}break e;case"textarea":en(t,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Ne(t,!!l.multiple,i,!1)}}}var li=!1;function Ue(t,i,l){if(li)return t(i,l);li=!0;try{var u=t(i);return u}finally{if(li=!1,(Na!==null||kt!==null)&&(go(),Na&&(i=Na,t=kt,kt=Na=null,Ma(i),t)))for(i=0;i<t.length;i++)Ma(t[i])}}function cr(t,i){var l=t.stateNode;if(l===null)return null;var u=l[mn]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(y(231,i,typeof l));return l}var je=!1;if(On)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){je=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{je=!1}var _i=null,fr=null,hr=null;function Di(){if(hr)return hr;var t,i=fr,l=i.length,u,h="value"in _i?_i.value:_i.textContent,A=h.length;for(t=0;t<l&&i[t]===h[t];t++);var b=l-t;for(u=1;u<=b&&i[l-u]===h[A-u];u++);return hr=h.slice(t,1<u?1-u:void 0)}function jr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ri(){return!0}function Ia(){return!1}function ln(t){function i(l,u,h,A,b){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=A,this.target=b,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(l=t[M],this[M]=l?l(A):A[M]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ri:Ia,this.isPropagationStopped=Ia,this}return Pe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=ln(Bi),Ci=Pe({},Bi,{view:0,detail:0}),_n=ln(Ci),Gr,Vr,Oa,Xr=Pe({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oa&&(Oa&&t.type==="mousemove"?(Gr=t.screenX-Oa.screenX,Vr=t.screenY-Oa.screenY):Vr=Gr=0,Oa=t),Gr)},movementY:function(t){return"movementY"in t?t.movementY:Vr}}),_s=ln(Xr),Qo=Pe({},Xr,{dataTransfer:0}),yt=ln(Qo),Ds=Pe({},Ci,{relatedTarget:0}),_a=ln(Ds),Ui=Pe({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=ln(Ui),q=Pe({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ve=ln(q),hn=Pe({},Bi,{data:0}),dr=ln(hn),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Jo[t])?!!i[t]:!1}function gr(){return $o}var tn=Pe({},Ci,{key:function(t){if(t.key){var i=Rs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=jr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ko[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(t){return t.type==="keypress"?jr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ol=ln(tn),Ft=Pe({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xr=ln(Ft),Qi=Pe({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),Ct=ln(Qi),Le=Pe({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),eu=ln(Le),It=Pe({},Xr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wi=ln(It),Da=Pe({},Bi,{newState:0,oldState:0}),tu=ln(Da),si=[9,13,27,32],mr=On&&"CompositionEvent"in window,Ra=null;On&&"documentMode"in document&&(Ra=document.documentMode);var _l=On&&"TextEvent"in window&&!Ra,Dl=On&&(!mr||Ra&&8<Ra&&11>=Ra),Rl=" ",Bs=!1;function Ki(t,i){switch(t){case"keyup":return si.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ba=!1;function Ar(t,i){switch(t){case"compositionend":return Zr(i);case"keypress":return i.which!==32?null:(Bs=!0,Rl);case"textInput":return t=i.data,t===Rl&&Bs?null:t;default:return null}}function nu(t,i){if(Ba)return t==="compositionend"||!mr&&Ki(t,i)?(t=Di(),hr=fr=_i=null,Ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Dl&&i.locale!=="ko"?null:i.data;default:return null}}var ki={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Er(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ki[t.type]:i==="textarea"}function zn(t,i,l,u){Na?kt?kt.push(u):kt=[u]:Na=u,i=yo(i,"onChange"),0<i.length&&(l=new Li("onChange","change",null,l,u),t.push({event:l,listeners:i}))}var La=null,Dn=null;function iu(t){m0(t,0)}function Ua(t){var i=Et(t);if(pi(i))return t}function Ls(t,i){if(t==="change")return i}var Bl=!1;if(On){var Gn;if(On){var Ll="oninput"in document;if(!Ll){var qr=document.createElement("div");qr.setAttribute("oninput","return;"),Ll=typeof qr.oninput=="function"}Gn=Ll}else Gn=!1;Bl=Gn&&(!document.documentMode||9<document.documentMode)}function ka(){La&&(La.detachEvent("onpropertychange",lt),Dn=La=null)}function lt(t){if(t.propertyName==="value"&&Ua(Dn)){var i=[];zn(i,Dn,t,ur(t)),Ue(iu,i)}}function Qr(t,i,l){t==="focusin"?(ka(),La=i,Dn=l,La.attachEvent("onpropertychange",lt)):t==="focusout"&&ka()}function T(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ua(Dn)}function n(t,i){if(t==="click")return Ua(i)}function a(t,i){if(t==="input"||t==="change")return Ua(i)}function r(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var s=typeof Object.is=="function"?Object.is:r;function o(t,i){if(s(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!et.call(i,h)||!s(t[h],i[h]))return!1}return!0}function c(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function f(t,i){var l=c(t);t=0;for(var u;l;){if(l.nodeType===3){if(u=t+l.textContent.length,t<=i&&u>=i)return{node:l,offset:i-t};t=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=c(l)}}function g(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?g(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function E(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Yr(t.document);i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=Yr(t.document)}return i}function S(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function v(t,i){var l=E(i);i=t.focusedElem;var u=t.selectionRange;if(l!==i&&i&&i.ownerDocument&&g(i.ownerDocument.documentElement,i)){if(u!==null&&S(i)){if(t=u.start,l=u.end,l===void 0&&(l=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(l,i.value.length);else if(l=(t=i.ownerDocument||document)&&t.defaultView||window,l.getSelection){l=l.getSelection();var h=i.textContent.length,A=Math.min(u.start,h);u=u.end===void 0?A:Math.min(u.end,h),!l.extend&&A>u&&(h=u,u=A,A=h),h=f(i,A);var b=f(i,u);h&&b&&(l.rangeCount!==1||l.anchorNode!==h.node||l.anchorOffset!==h.offset||l.focusNode!==b.node||l.focusOffset!==b.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),l.removeAllRanges(),A>u?(l.addRange(t),l.extend(b.node,b.offset)):(t.setEnd(b.node,b.offset),l.addRange(t)))}}for(t=[],l=i;l=l.parentNode;)l.nodeType===1&&t.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)l=t[i],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var N=On&&"documentMode"in document&&11>=document.documentMode,D=null,k=null,z=null,j=!1;function Q(t,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;j||D==null||D!==Yr(u)||(u=D,"selectionStart"in u&&S(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),z&&o(z,u)||(z=u,u=yo(k,"onSelect"),0<u.length&&(i=new Li("onSelect","select",null,i,l),t.push({event:i,listeners:u}),i.target=D)))}function ce(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var he={animationend:ce("Animation","AnimationEnd"),animationiteration:ce("Animation","AnimationIteration"),animationstart:ce("Animation","AnimationStart"),transitionrun:ce("Transition","TransitionRun"),transitionstart:ce("Transition","TransitionStart"),transitioncancel:ce("Transition","TransitionCancel"),transitionend:ce("Transition","TransitionEnd")},se={},We={};On&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete he.animationend.animation,delete he.animationiteration.animation,delete he.animationstart.animation),"TransitionEvent"in window||delete he.transitionend.transition);function ze(t){if(se[t])return se[t];if(!he[t])return t;var i=he[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in We)return se[t]=i[l];return t}var bn=ze("animationend"),Vn=ze("animationiteration"),Tn=ze("animationstart"),wt=ze("transitionrun"),dn=ze("transitionstart"),Fn=ze("transitioncancel"),Ji=ze("transitionend"),$i=new Map,Us="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Wn(t,i){$i.set(t,i),qi(i,[t])}var oi=[],Wr=0,au=0;function ks(){for(var t=Wr,i=au=Wr=0;i<t;){var l=oi[i];oi[i++]=null;var u=oi[i];oi[i++]=null;var h=oi[i];oi[i++]=null;var A=oi[i];if(oi[i++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}A!==0&&s1(l,h,A)}}function zs(t,i,l,u){oi[Wr++]=t,oi[Wr++]=i,oi[Wr++]=l,oi[Wr++]=u,au|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function ru(t,i,l,u){return zs(t,i,l,u),Fs(t)}function za(t,i){return zs(t,null,null,i),Fs(t)}function s1(t,i,l){t.lanes|=l;var u=t.alternate;u!==null&&(u.lanes|=l);for(var h=!1,A=t.return;A!==null;)A.childLanes|=l,u=A.alternate,u!==null&&(u.childLanes|=l),A.tag===22&&(t=A.stateNode,t===null||t._visibility&1||(h=!0)),t=A,A=A.return;h&&i!==null&&t.tag===3&&(A=t.stateNode,h=31-at(l),A=A.hiddenUpdates,t=A[h],t===null?A[h]=[i]:t.push(i),i.lane=l|536870912)}function Fs(t){if(50<ls)throw ls=0,fc=null,Error(y(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Kr={},o1=new WeakMap;function ui(t,i){if(typeof t=="object"&&t!==null){var l=o1.get(t);return l!==void 0?l:(i={value:t,source:i,stack:ye(i)},o1.set(t,i),i)}return{value:t,source:i,stack:ye(i)}}var Jr=[],$r=0,Hs=null,Ps=0,ci=[],fi=0,yr=null,ea=1,ta="";function pr(t,i){Jr[$r++]=Ps,Jr[$r++]=Hs,Hs=t,Ps=i}function u1(t,i,l){ci[fi++]=ea,ci[fi++]=ta,ci[fi++]=yr,yr=t;var u=ea;t=ta;var h=32-at(u)-1;u&=~(1<<h),l+=1;var A=32-at(i)+h;if(30<A){var b=h-h%5;A=(u&(1<<b)-1).toString(32),u>>=b,h-=b,ea=1<<32-at(i)+h|l<<h|u,ta=A+t}else ea=1<<A|l<<h|u,ta=t}function lu(t){t.return!==null&&(pr(t,1),u1(t,1,0))}function su(t){for(;t===Hs;)Hs=Jr[--$r],Jr[$r]=null,Ps=Jr[--$r],Jr[$r]=null;for(;t===yr;)yr=ci[--fi],ci[fi]=null,ta=ci[--fi],ci[fi]=null,ea=ci[--fi],ci[fi]=null}var Hn=null,vn=null,dt=!1,wi=null,zi=!1,ou=Error(y(519));function Cr(t){var i=Error(y(418,""));throw zl(ui(i,t)),ou}function c1(t){var i=t.stateNode,l=t.type,u=t.memoizedProps;switch(i[Pt]=t,i[mn]=u,l){case"dialog":ot("cancel",i),ot("close",i);break;case"iframe":case"object":case"embed":ot("load",i);break;case"video":case"audio":for(l=0;l<os.length;l++)ot(os[l],i);break;case"source":ot("error",i);break;case"img":case"image":case"link":ot("error",i),ot("load",i);break;case"details":ot("toggle",i);break;case"input":ot("invalid",i),G(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Rt(i);break;case"select":ot("invalid",i);break;case"textarea":ot("invalid",i),Un(i,u.value,u.defaultValue,u.children),Rt(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||p0(i.textContent,l)?(u.popover!=null&&(ot("beforetoggle",i),ot("toggle",i)),u.onScroll!=null&&ot("scroll",i),u.onScrollEnd!=null&&ot("scrollend",i),u.onClick!=null&&(i.onclick=po),i=!0):i=!1,i||Cr(t)}function f1(t){for(Hn=t.return;Hn;)switch(Hn.tag){case 3:case 27:zi=!0;return;case 5:case 13:zi=!1;return;default:Hn=Hn.return}}function Ul(t){if(t!==Hn)return!1;if(!dt)return f1(t),dt=!0,!1;var i=!1,l;if((l=t.tag!==3&&t.tag!==27)&&((l=t.tag===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Mc(t.type,t.memoizedProps)),l=!l),l&&(i=!0),i&&vn&&Cr(t),f1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(y(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(i===0){vn=bi(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;t=t.nextSibling}vn=null}}else vn=Hn?bi(t.stateNode.nextSibling):null;return!0}function kl(){vn=Hn=null,dt=!1}function zl(t){wi===null?wi=[t]:wi.push(t)}var Fl=Error(y(460)),h1=Error(y(474)),uu={then:function(){}};function d1(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ys(){}function g1(t,i,l){switch(l=t[l],l===void 0?t.push(i):l!==i&&(i.then(Ys,Ys),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Fl?Error(y(483)):t;default:if(typeof i.status=="string")i.then(Ys,Ys);else{if(t=Bt,t!==null&&100<t.shellSuspendCounter)throw Error(y(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Fl?Error(y(483)):t}throw Hl=i,Fl}}var Hl=null;function x1(){if(Hl===null)throw Error(y(459));var t=Hl;return Hl=null,t}var el=null,Pl=0;function js(t){var i=Pl;return Pl+=1,el===null&&(el=[]),g1(el,t,i)}function Yl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Gs(t,i){throw i.$$typeof===p?Error(y(525)):(t=Object.prototype.toString.call(i),Error(y(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function m1(t){var i=t._init;return i(t._payload)}function A1(t){function i(Y,H){if(t){var V=Y.deletions;V===null?(Y.deletions=[H],Y.flags|=16):V.push(H)}}function l(Y,H){if(!t)return null;for(;H!==null;)i(Y,H),H=H.sibling;return null}function u(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function h(Y,H){return Y=Wa(Y,H),Y.index=0,Y.sibling=null,Y}function A(Y,H,V){return Y.index=V,t?(V=Y.alternate,V!==null?(V=V.index,V<H?(Y.flags|=33554434,H):V):(Y.flags|=33554434,H)):(Y.flags|=1048576,H)}function b(Y){return t&&Y.alternate===null&&(Y.flags|=33554434),Y}function M(Y,H,V,ie){return H===null||H.tag!==6?(H=ic(V,Y.mode,ie),H.return=Y,H):(H=h(H,V),H.return=Y,H)}function L(Y,H,V,ie){var Te=V.type;return Te===O?$(Y,H,V.props.children,ie,V.key):H!==null&&(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Ee&&m1(Te)===H.type)?(H=h(H,V.props),Yl(H,V),H.return=Y,H):(H=oo(V.type,V.key,V.props,null,Y.mode,ie),Yl(H,V),H.return=Y,H)}function P(Y,H,V,ie){return H===null||H.tag!==4||H.stateNode.containerInfo!==V.containerInfo||H.stateNode.implementation!==V.implementation?(H=ac(V,Y.mode,ie),H.return=Y,H):(H=h(H,V.children||[]),H.return=Y,H)}function $(Y,H,V,ie,Te){return H===null||H.tag!==7?(H=_r(V,Y.mode,ie,Te),H.return=Y,H):(H=h(H,V),H.return=Y,H)}function oe(Y,H,V){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=ic(""+H,Y.mode,V),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return V=oo(H.type,H.key,H.props,null,Y.mode,V),Yl(V,H),V.return=Y,V;case B:return H=ac(H,Y.mode,V),H.return=Y,H;case Ee:var ie=H._init;return H=ie(H._payload),oe(Y,H,V)}if(Me(H)||ke(H))return H=_r(H,Y.mode,V,null),H.return=Y,H;if(typeof H.then=="function")return oe(Y,js(H),V);if(H.$$typeof===ee)return oe(Y,ro(Y,H),V);Gs(Y,H)}return null}function Z(Y,H,V,ie){var Te=H!==null?H.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Te!==null?null:M(Y,H,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return V.key===Te?L(Y,H,V,ie):null;case B:return V.key===Te?P(Y,H,V,ie):null;case Ee:return Te=V._init,V=Te(V._payload),Z(Y,H,V,ie)}if(Me(V)||ke(V))return Te!==null?null:$(Y,H,V,ie,null);if(typeof V.then=="function")return Z(Y,H,js(V),ie);if(V.$$typeof===ee)return Z(Y,H,ro(Y,V),ie);Gs(Y,V)}return null}function J(Y,H,V,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Y=Y.get(V)||null,M(H,Y,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:return Y=Y.get(ie.key===null?V:ie.key)||null,L(H,Y,ie,Te);case B:return Y=Y.get(ie.key===null?V:ie.key)||null,P(H,Y,ie,Te);case Ee:var $e=ie._init;return ie=$e(ie._payload),J(Y,H,V,ie,Te)}if(Me(ie)||ke(ie))return Y=Y.get(V)||null,$(H,Y,ie,Te,null);if(typeof ie.then=="function")return J(Y,H,V,js(ie),Te);if(ie.$$typeof===ee)return J(Y,H,V,ro(H,ie),Te);Gs(H,ie)}return null}function Ie(Y,H,V,ie){for(var Te=null,$e=null,De=H,Fe=H=0,pn=null;De!==null&&Fe<V.length;Fe++){De.index>Fe?(pn=De,De=null):pn=De.sibling;var gt=Z(Y,De,V[Fe],ie);if(gt===null){De===null&&(De=pn);break}t&&De&&gt.alternate===null&&i(Y,De),H=A(gt,H,Fe),$e===null?Te=gt:$e.sibling=gt,$e=gt,De=pn}if(Fe===V.length)return l(Y,De),dt&&pr(Y,Fe),Te;if(De===null){for(;Fe<V.length;Fe++)De=oe(Y,V[Fe],ie),De!==null&&(H=A(De,H,Fe),$e===null?Te=De:$e.sibling=De,$e=De);return dt&&pr(Y,Fe),Te}for(De=u(De);Fe<V.length;Fe++)pn=J(De,Y,Fe,V[Fe],ie),pn!==null&&(t&&pn.alternate!==null&&De.delete(pn.key===null?Fe:pn.key),H=A(pn,H,Fe),$e===null?Te=pn:$e.sibling=pn,$e=pn);return t&&De.forEach(function(ir){return i(Y,ir)}),dt&&pr(Y,Fe),Te}function Ge(Y,H,V,ie){if(V==null)throw Error(y(151));for(var Te=null,$e=null,De=H,Fe=H=0,pn=null,gt=V.next();De!==null&&!gt.done;Fe++,gt=V.next()){De.index>Fe?(pn=De,De=null):pn=De.sibling;var ir=Z(Y,De,gt.value,ie);if(ir===null){De===null&&(De=pn);break}t&&De&&ir.alternate===null&&i(Y,De),H=A(ir,H,Fe),$e===null?Te=ir:$e.sibling=ir,$e=ir,De=pn}if(gt.done)return l(Y,De),dt&&pr(Y,Fe),Te;if(De===null){for(;!gt.done;Fe++,gt=V.next())gt=oe(Y,gt.value,ie),gt!==null&&(H=A(gt,H,Fe),$e===null?Te=gt:$e.sibling=gt,$e=gt);return dt&&pr(Y,Fe),Te}for(De=u(De);!gt.done;Fe++,gt=V.next())gt=J(De,Y,Fe,gt.value,ie),gt!==null&&(t&&gt.alternate!==null&&De.delete(gt.key===null?Fe:gt.key),H=A(gt,H,Fe),$e===null?Te=gt:$e.sibling=gt,$e=gt);return t&&De.forEach(function(u2){return i(Y,u2)}),dt&&pr(Y,Fe),Te}function Qt(Y,H,V,ie){if(typeof V=="object"&&V!==null&&V.type===O&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case I:e:{for(var Te=V.key;H!==null;){if(H.key===Te){if(Te=V.type,Te===O){if(H.tag===7){l(Y,H.sibling),ie=h(H,V.props.children),ie.return=Y,Y=ie;break e}}else if(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Ee&&m1(Te)===H.type){l(Y,H.sibling),ie=h(H,V.props),Yl(ie,V),ie.return=Y,Y=ie;break e}l(Y,H);break}else i(Y,H);H=H.sibling}V.type===O?(ie=_r(V.props.children,Y.mode,ie,V.key),ie.return=Y,Y=ie):(ie=oo(V.type,V.key,V.props,null,Y.mode,ie),Yl(ie,V),ie.return=Y,Y=ie)}return b(Y);case B:e:{for(Te=V.key;H!==null;){if(H.key===Te)if(H.tag===4&&H.stateNode.containerInfo===V.containerInfo&&H.stateNode.implementation===V.implementation){l(Y,H.sibling),ie=h(H,V.children||[]),ie.return=Y,Y=ie;break e}else{l(Y,H);break}else i(Y,H);H=H.sibling}ie=ac(V,Y.mode,ie),ie.return=Y,Y=ie}return b(Y);case Ee:return Te=V._init,V=Te(V._payload),Qt(Y,H,V,ie)}if(Me(V))return Ie(Y,H,V,ie);if(ke(V)){if(Te=ke(V),typeof Te!="function")throw Error(y(150));return V=Te.call(V),Ge(Y,H,V,ie)}if(typeof V.then=="function")return Qt(Y,H,js(V),ie);if(V.$$typeof===ee)return Qt(Y,H,ro(Y,V),ie);Gs(Y,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,H!==null&&H.tag===6?(l(Y,H.sibling),ie=h(H,V),ie.return=Y,Y=ie):(l(Y,H),ie=ic(V,Y.mode,ie),ie.return=Y,Y=ie),b(Y)):l(Y,H)}return function(Y,H,V,ie){try{Pl=0;var Te=Qt(Y,H,V,ie);return el=null,Te}catch(De){if(De===Fl)throw De;var $e=xi(29,De,null,Y.mode);return $e.lanes=ie,$e.return=Y,$e}finally{}}}var wr=A1(!0),E1=A1(!1),tl=He(null),Vs=He(0);function y1(t,i){t=ha,At(Vs,t),At(tl,i),ha=t|i.baseLanes}function cu(){At(Vs,ha),At(tl,tl.current)}function fu(){ha=Vs.current,_t(tl),_t(Vs)}var hi=He(null),Fi=null;function Fa(t){var i=t.alternate;At(gn,gn.current&1),At(hi,t),Fi===null&&(i===null||tl.current!==null||i.memoizedState!==null)&&(Fi=t)}function p1(t){if(t.tag===22){if(At(gn,gn.current),At(hi,t),Fi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Fi=t)}}else Ha()}function Ha(){At(gn,gn.current),At(hi,hi.current)}function na(t){_t(hi),Fi===t&&(Fi=null),_t(gn)}var gn=He(0);function Xs(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wh=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(l,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(l){return l()})}},Kh=d.unstable_scheduleCallback,Jh=d.unstable_NormalPriority,xn={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hu(){return{controller:new Wh,data:new Map,refCount:0}}function jl(t){t.refCount--,t.refCount===0&&Kh(Jh,function(){t.controller.abort()})}var Gl=null,du=0,nl=0,il=null;function $h(t,i){if(Gl===null){var l=Gl=[];du=0,nl=yc(),il={status:"pending",value:void 0,then:function(u){l.push(u)}}}return du++,i.then(C1,C1),i}function C1(){if(--du===0&&Gl!==null){il!==null&&(il.status="fulfilled");var t=Gl;Gl=null,nl=0,il=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ed(t,i){var l=[],u={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<l.length;h++)(0,l[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),u}var w1=X.S;X.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&$h(t,i),w1!==null&&w1(t,i)};var Sr=He(null);function gu(){var t=Sr.current;return t!==null?t:Bt.pooledCache}function Zs(t,i){i===null?At(Sr,Sr.current):At(Sr,i.pool)}function S1(){var t=gu();return t===null?null:{parent:xn._currentValue,pool:t}}var Pa=0,Ke=null,Tt=null,sn=null,qs=!1,al=!1,br=!1,Qs=0,Vl=0,rl=null,td=0;function nn(){throw Error(y(321))}function xu(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!s(t[l],i[l]))return!1;return!0}function mu(t,i,l,u,h,A){return Pa=A,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Tr:Ya,br=!1,A=l(u,h),br=!1,al&&(A=T1(i,l,u,h)),b1(t),A}function b1(t){X.H=Hi;var i=Tt!==null&&Tt.next!==null;if(Pa=0,sn=Tt=Ke=null,qs=!1,Vl=0,rl=null,i)throw Error(y(300));t===null||En||(t=t.dependencies,t!==null&&ao(t)&&(En=!0))}function T1(t,i,l,u){Ke=t;var h=0;do{if(al&&(rl=null),Vl=0,al=!1,25<=h)throw Error(y(301));if(h+=1,sn=Tt=null,t.updateQueue!=null){var A=t.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}X.H=vr,A=i(l,u)}while(al);return A}function nd(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?Xl(i):i,t=t.useState()[0],(Tt!==null?Tt.memoizedState:null)!==t&&(Ke.flags|=1024),i}function Au(){var t=Qs!==0;return Qs=0,t}function Eu(t,i,l){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~l}function yu(t){if(qs){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}qs=!1}Pa=0,sn=Tt=Ke=null,al=!1,Vl=Qs=0,rl=null}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Ke.memoizedState=sn=t:sn=sn.next=t,sn}function on(){if(Tt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var i=sn===null?Ke.memoizedState:sn.next;if(i!==null)sn=i,Tt=t;else{if(t===null)throw Ke.alternate===null?Error(y(467)):Error(y(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},sn===null?Ke.memoizedState=sn=t:sn=sn.next=t}return sn}var Ws;Ws=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Xl(t){var i=Vl;return Vl+=1,rl===null&&(rl=[]),t=g1(rl,t,i),i=Ke,(sn===null?i.memoizedState:sn.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Tr:Ya),t}function Ks(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xl(t);if(t.$$typeof===ee)return Rn(t)}throw Error(y(438,String(t)))}function pu(t){var i=null,l=Ke.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Ws(),Ke.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(t),u=0;u<t;u++)l[u]=ve;return i.index++,l}function ia(t,i){return typeof i=="function"?i(t):i}function Js(t){var i=on();return Cu(i,Tt,t)}function Cu(t,i,l){var u=t.queue;if(u===null)throw Error(y(311));u.lastRenderedReducer=l;var h=t.baseQueue,A=u.pending;if(A!==null){if(h!==null){var b=h.next;h.next=A.next,A.next=b}i.baseQueue=h=A,u.pending=null}if(A=t.baseState,h===null)t.memoizedState=A;else{i=h.next;var M=b=null,L=null,P=i,$=!1;do{var oe=P.lane&-536870913;if(oe!==P.lane?(ct&oe)===oe:(Pa&oe)===oe){var Z=P.revertLane;if(Z===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),oe===nl&&($=!0);else if((Pa&Z)===Z){P=P.next,Z===nl&&($=!0);continue}else oe={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},L===null?(M=L=oe,b=A):L=L.next=oe,Ke.lanes|=Z,Ka|=Z;oe=P.action,br&&l(A,oe),A=P.hasEagerState?P.eagerState:l(A,oe)}else Z={lane:oe,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},L===null?(M=L=Z,b=A):L=L.next=Z,Ke.lanes|=oe,Ka|=oe;P=P.next}while(P!==null&&P!==i);if(L===null?b=A:L.next=M,!s(A,t.memoizedState)&&(En=!0,$&&(l=il,l!==null)))throw l;t.memoizedState=A,t.baseState=b,t.baseQueue=L,u.lastRenderedState=A}return h===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function wu(t){var i=on(),l=i.queue;if(l===null)throw Error(y(311));l.lastRenderedReducer=t;var u=l.dispatch,h=l.pending,A=i.memoizedState;if(h!==null){l.pending=null;var b=h=h.next;do A=t(A,b.action),b=b.next;while(b!==h);s(A,i.memoizedState)||(En=!0),i.memoizedState=A,i.baseQueue===null&&(i.baseState=A),l.lastRenderedState=A}return[A,u]}function v1(t,i,l){var u=Ke,h=on(),A=dt;if(A){if(l===void 0)throw Error(y(407));l=l()}else l=i();var b=!s((Tt||h).memoizedState,l);if(b&&(h.memoizedState=l,En=!0),h=h.queue,Tu(I1.bind(null,u,h,t),[t]),h.getSnapshot!==i||b||sn!==null&&sn.memoizedState.tag&1){if(u.flags|=2048,ll(9,M1.bind(null,u,h,l,i),{destroy:void 0},null),Bt===null)throw Error(y(349));A||(Pa&60)!==0||N1(u,i,l)}return l}function N1(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=Ke.updateQueue,i===null?(i=Ws(),Ke.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function M1(t,i,l,u){i.value=l,i.getSnapshot=u,O1(i)&&_1(t)}function I1(t,i,l){return l(function(){O1(i)&&_1(t)})}function O1(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!s(t,l)}catch{return!0}}function _1(t){var i=za(t,2);i!==null&&Pn(i,t,2)}function Su(t){var i=Xn();if(typeof t=="function"){var l=t;if(t=l(),br){it(!0);try{l()}finally{it(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:t},i}function D1(t,i,l,u){return t.baseState=l,Cu(t,Tt,typeof u=="function"?u:ia)}function id(t,i,l,u,h){if(to(t))throw Error(y(485));if(t=i.action,t!==null){var A={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){A.listeners.push(b)}};X.T!==null?l(!0):A.isTransition=!1,u(A),l=i.pending,l===null?(A.next=i.pending=A,R1(i,A)):(A.next=l.next,i.pending=l.next=A)}}function R1(t,i){var l=i.action,u=i.payload,h=t.state;if(i.isTransition){var A=X.T,b={};X.T=b;try{var M=l(h,u),L=X.S;L!==null&&L(b,M),B1(t,i,M)}catch(P){bu(t,i,P)}finally{X.T=A}}else try{A=l(h,u),B1(t,i,A)}catch(P){bu(t,i,P)}}function B1(t,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){L1(t,i,u)},function(u){return bu(t,i,u)}):L1(t,i,l)}function L1(t,i,l){i.status="fulfilled",i.value=l,U1(i),t.state=l,i=t.pending,i!==null&&(l=i.next,l===i?t.pending=null:(l=l.next,i.next=l,R1(t,l)))}function bu(t,i,l){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,U1(i),i=i.next;while(i!==u)}t.action=null}function U1(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function k1(t,i){return i}function z1(t,i){if(dt){var l=Bt.formState;if(l!==null){e:{var u=Ke;if(dt){if(vn){t:{for(var h=vn,A=zi;h.nodeType!==8;){if(!A){h=null;break t}if(h=bi(h.nextSibling),h===null){h=null;break t}}A=h.data,h=A==="F!"||A==="F"?h:null}if(h){vn=bi(h.nextSibling),u=h.data==="F!";break e}}Cr(u)}u=!1}u&&(i=l[0])}}return l=Xn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k1,lastRenderedState:i},l.queue=u,l=nf.bind(null,Ke,u),u.dispatch=l,u=Su(!1),A=Ou.bind(null,Ke,!1,u.queue),u=Xn(),h={state:i,dispatch:null,action:t,pending:null},u.queue=h,l=id.bind(null,Ke,h,A,l),h.dispatch=l,u.memoizedState=t,[i,l,!1]}function F1(t){var i=on();return H1(i,Tt,t)}function H1(t,i,l){i=Cu(t,i,k1)[0],t=Js(ia)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Xl(i):i;var u=on(),h=u.queue,A=h.dispatch;return l!==u.memoizedState&&(Ke.flags|=2048,ll(9,ad.bind(null,h,l),{destroy:void 0},null)),[i,A,t]}function ad(t,i){t.action=i}function P1(t){var i=on(),l=Tt;if(l!==null)return H1(i,l,t);on(),i=i.memoizedState,l=on();var u=l.queue.dispatch;return l.memoizedState=t,[i,u,!1]}function ll(t,i,l,u){return t={tag:t,create:i,inst:l,deps:u,next:null},i=Ke.updateQueue,i===null&&(i=Ws(),Ke.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=t.next=t:(u=l.next,l.next=t,t.next=u,i.lastEffect=t),t}function Y1(){return on().memoizedState}function $s(t,i,l,u){var h=Xn();Ke.flags|=t,h.memoizedState=ll(1|i,l,{destroy:void 0},u===void 0?null:u)}function eo(t,i,l,u){var h=on();u=u===void 0?null:u;var A=h.memoizedState.inst;Tt!==null&&u!==null&&xu(u,Tt.memoizedState.deps)?h.memoizedState=ll(i,l,A,u):(Ke.flags|=t,h.memoizedState=ll(1|i,l,A,u))}function j1(t,i){$s(8390656,8,t,i)}function Tu(t,i){eo(2048,8,t,i)}function G1(t,i){return eo(4,2,t,i)}function V1(t,i){return eo(4,4,t,i)}function X1(t,i){if(typeof i=="function"){t=t();var l=i(t);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Z1(t,i,l){l=l!=null?l.concat([t]):null,eo(4,4,X1.bind(null,i,t),l)}function vu(){}function q1(t,i){var l=on();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&xu(i,u[1])?u[0]:(l.memoizedState=[t,i],t)}function Q1(t,i){var l=on();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&xu(i,u[1]))return u[0];if(u=t(),br){it(!0);try{t()}finally{it(!1)}}return l.memoizedState=[u,i],u}function Nu(t,i,l){return l===void 0||(Pa&1073741824)!==0?t.memoizedState=i:(t.memoizedState=l,t=Jf(),Ke.lanes|=t,Ka|=t,l)}function W1(t,i,l,u){return s(l,i)?l:tl.current!==null?(t=Nu(t,l,u),s(t,i)||(En=!0),t):(Pa&42)===0?(En=!0,t.memoizedState=l):(t=Jf(),Ke.lanes|=t,Ka|=t,i)}function K1(t,i,l,u,h){var A=pe.p;pe.p=A!==0&&8>A?A:8;var b=X.T,M={};X.T=M,Ou(t,!1,i,l);try{var L=h(),P=X.S;if(P!==null&&P(M,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var $=ed(L,u);Zl(t,i,$,ei(t))}else Zl(t,i,u,ei(t))}catch(oe){Zl(t,i,{then:function(){},status:"rejected",reason:oe},ei())}finally{pe.p=A,X.T=b}}function rd(){}function Mu(t,i,l,u){if(t.tag!==5)throw Error(y(476));var h=J1(t).queue;K1(t,h,i,Je,l===null?rd:function(){return $1(t),l(u)})}function J1(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Je,baseState:Je,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:Je},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:l},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function $1(t){var i=J1(t).next.queue;Zl(t,i,{},ei())}function Iu(){return Rn(ds)}function ef(){return on().memoizedState}function tf(){return on().memoizedState}function ld(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var l=ei();t=Va(l);var u=Xa(i,t,l);u!==null&&(Pn(u,i,l),Wl(u,i,l)),i={cache:hu()},t.payload=i;return}i=i.return}}function sd(t,i,l){var u=ei();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},to(t)?af(i,l):(l=ru(t,i,l,u),l!==null&&(Pn(l,t,u),rf(l,i,u)))}function nf(t,i,l){var u=ei();Zl(t,i,l,u)}function Zl(t,i,l,u){var h={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(to(t))af(i,h);else{var A=t.alternate;if(t.lanes===0&&(A===null||A.lanes===0)&&(A=i.lastRenderedReducer,A!==null))try{var b=i.lastRenderedState,M=A(b,l);if(h.hasEagerState=!0,h.eagerState=M,s(M,b))return zs(t,i,h,0),Bt===null&&ks(),!1}catch{}finally{}if(l=ru(t,i,h,u),l!==null)return Pn(l,t,u),rf(l,i,u),!0}return!1}function Ou(t,i,l,u){if(u={lane:2,revertLane:yc(),action:u,hasEagerState:!1,eagerState:null,next:null},to(t)){if(i)throw Error(y(479))}else i=ru(t,l,u,2),i!==null&&Pn(i,t,2)}function to(t){var i=t.alternate;return t===Ke||i!==null&&i===Ke}function af(t,i){al=qs=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function rf(t,i,l){if((l&4194176)!==0){var u=i.lanes;u&=t.pendingLanes,l|=u,i.lanes=l,zr(t,l)}}var Hi={readContext:Rn,use:Ks,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn};Hi.useCacheRefresh=nn,Hi.useMemoCache=nn,Hi.useHostTransitionStatus=nn,Hi.useFormState=nn,Hi.useActionState=nn,Hi.useOptimistic=nn;var Tr={readContext:Rn,use:Ks,useCallback:function(t,i){return Xn().memoizedState=[t,i===void 0?null:i],t},useContext:Rn,useEffect:j1,useImperativeHandle:function(t,i,l){l=l!=null?l.concat([t]):null,$s(4194308,4,X1.bind(null,i,t),l)},useLayoutEffect:function(t,i){return $s(4194308,4,t,i)},useInsertionEffect:function(t,i){$s(4,2,t,i)},useMemo:function(t,i){var l=Xn();i=i===void 0?null:i;var u=t();if(br){it(!0);try{t()}finally{it(!1)}}return l.memoizedState=[u,i],u},useReducer:function(t,i,l){var u=Xn();if(l!==void 0){var h=l(i);if(br){it(!0);try{l(i)}finally{it(!1)}}}else h=i;return u.memoizedState=u.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},u.queue=t,t=t.dispatch=sd.bind(null,Ke,t),[u.memoizedState,t]},useRef:function(t){var i=Xn();return t={current:t},i.memoizedState=t},useState:function(t){t=Su(t);var i=t.queue,l=nf.bind(null,Ke,i);return i.dispatch=l,[t.memoizedState,l]},useDebugValue:vu,useDeferredValue:function(t,i){var l=Xn();return Nu(l,t,i)},useTransition:function(){var t=Su(!1);return t=K1.bind(null,Ke,t.queue,!0,!1),Xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,l){var u=Ke,h=Xn();if(dt){if(l===void 0)throw Error(y(407));l=l()}else{if(l=i(),Bt===null)throw Error(y(349));(ct&60)!==0||N1(u,i,l)}h.memoizedState=l;var A={value:l,getSnapshot:i};return h.queue=A,j1(I1.bind(null,u,A,t),[t]),u.flags|=2048,ll(9,M1.bind(null,u,A,l,i),{destroy:void 0},null),l},useId:function(){var t=Xn(),i=Bt.identifierPrefix;if(dt){var l=ta,u=ea;l=(u&~(1<<32-at(u)-1)).toString(32)+l,i=":"+i+"R"+l,l=Qs++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=td++,i=":"+i+"r"+l.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return Xn().memoizedState=ld.bind(null,Ke)}};Tr.useMemoCache=pu,Tr.useHostTransitionStatus=Iu,Tr.useFormState=z1,Tr.useActionState=z1,Tr.useOptimistic=function(t){var i=Xn();i.memoizedState=i.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Ou.bind(null,Ke,!0,l),l.dispatch=i,[t,i]};var Ya={readContext:Rn,use:Ks,useCallback:q1,useContext:Rn,useEffect:Tu,useImperativeHandle:Z1,useInsertionEffect:G1,useLayoutEffect:V1,useMemo:Q1,useReducer:Js,useRef:Y1,useState:function(){return Js(ia)},useDebugValue:vu,useDeferredValue:function(t,i){var l=on();return W1(l,Tt.memoizedState,t,i)},useTransition:function(){var t=Js(ia)[0],i=on().memoizedState;return[typeof t=="boolean"?t:Xl(t),i]},useSyncExternalStore:v1,useId:ef};Ya.useCacheRefresh=tf,Ya.useMemoCache=pu,Ya.useHostTransitionStatus=Iu,Ya.useFormState=F1,Ya.useActionState=F1,Ya.useOptimistic=function(t,i){var l=on();return D1(l,Tt,t,i)};var vr={readContext:Rn,use:Ks,useCallback:q1,useContext:Rn,useEffect:Tu,useImperativeHandle:Z1,useInsertionEffect:G1,useLayoutEffect:V1,useMemo:Q1,useReducer:wu,useRef:Y1,useState:function(){return wu(ia)},useDebugValue:vu,useDeferredValue:function(t,i){var l=on();return Tt===null?Nu(l,t,i):W1(l,Tt.memoizedState,t,i)},useTransition:function(){var t=wu(ia)[0],i=on().memoizedState;return[typeof t=="boolean"?t:Xl(t),i]},useSyncExternalStore:v1,useId:ef};vr.useCacheRefresh=tf,vr.useMemoCache=pu,vr.useHostTransitionStatus=Iu,vr.useFormState=P1,vr.useActionState=P1,vr.useOptimistic=function(t,i){var l=on();return Tt!==null?D1(l,Tt,t,i):(l.baseState=t,[t,l.queue.dispatch])};function _u(t,i,l,u){i=t.memoizedState,l=l(u,i),l=l==null?i:Pe({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Du={isMounted:function(t){return(t=t._reactInternals)?Be(t)===t:!1},enqueueSetState:function(t,i,l){t=t._reactInternals;var u=ei(),h=Va(u);h.payload=i,l!=null&&(h.callback=l),i=Xa(t,h,u),i!==null&&(Pn(i,t,u),Wl(i,t,u))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var u=ei(),h=Va(u);h.tag=1,h.payload=i,l!=null&&(h.callback=l),i=Xa(t,h,u),i!==null&&(Pn(i,t,u),Wl(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=ei(),u=Va(l);u.tag=2,i!=null&&(u.callback=i),i=Xa(t,u,l),i!==null&&(Pn(i,t,l),Wl(i,t,l))}};function lf(t,i,l,u,h,A,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,A,b):i.prototype&&i.prototype.isPureReactComponent?!o(l,u)||!o(h,A):!0}function sf(t,i,l,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==t&&Du.enqueueReplaceState(i,i.state,null)}function Nr(t,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(t=t.defaultProps){l===i&&(l=Pe({},l));for(var h in t)l[h]===void 0&&(l[h]=t[h])}return l}var no=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function of(t){no(t)}function uf(t){console.error(t)}function cf(t){no(t)}function io(t,i){try{var l=t.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function ff(t,i,l){try{var u=t.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ru(t,i,l){return l=Va(l),l.tag=3,l.payload={element:null},l.callback=function(){io(t,i)},l}function hf(t){return t=Va(t),t.tag=3,t}function df(t,i,l,u){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var A=u.value;t.payload=function(){return h(A)},t.callback=function(){ff(i,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){ff(i,l,u),typeof h!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})})}function od(t,i,l,u,h){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Ql(i,l,h,!0),l=hi.current,l!==null){switch(l.tag){case 13:return Fi===null?gc():l.alternate===null&&qt===0&&(qt=3),l.flags&=-257,l.flags|=65536,l.lanes=h,u===uu?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),mc(t,u,h)),!1;case 22:return l.flags|=65536,u===uu?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),mc(t,u,h)),!1}throw Error(y(435,l.tag))}return mc(t,u,h),gc(),!1}if(dt)return i=hi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==ou&&(t=Error(y(422),{cause:u}),zl(ui(t,l)))):(u!==ou&&(i=Error(y(423),{cause:u}),zl(ui(i,l))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,u=ui(u,l),h=Ru(t.stateNode,u,h),qu(t,h),qt!==4&&(qt=2)),!1;var A=Error(y(520),{cause:u});if(A=ui(A,l),as===null?as=[A]:as.push(A),qt!==4&&(qt=2),i===null)return!0;u=ui(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,t=h&-h,l.lanes|=t,t=Ru(l.stateNode,u,t),qu(l,t),!1;case 1:if(i=l.type,A=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ja===null||!Ja.has(A))))return l.flags|=65536,h&=-h,l.lanes|=h,h=hf(h),df(h,t,l,u),qu(l,h),!1}l=l.return}while(l!==null);return!1}var gf=Error(y(461)),En=!1;function Nn(t,i,l,u){i.child=t===null?E1(i,null,l,u):wr(i,t.child,l,u)}function xf(t,i,l,u,h){l=l.render;var A=i.ref;if("ref"in u){var b={};for(var M in u)M!=="ref"&&(b[M]=u[M])}else b=u;return Ir(i),u=mu(t,i,l,b,A,h),M=Au(),t!==null&&!En?(Eu(t,i,h),aa(t,i,h)):(dt&&M&&lu(i),i.flags|=1,Nn(t,i,u,h),i.child)}function mf(t,i,l,u,h){if(t===null){var A=l.type;return typeof A=="function"&&!nc(A)&&A.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=A,Af(t,i,A,u,h)):(t=oo(l.type,null,u,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(A=t.child,!Yu(t,h)){var b=A.memoizedProps;if(l=l.compare,l=l!==null?l:o,l(b,u)&&t.ref===i.ref)return aa(t,i,h)}return i.flags|=1,t=Wa(A,u),t.ref=i.ref,t.return=i,i.child=t}function Af(t,i,l,u,h){if(t!==null){var A=t.memoizedProps;if(o(A,u)&&t.ref===i.ref)if(En=!1,i.pendingProps=u=A,Yu(t,h))(t.flags&131072)!==0&&(En=!0);else return i.lanes=t.lanes,aa(t,i,h)}return Bu(t,i,l,u,h)}function Ef(t,i,l){var u=i.pendingProps,h=u.children,A=(i.stateNode._pendingVisibility&2)!==0,b=t!==null?t.memoizedState:null;if(ql(t,i),u.mode==="hidden"||A){if((i.flags&128)!==0){if(u=b!==null?b.baseLanes|l:l,t!==null){for(h=i.child=t.child,A=0;h!==null;)A=A|h.lanes|h.childLanes,h=h.sibling;i.childLanes=A&~u}else i.childLanes=0,i.child=null;return yf(t,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zs(i,b!==null?b.cachePool:null),b!==null?y1(i,b):cu(),p1(i);else return i.lanes=i.childLanes=536870912,yf(t,i,b!==null?b.baseLanes|l:l,l)}else b!==null?(Zs(i,b.cachePool),y1(i,b),Ha(),i.memoizedState=null):(t!==null&&Zs(i,null),cu(),Ha());return Nn(t,i,h,l),i.child}function yf(t,i,l,u){var h=gu();return h=h===null?null:{parent:xn._currentValue,pool:h},i.memoizedState={baseLanes:l,cachePool:h},t!==null&&Zs(i,null),cu(),p1(i),t!==null&&Ql(t,i,u,!0),null}function ql(t,i){var l=i.ref;if(l===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(y(284));(t===null||t.ref!==l)&&(i.flags|=2097664)}}function Bu(t,i,l,u,h){return Ir(i),l=mu(t,i,l,u,void 0,h),u=Au(),t!==null&&!En?(Eu(t,i,h),aa(t,i,h)):(dt&&u&&lu(i),i.flags|=1,Nn(t,i,l,h),i.child)}function pf(t,i,l,u,h,A){return Ir(i),i.updateQueue=null,l=T1(i,u,l,h),b1(t),u=Au(),t!==null&&!En?(Eu(t,i,A),aa(t,i,A)):(dt&&u&&lu(i),i.flags|=1,Nn(t,i,l,A),i.child)}function Cf(t,i,l,u,h){if(Ir(i),i.stateNode===null){var A=Kr,b=l.contextType;typeof b=="object"&&b!==null&&(A=Rn(b)),A=new l(u,A),i.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Du,i.stateNode=A,A._reactInternals=i,A=i.stateNode,A.props=u,A.state=i.memoizedState,A.refs={},Xu(i),b=l.contextType,A.context=typeof b=="object"&&b!==null?Rn(b):Kr,A.state=i.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(_u(i,l,b,u),A.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(b=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),b!==A.state&&Du.enqueueReplaceState(A,A.state,null),Jl(i,u,A,h),Kl(),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){A=i.stateNode;var M=i.memoizedProps,L=Nr(l,M);A.props=L;var P=A.context,$=l.contextType;b=Kr,typeof $=="object"&&$!==null&&(b=Rn($));var oe=l.getDerivedStateFromProps;$=typeof oe=="function"||typeof A.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,$||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(M||P!==b)&&sf(i,A,u,b),Ga=!1;var Z=i.memoizedState;A.state=Z,Jl(i,u,A,h),Kl(),P=i.memoizedState,M||Z!==P||Ga?(typeof oe=="function"&&(_u(i,l,oe,u),P=i.memoizedState),(L=Ga||lf(i,l,L,u,Z,P,b))?($||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(i.flags|=4194308)):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=P),A.props=u,A.state=P,A.context=b,u=L):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{A=i.stateNode,Zu(t,i),b=i.memoizedProps,$=Nr(l,b),A.props=$,oe=i.pendingProps,Z=A.context,P=l.contextType,L=Kr,typeof P=="object"&&P!==null&&(L=Rn(P)),M=l.getDerivedStateFromProps,(P=typeof M=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(b!==oe||Z!==L)&&sf(i,A,u,L),Ga=!1,Z=i.memoizedState,A.state=Z,Jl(i,u,A,h),Kl();var J=i.memoizedState;b!==oe||Z!==J||Ga||t!==null&&t.dependencies!==null&&ao(t.dependencies)?(typeof M=="function"&&(_u(i,l,M,u),J=i.memoizedState),($=Ga||lf(i,l,$,u,Z,J,L)||t!==null&&t.dependencies!==null&&ao(t.dependencies))?(P||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(u,J,L),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(u,J,L)),typeof A.componentDidUpdate=="function"&&(i.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof A.componentDidUpdate!="function"||b===t.memoizedProps&&Z===t.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Z===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=J),A.props=u,A.state=J,A.context=L,u=$):(typeof A.componentDidUpdate!="function"||b===t.memoizedProps&&Z===t.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Z===t.memoizedState||(i.flags|=1024),u=!1)}return A=u,ql(t,i),u=(i.flags&128)!==0,A||u?(A=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:A.render(),i.flags|=1,t!==null&&u?(i.child=wr(i,t.child,null,h),i.child=wr(i,null,l,h)):Nn(t,i,l,h),i.memoizedState=A.state,t=i.child):t=aa(t,i,h),t}function wf(t,i,l,u){return kl(),i.flags|=256,Nn(t,i,l,u),i.child}var Lu={dehydrated:null,treeContext:null,retryLane:0};function Uu(t){return{baseLanes:t,cachePool:S1()}}function ku(t,i,l){return t=t!==null?t.childLanes&~l:0,i&&(t|=mi),t}function Sf(t,i,l){var u=i.pendingProps,h=!1,A=(i.flags&128)!==0,b;if((b=A)||(b=t!==null&&t.memoizedState===null?!1:(gn.current&2)!==0),b&&(h=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,t===null){if(dt){if(h?Fa(i):Ha(),dt){var M=vn,L;if(L=M){e:{for(L=M,M=zi;L.nodeType!==8;){if(!M){M=null;break e}if(L=bi(L.nextSibling),L===null){M=null;break e}}M=L}M!==null?(i.memoizedState={dehydrated:M,treeContext:yr!==null?{id:ea,overflow:ta}:null,retryLane:536870912},L=xi(18,null,null,0),L.stateNode=M,L.return=i,i.child=L,Hn=i,vn=null,L=!0):L=!1}L||Cr(i)}if(M=i.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return M.data==="$!"?i.lanes=16:i.lanes=536870912,null;na(i)}return M=u.children,u=u.fallback,h?(Ha(),h=i.mode,M=Fu({mode:"hidden",children:M},h),u=_r(u,h,l,null),M.return=i,u.return=i,M.sibling=u,i.child=M,h=i.child,h.memoizedState=Uu(l),h.childLanes=ku(t,b,l),i.memoizedState=Lu,u):(Fa(i),zu(i,M))}if(L=t.memoizedState,L!==null&&(M=L.dehydrated,M!==null)){if(A)i.flags&256?(Fa(i),i.flags&=-257,i=Hu(t,i,l)):i.memoizedState!==null?(Ha(),i.child=t.child,i.flags|=128,i=null):(Ha(),h=u.fallback,M=i.mode,u=Fu({mode:"visible",children:u.children},M),h=_r(h,M,l,null),h.flags|=2,u.return=i,h.return=i,u.sibling=h,i.child=u,wr(i,t.child,null,l),u=i.child,u.memoizedState=Uu(l),u.childLanes=ku(t,b,l),i.memoizedState=Lu,i=h);else if(Fa(i),M.data==="$!"){if(b=M.nextSibling&&M.nextSibling.dataset,b)var P=b.dgst;b=P,u=Error(y(419)),u.stack="",u.digest=b,zl({value:u,source:null,stack:null}),i=Hu(t,i,l)}else if(En||Ql(t,i,l,!1),b=(l&t.childLanes)!==0,En||b){if(b=Bt,b!==null){if(u=l&-l,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(b.suspendedLanes|l))!==0?0:u,u!==0&&u!==L.retryLane)throw L.retryLane=u,za(t,u),Pn(b,t,u),gf}M.data==="$?"||gc(),i=Hu(t,i,l)}else M.data==="$?"?(i.flags|=128,i.child=t.child,i=Sd.bind(null,t),M._reactRetry=i,i=null):(t=L.treeContext,vn=bi(M.nextSibling),Hn=i,dt=!0,wi=null,zi=!1,t!==null&&(ci[fi++]=ea,ci[fi++]=ta,ci[fi++]=yr,ea=t.id,ta=t.overflow,yr=i),i=zu(i,u.children),i.flags|=4096);return i}return h?(Ha(),h=u.fallback,M=i.mode,L=t.child,P=L.sibling,u=Wa(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&31457280,P!==null?h=Wa(P,h):(h=_r(h,M,l,null),h.flags|=2),h.return=i,u.return=i,u.sibling=h,i.child=u,u=h,h=i.child,M=t.child.memoizedState,M===null?M=Uu(l):(L=M.cachePool,L!==null?(P=xn._currentValue,L=L.parent!==P?{parent:P,pool:P}:L):L=S1(),M={baseLanes:M.baseLanes|l,cachePool:L}),h.memoizedState=M,h.childLanes=ku(t,b,l),i.memoizedState=Lu,u):(Fa(i),l=t.child,t=l.sibling,l=Wa(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,t!==null&&(b=i.deletions,b===null?(i.deletions=[t],i.flags|=16):b.push(t)),i.child=l,i.memoizedState=null,l)}function zu(t,i){return i=Fu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Fu(t,i){return Qf(t,i,0,null)}function Hu(t,i,l){return wr(i,t.child,null,l),t=zu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function bf(t,i,l){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),Gu(t.return,i,l)}function Pu(t,i,l,u,h){var A=t.memoizedState;A===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(A.isBackwards=i,A.rendering=null,A.renderingStartTime=0,A.last=u,A.tail=l,A.tailMode=h)}function Tf(t,i,l){var u=i.pendingProps,h=u.revealOrder,A=u.tail;if(Nn(t,i,u.children,l),u=gn.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bf(t,l,i);else if(t.tag===19)bf(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(At(gn,u),h){case"forwards":for(l=i.child,h=null;l!==null;)t=l.alternate,t!==null&&Xs(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=i.child,i.child=null):(h=l.sibling,l.sibling=null),Pu(i,!1,h,l,A);break;case"backwards":for(l=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Xs(t)===null){i.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}Pu(i,!0,l,null,A);break;case"together":Pu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function aa(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),Ka|=i.lanes,(l&i.childLanes)===0)if(t!==null){if(Ql(t,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(y(153));if(i.child!==null){for(t=i.child,l=Wa(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=Wa(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function Yu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ao(t)))}function ud(t,i,l){switch(i.tag){case 3:Ln(i,i.stateNode.containerInfo),ja(i,xn,t.memoizedState.cache),kl();break;case 27:case 5:Kt(i);break;case 4:Ln(i,i.stateNode.containerInfo);break;case 10:ja(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Fa(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Sf(t,i,l):(Fa(i),t=aa(t,i,l),t!==null?t.sibling:null);Fa(i);break;case 19:var h=(t.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Ql(t,i,l,!1),u=(l&i.childLanes)!==0),h){if(u)return Tf(t,i,l);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),At(gn,gn.current),u)break;return null;case 22:case 23:return i.lanes=0,Ef(t,i,l);case 24:ja(i,xn,t.memoizedState.cache)}return aa(t,i,l)}function vf(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps)En=!0;else{if(!Yu(t,l)&&(i.flags&128)===0)return En=!1,ud(t,i,l);En=(t.flags&131072)!==0}else En=!1,dt&&(i.flags&1048576)!==0&&u1(i,Ps,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,h=u._init;if(u=h(u._payload),i.type=u,typeof u=="function")nc(u)?(t=Nr(u,t),i.tag=1,i=Cf(null,i,u,t,l)):(i.tag=0,i=Bu(null,i,u,t,l));else{if(u!=null){if(h=u.$$typeof,h===te){i.tag=11,i=xf(null,i,u,t,l);break e}else if(h===ue){i.tag=14,i=mf(null,i,u,t,l);break e}}throw i=Ye(u)||u,Error(y(306,i,""))}}return i;case 0:return Bu(t,i,i.type,i.pendingProps,l);case 1:return u=i.type,h=Nr(u,i.pendingProps),Cf(t,i,u,h,l);case 3:e:{if(Ln(i,i.stateNode.containerInfo),t===null)throw Error(y(387));var A=i.pendingProps;h=i.memoizedState,u=h.element,Zu(t,i),Jl(i,A,null,l);var b=i.memoizedState;if(A=b.cache,ja(i,xn,A),A!==h.cache&&Vu(i,[xn],l,!0),Kl(),A=b.element,h.isDehydrated)if(h={element:A,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=wf(t,i,A,l);break e}else if(A!==u){u=ui(Error(y(424)),i),zl(u),i=wf(t,i,A,l);break e}else for(vn=bi(i.stateNode.containerInfo.firstChild),Hn=i,dt=!0,wi=null,zi=!0,l=E1(i,null,A,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(kl(),A===u){i=aa(t,i,l);break e}Nn(t,i,A,l)}i=i.child}return i;case 26:return ql(t,i),t===null?(l=I0(i.type,null,i.pendingProps,null))?i.memoizedState=l:dt||(l=i.type,t=i.pendingProps,u=Co(Ze.current).createElement(l),u[Pt]=i,u[mn]=t,Mn(u,l,t),Nt(u),i.stateNode=u):i.memoizedState=I0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Kt(i),t===null&&dt&&(u=i.stateNode=v0(i.type,i.pendingProps,Ze.current),Hn=i,zi=!0,vn=bi(u.firstChild)),u=i.pendingProps.children,t!==null||dt?Nn(t,i,u,l):i.child=wr(i,null,u,l),ql(t,i),i.child;case 5:return t===null&&dt&&((h=u=vn)&&(u=Fd(u,i.type,i.pendingProps,zi),u!==null?(i.stateNode=u,Hn=i,vn=bi(u.firstChild),zi=!1,h=!0):h=!1),h||Cr(i)),Kt(i),h=i.type,A=i.pendingProps,b=t!==null?t.memoizedProps:null,u=A.children,Mc(h,A)?u=null:b!==null&&Mc(h,b)&&(i.flags|=32),i.memoizedState!==null&&(h=mu(t,i,nd,null,null,l),ds._currentValue=h),ql(t,i),Nn(t,i,u,l),i.child;case 6:return t===null&&dt&&((t=l=vn)&&(l=Hd(l,i.pendingProps,zi),l!==null?(i.stateNode=l,Hn=i,vn=null,t=!0):t=!1),t||Cr(i)),null;case 13:return Sf(t,i,l);case 4:return Ln(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=wr(i,null,u,l):Nn(t,i,u,l),i.child;case 11:return xf(t,i,i.type,i.pendingProps,l);case 7:return Nn(t,i,i.pendingProps,l),i.child;case 8:return Nn(t,i,i.pendingProps.children,l),i.child;case 12:return Nn(t,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,ja(i,i.type,u.value),Nn(t,i,u.children,l),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,Ir(i),h=Rn(h),u=u(h),i.flags|=1,Nn(t,i,u,l),i.child;case 14:return mf(t,i,i.type,i.pendingProps,l);case 15:return Af(t,i,i.type,i.pendingProps,l);case 19:return Tf(t,i,l);case 22:return Ef(t,i,l);case 24:return Ir(i),u=Rn(xn),t===null?(h=gu(),h===null&&(h=Bt,A=hu(),h.pooledCache=A,A.refCount++,A!==null&&(h.pooledCacheLanes|=l),h=A),i.memoizedState={parent:u,cache:h},Xu(i),ja(i,xn,h)):((t.lanes&l)!==0&&(Zu(t,i),Jl(i,null,null,l),Kl()),h=t.memoizedState,A=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ja(i,xn,u)):(u=A.cache,ja(i,xn,u),u!==h.cache&&Vu(i,[xn],l,!0))),Nn(t,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(y(156,i.tag))}var ju=He(null),Mr=null,ra=null;function ja(t,i,l){At(ju,i._currentValue),i._currentValue=l}function la(t){t._currentValue=ju.current,_t(ju)}function Gu(t,i,l){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===l)break;t=t.return}}function Vu(t,i,l,u){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var A=h.dependencies;if(A!==null){var b=h.child;A=A.firstContext;e:for(;A!==null;){var M=A;A=h;for(var L=0;L<i.length;L++)if(M.context===i[L]){A.lanes|=l,M=A.alternate,M!==null&&(M.lanes|=l),Gu(A.return,l,t),u||(b=null);break e}A=M.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(y(341));b.lanes|=l,A=b.alternate,A!==null&&(A.lanes|=l),Gu(b,l,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Ql(t,i,l,u){t=null;for(var h=i,A=!1;h!==null;){if(!A){if((h.flags&524288)!==0)A=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(y(387));if(b=b.memoizedProps,b!==null){var M=h.type;s(h.pendingProps.value,b.value)||(t!==null?t.push(M):t=[M])}}else if(h===Ei.current){if(b=h.alternate,b===null)throw Error(y(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ds):t=[ds])}h=h.return}t!==null&&Vu(i,t,l,u),i.flags|=262144}function ao(t){for(t=t.firstContext;t!==null;){if(!s(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ir(t){Mr=t,ra=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Rn(t){return Nf(Mr,t)}function ro(t,i){return Mr===null&&Ir(t),Nf(t,i)}function Nf(t,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ra===null){if(t===null)throw Error(y(308));ra=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ra=ra.next=i;return l}var Ga=!1;function Xu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zu(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Va(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xa(t,i,l){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=Fs(t),s1(t,null,l),i}return zs(t,u,i,l),Fs(t)}function Wl(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194176)!==0)){var u=i.lanes;u&=t.pendingLanes,l|=u,i.lanes=l,zr(t,l)}}function qu(t,i){var l=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,A=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};A===null?h=A=b:A=A.next=b,l=l.next}while(l!==null);A===null?h=A=i:A=A.next=i}else h=A=i;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:A,shared:u.shared,callbacks:u.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}var Qu=!1;function Kl(){if(Qu){var t=il;if(t!==null)throw t}}function Jl(t,i,l,u){Qu=!1;var h=t.updateQueue;Ga=!1;var A=h.firstBaseUpdate,b=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var L=M,P=L.next;L.next=null,b===null?A=P:b.next=P,b=L;var $=t.alternate;$!==null&&($=$.updateQueue,M=$.lastBaseUpdate,M!==b&&(M===null?$.firstBaseUpdate=P:M.next=P,$.lastBaseUpdate=L))}if(A!==null){var oe=h.baseState;b=0,$=P=L=null,M=A;do{var Z=M.lane&-536870913,J=Z!==M.lane;if(J?(ct&Z)===Z:(u&Z)===Z){Z!==0&&Z===nl&&(Qu=!0),$!==null&&($=$.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Ie=t,Ge=M;Z=i;var Qt=l;switch(Ge.tag){case 1:if(Ie=Ge.payload,typeof Ie=="function"){oe=Ie.call(Qt,oe,Z);break e}oe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ge.payload,Z=typeof Ie=="function"?Ie.call(Qt,oe,Z):Ie,Z==null)break e;oe=Pe({},oe,Z);break e;case 2:Ga=!0}}Z=M.callback,Z!==null&&(t.flags|=64,J&&(t.flags|=8192),J=h.callbacks,J===null?h.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:M.tag,payload:M.payload,callback:M.callback,next:null},$===null?(P=$=J,L=oe):$=$.next=J,b|=Z;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;J=M,M=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);$===null&&(L=oe),h.baseState=L,h.firstBaseUpdate=P,h.lastBaseUpdate=$,A===null&&(h.shared.lanes=0),Ka|=b,t.lanes=b,t.memoizedState=oe}}function Mf(t,i){if(typeof t!="function")throw Error(y(191,t));t.call(i)}function If(t,i){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Mf(l[t],i)}function $l(t,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&t)===t){u=void 0;var A=l.create,b=l.inst;u=A(),b.destroy=u}l=l.next}while(l!==h)}}catch(M){Ot(i,i.return,M)}}function Za(t,i,l){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var A=h.next;u=A;do{if((u.tag&t)===t){var b=u.inst,M=b.destroy;if(M!==void 0){b.destroy=void 0,h=i;var L=l;try{M()}catch(P){Ot(h,L,P)}}}u=u.next}while(u!==A)}}catch(P){Ot(i,i.return,P)}}function Of(t){var i=t.updateQueue;if(i!==null){var l=t.stateNode;try{If(i,l)}catch(u){Ot(t,t.return,u)}}}function _f(t,i,l){l.props=Nr(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(u){Ot(t,i,u)}}function Or(t,i){try{var l=t.ref;if(l!==null){var u=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof l=="function"?t.refCleanup=l(h):l.current=h}}catch(A){Ot(t,i,A)}}function Kn(t,i){var l=t.ref,u=t.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(h){Ot(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){Ot(t,i,h)}else l.current=null}function Df(t){var i=t.type,l=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(h){Ot(t,t.return,h)}}function Rf(t,i,l){try{var u=t.stateNode;Bd(u,t.type,l,i),u[mn]=i}catch(h){Ot(t,t.return,h)}}function Bf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Wu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ku(t,i,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(t,i):l.insertBefore(t,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(t,l)):(i=l,i.appendChild(t)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=po));else if(u!==4&&u!==27&&(t=t.child,t!==null))for(Ku(t,i,l),t=t.sibling;t!==null;)Ku(t,i,l),t=t.sibling}function lo(t,i,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(u!==4&&u!==27&&(t=t.child,t!==null))for(lo(t,i,l),t=t.sibling;t!==null;)lo(t,i,l),t=t.sibling}var sa=!1,Zt=!1,Ju=!1,Lf=typeof WeakSet=="function"?WeakSet:Set,yn=null,Uf=!1;function cd(t,i){if(t=t.containerInfo,vc=No,t=E(t),S(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,A=u.focusNode;u=u.focusOffset;try{l.nodeType,A.nodeType}catch{l=null;break e}var b=0,M=-1,L=-1,P=0,$=0,oe=t,Z=null;t:for(;;){for(var J;oe!==l||h!==0&&oe.nodeType!==3||(M=b+h),oe!==A||u!==0&&oe.nodeType!==3||(L=b+u),oe.nodeType===3&&(b+=oe.nodeValue.length),(J=oe.firstChild)!==null;)Z=oe,oe=J;for(;;){if(oe===t)break t;if(Z===l&&++P===h&&(M=b),Z===A&&++$===u&&(L=b),(J=oe.nextSibling)!==null)break;oe=Z,Z=oe.parentNode}oe=J}l=M===-1||L===-1?null:{start:M,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Nc={focusedElem:t,selectionRange:l},No=!1,yn=i;yn!==null;)if(i=yn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,yn=t;else for(;yn!==null;){switch(i=yn,A=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&A!==null){t=void 0,l=i,h=A.memoizedProps,A=A.memoizedState,u=l.stateNode;try{var Ie=Nr(l.type,h,l.elementType===l.type);t=u.getSnapshotBeforeUpdate(Ie,A),u.__reactInternalSnapshotBeforeUpdate=t}catch(Ge){Ot(l,l.return,Ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,l=t.nodeType,l===9)_c(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_c(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(y(163))}if(t=i.sibling,t!==null){t.return=i.return,yn=t;break}yn=i.return}return Ie=Uf,Uf=!1,Ie}function kf(t,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ua(t,l),u&4&&$l(5,l);break;case 1:if(ua(t,l),u&4)if(t=l.stateNode,i===null)try{t.componentDidMount()}catch(M){Ot(l,l.return,M)}else{var h=Nr(l.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(M){Ot(l,l.return,M)}}u&64&&Of(l),u&512&&Or(l,l.return);break;case 3:if(ua(t,l),u&64&&(u=l.updateQueue,u!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{If(u,t)}catch(M){Ot(l,l.return,M)}}break;case 26:ua(t,l),u&512&&Or(l,l.return);break;case 27:case 5:ua(t,l),i===null&&u&4&&Df(l),u&512&&Or(l,l.return);break;case 12:ua(t,l);break;case 13:ua(t,l),u&4&&Hf(t,l);break;case 22:if(h=l.memoizedState!==null||sa,!h){i=i!==null&&i.memoizedState!==null||Zt;var A=sa,b=Zt;sa=h,(Zt=i)&&!b?qa(t,l,(l.subtreeFlags&8772)!==0):ua(t,l),sa=A,Zt=b}u&512&&(l.memoizedProps.mode==="manual"?Or(l,l.return):Kn(l,l.return));break;default:ua(t,l)}}function zf(t){var i=t.alternate;i!==null&&(t.alternate=null,zf(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ml(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var un=null,Jn=!1;function oa(t,i,l){for(l=l.child;l!==null;)Ff(t,i,l),l=l.sibling}function Ff(t,i,l){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(Dt,l)}catch{}switch(l.tag){case 26:Zt||Kn(l,i),oa(t,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Zt||Kn(l,i);var u=un,h=Jn;for(un=l.stateNode,oa(t,i,l),l=l.stateNode,i=l.attributes;i.length;)l.removeAttributeNode(i[0]);Ml(l),un=u,Jn=h;break;case 5:Zt||Kn(l,i);case 6:h=un;var A=Jn;if(un=null,oa(t,i,l),un=h,Jn=A,un!==null)if(Jn)try{t=un,u=l.stateNode,t.nodeType===8?t.parentNode.removeChild(u):t.removeChild(u)}catch(b){Ot(l,i,b)}else try{un.removeChild(l.stateNode)}catch(b){Ot(l,i,b)}break;case 18:un!==null&&(Jn?(i=un,l=l.stateNode,i.nodeType===8?Oc(i.parentNode,l):i.nodeType===1&&Oc(i,l),As(i)):Oc(un,l.stateNode));break;case 4:u=un,h=Jn,un=l.stateNode.containerInfo,Jn=!0,oa(t,i,l),un=u,Jn=h;break;case 0:case 11:case 14:case 15:Zt||Za(2,l,i),Zt||Za(4,l,i),oa(t,i,l);break;case 1:Zt||(Kn(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&_f(l,i,u)),oa(t,i,l);break;case 21:oa(t,i,l);break;case 22:Zt||Kn(l,i),Zt=(u=Zt)||l.memoizedState!==null,oa(t,i,l),Zt=u;break;default:oa(t,i,l)}}function Hf(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{As(t)}catch(l){Ot(i,i.return,l)}}function fd(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Lf),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Lf),i;default:throw Error(y(435,t.tag))}}function $u(t,i){var l=fd(t);i.forEach(function(u){var h=bd.bind(null,t,u);l.has(u)||(l.add(u),u.then(h,h))})}function di(t,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u],A=t,b=i,M=b;e:for(;M!==null;){switch(M.tag){case 27:case 5:un=M.stateNode,Jn=!1;break e;case 3:un=M.stateNode.containerInfo,Jn=!0;break e;case 4:un=M.stateNode.containerInfo,Jn=!0;break e}M=M.return}if(un===null)throw Error(y(160));Ff(A,b,h),un=null,Jn=!1,A=h.alternate,A!==null&&(A.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Pf(i,t),i=i.sibling}var Si=null;function Pf(t,i){var l=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:di(i,t),gi(t),u&4&&(Za(3,t,t.return),$l(3,t),Za(5,t,t.return));break;case 1:di(i,t),gi(t),u&512&&(Zt||l===null||Kn(l,l.return)),u&64&&sa&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var h=Si;if(di(i,t),gi(t),u&512&&(Zt||l===null||Kn(l,l.return)),u&4){var A=l!==null?l.memoizedState:null;if(u=t.memoizedState,l===null)if(u===null)if(t.stateNode===null){e:{u=t.type,l=t.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":A=h.getElementsByTagName("title")[0],(!A||A[or]||A[Pt]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=h.createElement(u),h.head.insertBefore(A,h.querySelector("head > title"))),Mn(A,u,l),A[Pt]=t,Nt(A),u=A;break e;case"link":var b=D0("link","href",h).get(u+(l.href||""));if(b){for(var M=0;M<b.length;M++)if(A=b[M],A.getAttribute("href")===(l.href==null?null:l.href)&&A.getAttribute("rel")===(l.rel==null?null:l.rel)&&A.getAttribute("title")===(l.title==null?null:l.title)&&A.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(M,1);break t}}A=h.createElement(u),Mn(A,u,l),h.head.appendChild(A);break;case"meta":if(b=D0("meta","content",h).get(u+(l.content||""))){for(M=0;M<b.length;M++)if(A=b[M],A.getAttribute("content")===(l.content==null?null:""+l.content)&&A.getAttribute("name")===(l.name==null?null:l.name)&&A.getAttribute("property")===(l.property==null?null:l.property)&&A.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&A.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(M,1);break t}}A=h.createElement(u),Mn(A,u,l),h.head.appendChild(A);break;default:throw Error(y(468,u))}A[Pt]=t,Nt(A),u=A}t.stateNode=u}else R0(h,t.type,t.stateNode);else t.stateNode=_0(h,u,t.memoizedProps);else A!==u?(A===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):A.count--,u===null?R0(h,t.type,t.stateNode):_0(h,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Rf(t,t.memoizedProps,l.memoizedProps)}break;case 27:if(u&4&&t.alternate===null){h=t.stateNode,A=t.memoizedProps;try{for(var L=h.firstChild;L;){var P=L.nextSibling,$=L.nodeName;L[or]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&L.rel.toLowerCase()==="stylesheet"||h.removeChild(L),L=P}for(var oe=t.type,Z=h.attributes;Z.length;)h.removeAttributeNode(Z[0]);Mn(h,oe,A),h[Pt]=t,h[mn]=A}catch(Ie){Ot(t,t.return,Ie)}}case 5:if(di(i,t),gi(t),u&512&&(Zt||l===null||Kn(l,l.return)),t.flags&32){h=t.stateNode;try{ba(h,"")}catch(Ie){Ot(t,t.return,Ie)}}u&4&&t.stateNode!=null&&(h=t.memoizedProps,Rf(t,h,l!==null?l.memoizedProps:h)),u&1024&&(Ju=!0);break;case 6:if(di(i,t),gi(t),u&4){if(t.stateNode===null)throw Error(y(162));u=t.memoizedProps,l=t.stateNode;try{l.nodeValue=u}catch(Ie){Ot(t,t.return,Ie)}}break;case 3:if(bo=null,h=Si,Si=wo(i.containerInfo),di(i,t),Si=h,gi(t),u&4&&l!==null&&l.memoizedState.isDehydrated)try{As(i.containerInfo)}catch(Ie){Ot(t,t.return,Ie)}Ju&&(Ju=!1,Yf(t));break;case 4:u=Si,Si=wo(t.stateNode.containerInfo),di(i,t),gi(t),Si=u;break;case 12:di(i,t),gi(t);break;case 13:di(i,t),gi(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(oc=an()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,$u(t,u)));break;case 22:if(u&512&&(Zt||l===null||Kn(l,l.return)),L=t.memoizedState!==null,P=l!==null&&l.memoizedState!==null,$=sa,oe=Zt,sa=$||L,Zt=oe||P,di(i,t),Zt=oe,sa=$,gi(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=L?i._visibility&-2:i._visibility|1,L&&(i=sa||Zt,l===null||P||i||sl(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(l=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(l===null){P=l=i;try{if(h=P.stateNode,L)A=h.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{b=P.stateNode,M=P.memoizedProps.style;var J=M!=null&&M.hasOwnProperty("display")?M.display:null;b.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ie){Ot(P,P.return,Ie)}}}else if(i.tag===6){if(l===null){P=i;try{P.stateNode.nodeValue=L?"":P.memoizedProps}catch(Ie){Ot(P,P.return,Ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,$u(t,l))));break;case 19:di(i,t),gi(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,$u(t,u)));break;case 21:break;default:di(i,t),gi(t)}}function gi(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var l=t.return;l!==null;){if(Bf(l)){var u=l;break e}l=l.return}throw Error(y(160))}switch(u.tag){case 27:var h=u.stateNode,A=Wu(t);lo(t,A,h);break;case 5:var b=u.stateNode;u.flags&32&&(ba(b,""),u.flags&=-33);var M=Wu(t);lo(t,M,b);break;case 3:case 4:var L=u.stateNode.containerInfo,P=Wu(t);Ku(t,P,L);break;default:throw Error(y(161))}}}catch($){Ot(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Yf(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Yf(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ua(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)kf(t,i.alternate,i),i=i.sibling}function sl(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Za(4,i,i.return),sl(i);break;case 1:Kn(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&_f(i,i.return,l),sl(i);break;case 26:case 27:case 5:Kn(i,i.return),sl(i);break;case 22:Kn(i,i.return),i.memoizedState===null&&sl(i);break;default:sl(i)}t=t.sibling}}function qa(t,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=t,A=i,b=A.flags;switch(A.tag){case 0:case 11:case 15:qa(h,A,l),$l(4,A);break;case 1:if(qa(h,A,l),u=A,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ot(u,u.return,P)}if(u=A,h=u.updateQueue,h!==null){var M=u.stateNode;try{var L=h.shared.hiddenCallbacks;if(L!==null)for(h.shared.hiddenCallbacks=null,h=0;h<L.length;h++)Mf(L[h],M)}catch(P){Ot(u,u.return,P)}}l&&b&64&&Of(A),Or(A,A.return);break;case 26:case 27:case 5:qa(h,A,l),l&&u===null&&b&4&&Df(A),Or(A,A.return);break;case 12:qa(h,A,l);break;case 13:qa(h,A,l),l&&b&4&&Hf(h,A);break;case 22:A.memoizedState===null&&qa(h,A,l),Or(A,A.return);break;default:qa(h,A,l)}i=i.sibling}}function ec(t,i){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&jl(l))}function tc(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&jl(t))}function Qa(t,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jf(t,i,l,u),i=i.sibling}function jf(t,i,l,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Qa(t,i,l,u),h&2048&&$l(9,i);break;case 3:Qa(t,i,l,u),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&jl(t)));break;case 12:if(h&2048){Qa(t,i,l,u),t=i.stateNode;try{var A=i.memoizedProps,b=A.id,M=A.onPostCommit;typeof M=="function"&&M(b,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){Ot(i,i.return,L)}}else Qa(t,i,l,u);break;case 23:break;case 22:A=i.stateNode,i.memoizedState!==null?A._visibility&4?Qa(t,i,l,u):es(t,i):A._visibility&4?Qa(t,i,l,u):(A._visibility|=4,ol(t,i,l,u,(i.subtreeFlags&10256)!==0)),h&2048&&ec(i.alternate,i);break;case 24:Qa(t,i,l,u),h&2048&&tc(i.alternate,i);break;default:Qa(t,i,l,u)}}function ol(t,i,l,u,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var A=t,b=i,M=l,L=u,P=b.flags;switch(b.tag){case 0:case 11:case 15:ol(A,b,M,L,h),$l(8,b);break;case 23:break;case 22:var $=b.stateNode;b.memoizedState!==null?$._visibility&4?ol(A,b,M,L,h):es(A,b):($._visibility|=4,ol(A,b,M,L,h)),h&&P&2048&&ec(b.alternate,b);break;case 24:ol(A,b,M,L,h),h&&P&2048&&tc(b.alternate,b);break;default:ol(A,b,M,L,h)}i=i.sibling}}function es(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=t,u=i,h=u.flags;switch(u.tag){case 22:es(l,u),h&2048&&ec(u.alternate,u);break;case 24:es(l,u),h&2048&&tc(u.alternate,u);break;default:es(l,u)}i=i.sibling}}var ts=8192;function ul(t){if(t.subtreeFlags&ts)for(t=t.child;t!==null;)Gf(t),t=t.sibling}function Gf(t){switch(t.tag){case 26:ul(t),t.flags&ts&&t.memoizedState!==null&&$d(Si,t.memoizedState,t.memoizedProps);break;case 5:ul(t);break;case 3:case 4:var i=Si;Si=wo(t.stateNode.containerInfo),ul(t),Si=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ts,ts=16777216,ul(t),ts=i):ul(t));break;default:ul(t)}}function Vf(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ns(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];yn=u,Zf(u,t)}Vf(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xf(t),t=t.sibling}function Xf(t){switch(t.tag){case 0:case 11:case 15:ns(t),t.flags&2048&&Za(9,t,t.return);break;case 3:ns(t);break;case 12:ns(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,so(t)):ns(t);break;default:ns(t)}}function so(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];yn=u,Zf(u,t)}Vf(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Za(8,i,i.return),so(i);break;case 22:l=i.stateNode,l._visibility&4&&(l._visibility&=-5,so(i));break;default:so(i)}t=t.sibling}}function Zf(t,i){for(;yn!==null;){var l=yn;switch(l.tag){case 0:case 11:case 15:Za(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:jl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,yn=u;else e:for(l=t;yn!==null;){u=yn;var h=u.sibling,A=u.return;if(zf(u),u===l){yn=null;break e}if(h!==null){h.return=A,yn=h;break e}yn=A}}}function hd(t,i,l,u){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,i,l,u){return new hd(t,i,l,u)}function nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wa(t,i){var l=t.alternate;return l===null?(l=xi(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&31457280,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function qf(t,i){t.flags&=31457282;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,i=l.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function oo(t,i,l,u,h,A){var b=0;if(u=t,typeof t=="function")nc(t)&&(b=1);else if(typeof t=="string")b=Kd(t,l,Ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return _r(l.children,h,A,i);case w:b=8,h|=24;break;case R:return t=xi(12,l,i,h|2),t.elementType=R,t.lanes=A,t;case le:return t=xi(13,l,i,h),t.elementType=le,t.lanes=A,t;case ge:return t=xi(19,l,i,h),t.elementType=ge,t.lanes=A,t;case ae:return Qf(l,h,A,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:case ee:b=10;break e;case K:b=9;break e;case te:b=11;break e;case ue:b=14;break e;case Ee:b=16,u=null;break e}b=29,l=Error(y(130,t===null?"null":typeof t,"")),u=null}return i=xi(b,l,i,h),i.elementType=t,i.type=u,i.lanes=A,i}function _r(t,i,l,u){return t=xi(7,t,u,i),t.lanes=l,t}function Qf(t,i,l,u){t=xi(22,t,u,i),t.elementType=ae,t.lanes=l;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var A=h._current;if(A===null)throw Error(y(456));if((h._pendingVisibility&2)===0){var b=za(A,2);b!==null&&(h._pendingVisibility|=2,Pn(b,A,2))}},attach:function(){var A=h._current;if(A===null)throw Error(y(456));if((h._pendingVisibility&2)!==0){var b=za(A,2);b!==null&&(h._pendingVisibility&=-3,Pn(b,A,2))}}};return t.stateNode=h,t}function ic(t,i,l){return t=xi(6,t,null,i),t.lanes=l,t}function ac(t,i,l){return i=xi(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function ca(t){t.flags|=4}function Wf(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!B0(i)){if(i=hi.current,i!==null&&((ct&4194176)===ct?Fi!==null:(ct&62914560)!==ct&&(ct&536870912)===0||i!==Fi))throw Hl=uu,h1;t.flags|=8192}}function uo(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Xi():536870912,t.lanes|=i,fl|=i)}function is(t,i){if(!dt)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function jt(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,u=0;if(i)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=l,i}function dd(t,i,l){var u=i.pendingProps;switch(su(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(i),null;case 1:return jt(i),null;case 3:return l=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),la(xn),ai(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Ul(i)?ca(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wi!==null&&(hc(wi),wi=null))),jt(i),null;case 26:return l=i.memoizedState,t===null?(ca(i),l!==null?(jt(i),Wf(i,l)):(jt(i),i.flags&=-16777217)):l?l!==t.memoizedState?(ca(i),jt(i),Wf(i,l)):(jt(i),i.flags&=-16777217):(t.memoizedProps!==u&&ca(i),jt(i),i.flags&=-16777217),null;case 27:xt(i),l=Ze.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&ca(i);else{if(!u){if(i.stateNode===null)throw Error(y(166));return jt(i),null}t=Ut.current,Ul(i)?c1(i):(t=v0(h,u,l),i.stateNode=t,ca(i))}return jt(i),null;case 5:if(xt(i),l=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&ca(i);else{if(!u){if(i.stateNode===null)throw Error(y(166));return jt(i),null}if(t=Ut.current,Ul(i))c1(i);else{switch(h=Co(Ze.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?h.createElement(l,{is:u.is}):h.createElement(l)}}t[Pt]=i,t[mn]=u;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Mn(t,l,u),l){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ca(i)}}return jt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&ca(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(y(166));if(t=Ze.current,Ul(i)){if(t=i.stateNode,l=i.memoizedProps,u=null,h=Hn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}t[Pt]=i,t=!!(t.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||p0(t.nodeValue,l)),t||Cr(i)}else t=Co(t).createTextNode(u),t[Pt]=i,i.stateNode=t}return jt(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ul(i),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(y(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(y(317));h[Pt]=i}else kl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jt(i),h=!1}else wi!==null&&(hc(wi),wi=null),h=!0;if(!h)return i.flags&256?(na(i),i):(na(i),null)}if(na(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,t=t!==null&&t.memoizedState!==null,l){u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var A=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(A=u.memoizedState.cachePool.pool),A!==h&&(u.flags|=2048)}return l!==t&&l&&(i.child.flags|=8192),uo(i,i.updateQueue),jt(i),null;case 4:return ai(),t===null&&Sc(i.stateNode.containerInfo),jt(i),null;case 10:return la(i.type),jt(i),null;case 19:if(_t(gn),h=i.memoizedState,h===null)return jt(i),null;if(u=(i.flags&128)!==0,A=h.rendering,A===null)if(u)is(h,!1);else{if(qt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(A=Xs(t),A!==null){for(i.flags|=128,is(h,!1),t=A.updateQueue,i.updateQueue=t,uo(i,t),i.subtreeFlags=0,t=l,l=i.child;l!==null;)qf(l,t),l=l.sibling;return At(gn,gn.current&1|2),i.child}t=t.sibling}h.tail!==null&&an()>co&&(i.flags|=128,u=!0,is(h,!1),i.lanes=4194304)}else{if(!u)if(t=Xs(A),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,uo(i,t),is(h,!0),h.tail===null&&h.tailMode==="hidden"&&!A.alternate&&!dt)return jt(i),null}else 2*an()-h.renderingStartTime>co&&l!==536870912&&(i.flags|=128,u=!0,is(h,!1),i.lanes=4194304);h.isBackwards?(A.sibling=i.child,i.child=A):(t=h.last,t!==null?t.sibling=A:i.child=A,h.last=A)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=an(),i.sibling=null,t=gn.current,At(gn,u?t&1|2:t&1),i):(jt(i),null);case 22:case 23:return na(i),fu(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(jt(i),i.subtreeFlags&6&&(i.flags|=8192)):jt(i),l=i.updateQueue,l!==null&&uo(i,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),t!==null&&_t(Sr),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),la(xn),jt(i),null;case 25:return null}throw Error(y(156,i.tag))}function gd(t,i){switch(su(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return la(xn),ai(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return xt(i),null;case 13:if(na(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(y(340));kl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return _t(gn),null;case 4:return ai(),null;case 10:return la(i.type),null;case 22:case 23:return na(i),fu(),t!==null&&_t(Sr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return la(xn),null;case 25:return null;default:return null}}function Kf(t,i){switch(su(i),i.tag){case 3:la(xn),ai();break;case 26:case 27:case 5:xt(i);break;case 4:ai();break;case 13:na(i);break;case 19:_t(gn);break;case 10:la(i.type);break;case 22:case 23:na(i),fu(),t!==null&&_t(Sr);break;case 24:la(xn)}}var xd={getCacheForType:function(t){var i=Rn(xn),l=i.data.get(t);return l===void 0&&(l=t(),i.data.set(t,l)),l}},md=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Bt=null,nt=null,ct=0,Lt=0,$n=null,fa=!1,cl=!1,rc=!1,ha=0,qt=0,Ka=0,Dr=0,lc=0,mi=0,fl=0,as=null,Pi=null,sc=!1,oc=0,co=1/0,fo=null,Ja=null,ho=!1,Rr=null,rs=0,uc=0,cc=null,ls=0,fc=null;function ei(){if((Gt&2)!==0&&ct!==0)return ct&-ct;if(X.T!==null){var t=nl;return t!==0?t:yc()}return Ii()}function Jf(){mi===0&&(mi=(ct&536870912)===0||dt?fn():536870912);var t=hi.current;return t!==null&&(t.flags|=32),mi}function Pn(t,i,l){(t===Bt&&Lt===2||t.cancelPendingCommit!==null)&&(hl(t,0),da(t,ct,mi,!1)),In(t,l),((Gt&2)===0||t!==Bt)&&(t===Bt&&((Gt&2)===0&&(Dr|=l),qt===4&&da(t,ct,mi,!1)),Yi(t))}function $f(t,i,l){if((Gt&6)!==0)throw Error(y(327));var u=!l&&(i&60)===0&&(i&t.expiredLanes)===0||wn(t,i),h=u?yd(t,i):xc(t,i,!0),A=u;do{if(h===0){cl&&!u&&da(t,i,0,!1);break}else if(h===6)da(t,i,0,!fa);else{if(l=t.current.alternate,A&&!Ad(l)){h=xc(t,i,!1),A=!1;continue}if(h===2){if(A=i,t.errorRecoveryDisabledLanes&A)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var M=t;h=as;var L=M.current.memoizedState.isDehydrated;if(L&&(hl(M,b).flags|=256),b=xc(M,b,!1),b!==2){if(rc&&!L){M.errorRecoveryDisabledLanes|=A,Dr|=A,h=4;break e}A=Pi,Pi=h,A!==null&&hc(A)}h=b}if(A=!1,h!==2)continue}}if(h===1){hl(t,0),da(t,i,0,!0);break}e:{switch(u=t,h){case 0:case 1:throw Error(y(345));case 4:if((i&4194176)===i){da(u,i,mi,!fa);break e}break;case 2:Pi=null;break;case 3:case 5:break;default:throw Error(y(329))}if(u.finishedWork=l,u.finishedLanes=i,(i&62914560)===i&&(A=oc+300-an(),10<A)){if(da(u,i,mi,!fa),sr(u,0)!==0)break e;u.timeoutHandle=S0(e0.bind(null,u,l,Pi,fo,sc,i,mi,Dr,fl,fa,2,-0,0),A);break e}e0(u,l,Pi,fo,sc,i,mi,Dr,fl,fa,0,-0,0)}}break}while(!0);Yi(t)}function hc(t){Pi===null?Pi=t:Pi.push.apply(Pi,t)}function e0(t,i,l,u,h,A,b,M,L,P,$,oe,Z){var J=i.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(hs={stylesheets:null,count:0,unsuspend:Jd},Gf(i),i=e2(),i!==null)){t.cancelPendingCommit=i(s0.bind(null,t,l,u,h,b,M,L,1,oe,Z)),da(t,A,b,!P);return}s0(t,l,u,h,b,M,L,$,oe,Z)}function Ad(t){for(var i=t;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var h=l[u],A=h.getSnapshot;h=h.value;try{if(!s(A(),h))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function da(t,i,l,u){i&=~lc,i&=~Dr,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var h=i;0<h;){var A=31-at(h),b=1<<A;u[A]=-1,h&=~b}l!==0&&Mi(t,l,i)}function go(){return(Gt&6)===0?(ss(0),!1):!0}function dc(){if(nt!==null){if(Lt===0)var t=nt.return;else t=nt,ra=Mr=null,yu(t),el=null,Pl=0,t=nt;for(;t!==null;)Kf(t.alternate,t),t=t.return;nt=null}}function hl(t,i){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Ud(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),dc(),Bt=t,nt=l=Wa(t.current,null),ct=i,Lt=0,$n=null,fa=!1,cl=wn(t,i),rc=!1,fl=mi=lc=Dr=Ka=qt=0,Pi=as=null,sc=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var h=31-at(u),A=1<<h;i|=t[h],u&=~A}return ha=i,ks(),l}function t0(t,i){Ke=null,X.H=Hi,i===Fl?(i=x1(),Lt=3):i===h1?(i=x1(),Lt=4):Lt=i===gf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,$n=i,nt===null&&(qt=1,io(t,ui(i,t.current)))}function n0(){var t=X.H;return X.H=Hi,t===null?Hi:t}function i0(){var t=X.A;return X.A=xd,t}function gc(){qt=4,fa||(ct&4194176)!==ct&&hi.current!==null||(cl=!0),(Ka&134217727)===0&&(Dr&134217727)===0||Bt===null||da(Bt,ct,mi,!1)}function xc(t,i,l){var u=Gt;Gt|=2;var h=n0(),A=i0();(Bt!==t||ct!==i)&&(fo=null,hl(t,i)),i=!1;var b=qt;e:do try{if(Lt!==0&&nt!==null){var M=nt,L=$n;switch(Lt){case 8:dc(),b=6;break e;case 3:case 2:case 6:hi.current===null&&(i=!0);var P=Lt;if(Lt=0,$n=null,dl(t,M,L,P),l&&cl){b=0;break e}break;default:P=Lt,Lt=0,$n=null,dl(t,M,L,P)}}Ed(),b=qt;break}catch($){t0(t,$)}while(!0);return i&&t.shellSuspendCounter++,ra=Mr=null,Gt=u,X.H=h,X.A=A,nt===null&&(Bt=null,ct=0,ks()),b}function Ed(){for(;nt!==null;)a0(nt)}function yd(t,i){var l=Gt;Gt|=2;var u=n0(),h=i0();Bt!==t||ct!==i?(fo=null,co=an()+500,hl(t,i)):cl=wn(t,i);e:do try{if(Lt!==0&&nt!==null){i=nt;var A=$n;t:switch(Lt){case 1:Lt=0,$n=null,dl(t,i,A,1);break;case 2:if(d1(A)){Lt=0,$n=null,r0(i);break}i=function(){Lt===2&&Bt===t&&(Lt=7),Yi(t)},A.then(i,i);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:d1(A)?(Lt=0,$n=null,r0(i)):(Lt=0,$n=null,dl(t,i,A,7));break;case 5:var b=null;switch(nt.tag){case 26:b=nt.memoizedState;case 5:case 27:var M=nt;if(!b||B0(b)){Lt=0,$n=null;var L=M.sibling;if(L!==null)nt=L;else{var P=M.return;P!==null?(nt=P,xo(P)):nt=null}break t}}Lt=0,$n=null,dl(t,i,A,5);break;case 6:Lt=0,$n=null,dl(t,i,A,6);break;case 8:dc(),qt=6;break e;default:throw Error(y(462))}}pd();break}catch($){t0(t,$)}while(!0);return ra=Mr=null,X.H=u,X.A=h,Gt=l,nt!==null?0:(Bt=null,ct=0,ks(),qt)}function pd(){for(;nt!==null&&!Ur();)a0(nt)}function a0(t){var i=vf(t.alternate,t,ha);t.memoizedProps=t.pendingProps,i===null?xo(t):nt=i}function r0(t){var i=t,l=i.alternate;switch(i.tag){case 15:case 0:i=pf(l,i,i.pendingProps,i.type,void 0,ct);break;case 11:i=pf(l,i,i.pendingProps,i.type.render,i.ref,ct);break;case 5:yu(i);default:Kf(l,i),i=nt=qf(i,ha),i=vf(l,i,ha)}t.memoizedProps=t.pendingProps,i===null?xo(t):nt=i}function dl(t,i,l,u){ra=Mr=null,yu(i),el=null,Pl=0;var h=i.return;try{if(od(t,h,i,l,ct)){qt=1,io(t,ui(l,t.current)),nt=null;return}}catch(A){if(h!==null)throw nt=h,A;qt=1,io(t,ui(l,t.current)),nt=null;return}i.flags&32768?(dt||u===1?t=!0:cl||(ct&536870912)!==0?t=!1:(fa=t=!0,(u===2||u===3||u===6)&&(u=hi.current,u!==null&&u.tag===13&&(u.flags|=16384))),l0(i,t)):xo(i)}function xo(t){var i=t;do{if((i.flags&32768)!==0){l0(i,fa);return}t=i.return;var l=dd(i.alternate,i,ha);if(l!==null){nt=l;return}if(i=i.sibling,i!==null){nt=i;return}nt=i=t}while(i!==null);qt===0&&(qt=5)}function l0(t,i){do{var l=gd(t.alternate,t);if(l!==null){l.flags&=32767,nt=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(t=t.sibling,t!==null)){nt=t;return}nt=t=l}while(t!==null);qt=6,nt=null}function s0(t,i,l,u,h,A,b,M,L,P){var $=X.T,oe=pe.p;try{pe.p=2,X.T=null,Cd(t,i,l,u,oe,h,A,b,M,L,P)}finally{X.T=$,pe.p=oe}}function Cd(t,i,l,u,h,A,b,M){do gl();while(Rr!==null);if((Gt&6)!==0)throw Error(y(327));var L=t.finishedWork;if(u=t.finishedLanes,L===null)return null;if(t.finishedWork=null,t.finishedLanes=0,L===t.current)throw Error(y(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=L.lanes|L.childLanes;if(P|=au,Vo(t,u,P,A,b,M),t===Bt&&(nt=Bt=null,ct=0),(L.subtreeFlags&10256)===0&&(L.flags&10256)===0||ho||(ho=!0,uc=P,cc=l,Td(Zn,function(){return gl(),null})),l=(L.flags&15990)!==0,(L.subtreeFlags&15990)!==0||l?(l=X.T,X.T=null,A=pe.p,pe.p=2,b=Gt,Gt|=4,cd(t,L),Pf(L,t),v(Nc,t.containerInfo),No=!!vc,Nc=vc=null,t.current=L,kf(t,L.alternate,L),Ms(),Gt=b,pe.p=A,X.T=l):t.current=L,ho?(ho=!1,Rr=t,rs=u):o0(t,P),P=t.pendingLanes,P===0&&(Ja=null),Jt(L.stateNode),Yi(t),i!==null)for(h=t.onRecoverableError,L=0;L<i.length;L++)P=i[L],h(P.value,{componentStack:P.stack});return(rs&3)!==0&&gl(),P=t.pendingLanes,(u&4194218)!==0&&(P&42)!==0?t===fc?ls++:(ls=0,fc=t):ls=0,ss(0),null}function o0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,jl(i)))}function gl(){if(Rr!==null){var t=Rr,i=uc;uc=0;var l=Sn(rs),u=X.T,h=pe.p;try{if(pe.p=32>l?32:l,X.T=null,Rr===null)var A=!1;else{l=cc,cc=null;var b=Rr,M=rs;if(Rr=null,rs=0,(Gt&6)!==0)throw Error(y(331));var L=Gt;if(Gt|=4,Xf(b.current),jf(b,b.current,M,l),Gt=L,ss(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(Dt,b)}catch{}A=!0}return A}finally{pe.p=h,X.T=u,o0(t,i)}}return!1}function u0(t,i,l){i=ui(l,i),i=Ru(t.stateNode,i,2),t=Xa(t,i,2),t!==null&&(In(t,2),Yi(t))}function Ot(t,i,l){if(t.tag===3)u0(t,t,l);else for(;i!==null;){if(i.tag===3){u0(i,t,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ja===null||!Ja.has(u))){t=ui(l,t),l=hf(2),u=Xa(i,l,2),u!==null&&(df(l,u,i,t),In(u,2),Yi(u));break}}i=i.return}}function mc(t,i,l){var u=t.pingCache;if(u===null){u=t.pingCache=new md;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(l)||(rc=!0,h.add(l),t=wd.bind(null,t,i,l),i.then(t,t))}function wd(t,i,l){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Bt===t&&(ct&l)===l&&(qt===4||qt===3&&(ct&62914560)===ct&&300>an()-oc?(Gt&2)===0&&hl(t,0):lc|=l,fl===ct&&(fl=0)),Yi(t)}function c0(t,i){i===0&&(i=Xi()),t=za(t,i),t!==null&&(In(t,i),Yi(t))}function Sd(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),c0(t,l)}function bd(t,i){var l=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(y(314))}u!==null&&u.delete(i),c0(t,l)}function Td(t,i){return ya(t,i)}var mo=null,xl=null,Ac=!1,Ao=!1,Ec=!1,Br=0;function Yi(t){t!==xl&&t.next===null&&(xl===null?mo=xl=t:xl=xl.next=t),Ao=!0,Ac||(Ac=!0,Nd(vd))}function ss(t,i){if(!Ec&&Ao){Ec=!0;do for(var l=!1,u=mo;u!==null;){if(t!==0){var h=u.pendingLanes;if(h===0)var A=0;else{var b=u.suspendedLanes,M=u.pingedLanes;A=(1<<31-at(42|t)+1)-1,A&=h&~(b&~M),A=A&201326677?A&201326677|1:A?A|2:0}A!==0&&(l=!0,d0(u,A))}else A=ct,A=sr(u,u===Bt?A:0),(A&3)===0||wn(u,A)||(l=!0,d0(u,A));u=u.next}while(l);Ec=!1}}function vd(){Ao=Ac=!1;var t=0;Br!==0&&(Ld()&&(t=Br),Br=0);for(var i=an(),l=null,u=mo;u!==null;){var h=u.next,A=f0(u,i);A===0?(u.next=null,l===null?mo=h:l.next=h,h===null&&(xl=l)):(l=u,(t!==0||(A&3)!==0)&&(Ao=!0)),u=h}ss(t)}function f0(t,i){for(var l=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,A=t.pendingLanes&-62914561;0<A;){var b=31-at(A),M=1<<b,L=h[b];L===-1?((M&l)===0||(M&u)!==0)&&(h[b]=Nl(M,i)):L<=i&&(t.expiredLanes|=M),A&=~M}if(i=Bt,l=ct,l=sr(t,t===i?l:0),u=t.callbackNode,l===0||t===i&&Lt===2||t.cancelPendingCommit!==null)return u!==null&&u!==null&&be(u),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||wn(t,l)){if(i=l&-l,i===t.callbackPriority)return i;switch(u!==null&&be(u),Sn(l)){case 2:case 8:l=bl;break;case 32:l=Zn;break;case 268435456:l=Tl;break;default:l=Zn}return u=h0.bind(null,t),l=ya(l,u),t.callbackPriority=i,t.callbackNode=l,i}return u!==null&&u!==null&&be(u),t.callbackPriority=2,t.callbackNode=null,2}function h0(t,i){var l=t.callbackNode;if(gl()&&t.callbackNode!==l)return null;var u=ct;return u=sr(t,t===Bt?u:0),u===0?null:($f(t,u,i),f0(t,an()),t.callbackNode!=null&&t.callbackNode===l?h0.bind(null,t):null)}function d0(t,i){if(gl())return null;$f(t,i,!0)}function Nd(t){kd(function(){(Gt&6)!==0?ya(Yn,t):t()})}function yc(){return Br===0&&(Br=fn()),Br}function g0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function x0(t,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,t.id&&l.setAttribute("form",t.id),i.parentNode.insertBefore(l,i),t=new FormData(t),l.parentNode.removeChild(l),t}function Md(t,i,l,u,h){if(i==="submit"&&l&&l.stateNode===h){var A=g0((h[mn]||null).action),b=u.submitter;b&&(i=(i=b[mn]||null)?g0(i.formAction):b.getAttribute("formAction"),i!==null&&(A=i,b=null));var M=new Li("action","action",null,u,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Br!==0){var L=b?x0(h,b):new FormData(h);Mu(l,{pending:!0,data:L,method:h.method,action:A},null,L)}}else typeof A=="function"&&(M.preventDefault(),L=b?x0(h,b):new FormData(h),Mu(l,{pending:!0,data:L,method:h.method,action:A},A,L))},currentTarget:h}]})}}for(var pc=0;pc<Us.length;pc++){var Cc=Us[pc],Id=Cc.toLowerCase(),Od=Cc[0].toUpperCase()+Cc.slice(1);Wn(Id,"on"+Od)}Wn(bn,"onAnimationEnd"),Wn(Vn,"onAnimationIteration"),Wn(Tn,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(wt,"onTransitionRun"),Wn(dn,"onTransitionStart"),Wn(Fn,"onTransitionCancel"),Wn(Ji,"onTransitionEnd"),pt("onMouseEnter",["mouseout","mouseover"]),pt("onMouseLeave",["mouseout","mouseover"]),pt("onPointerEnter",["pointerout","pointerover"]),pt("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_d=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(os));function m0(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var u=t[l],h=u.event;u=u.listeners;e:{var A=void 0;if(i)for(var b=u.length-1;0<=b;b--){var M=u[b],L=M.instance,P=M.currentTarget;if(M=M.listener,L!==A&&h.isPropagationStopped())break e;A=M,h.currentTarget=P;try{A(h)}catch($){no($)}h.currentTarget=null,A=L}else for(b=0;b<u.length;b++){if(M=u[b],L=M.instance,P=M.currentTarget,M=M.listener,L!==A&&h.isPropagationStopped())break e;A=M,h.currentTarget=P;try{A(h)}catch($){no($)}h.currentTarget=null,A=L}}}}function ot(t,i){var l=i[Oi];l===void 0&&(l=i[Oi]=new Set);var u=t+"__bubble";l.has(u)||(A0(i,t,2,!1),l.add(u))}function wc(t,i,l){var u=0;i&&(u|=4),A0(l,t,u,i)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Sc(t){if(!t[Eo]){t[Eo]=!0,Pr.forEach(function(l){l!=="selectionchange"&&(_d.has(l)||wc(l,!1,t),wc(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Eo]||(i[Eo]=!0,wc("selectionchange",!1,i))}}function A0(t,i,l,u){switch(H0(i)){case 2:var h=i2;break;case 8:h=a2;break;default:h=Uc}l=h.bind(null,i,l,t),h=void 0,!je||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(i,l,{capture:!0,passive:h}):t.addEventListener(i,l,!0):h!==void 0?t.addEventListener(i,l,{passive:h}):t.addEventListener(i,l,!1)}function bc(t,i,l,u,h){var A=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var M=u.stateNode.containerInfo;if(M===h||M.nodeType===8&&M.parentNode===h)break;if(b===4)for(b=u.return;b!==null;){var L=b.tag;if((L===3||L===4)&&(L=b.stateNode.containerInfo,L===h||L.nodeType===8&&L.parentNode===h))return;b=b.return}for(;M!==null;){if(b=An(M),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){u=A=b;continue e}M=M.parentNode}}u=u.return}Ue(function(){var P=A,$=ur(l),oe=[];e:{var Z=$i.get(t);if(Z!==void 0){var J=Li,Ie=t;switch(t){case"keypress":if(jr(l)===0)break e;case"keydown":case"keyup":J=Ol;break;case"focusin":Ie="focus",J=_a;break;case"focusout":Ie="blur",J=_a;break;case"beforeblur":case"afterblur":J=_a;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=_s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=yt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Ct;break;case bn:case Vn:case Tn:J=Wo;break;case Ji:J=eu;break;case"scroll":case"scrollend":J=_n;break;case"wheel":J=Wi;break;case"copy":case"cut":case"paste":J=Ve;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=xr;break;case"toggle":case"beforetoggle":J=tu}var Ge=(i&4)!==0,Qt=!Ge&&(t==="scroll"||t==="scrollend"),Y=Ge?Z!==null?Z+"Capture":null:Z;Ge=[];for(var H=P,V;H!==null;){var ie=H;if(V=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||V===null||Y===null||(ie=cr(H,Y),ie!=null&&Ge.push(us(H,ie,V))),Qt)break;H=H.return}0<Ge.length&&(Z=new J(Z,Ie,null,l,$),oe.push({event:Z,listeners:Ge}))}}if((i&7)===0){e:{if(Z=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",Z&&l!==va&&(Ie=l.relatedTarget||l.fromElement)&&(An(Ie)||Ie[$t]))break e;if((J||Z)&&(Z=$.window===$?$:(Z=$.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Ie=l.relatedTarget||l.toElement,J=P,Ie=Ie?An(Ie):null,Ie!==null&&(Qt=Be(Ie),Ge=Ie.tag,Ie!==Qt||Ge!==5&&Ge!==27&&Ge!==6)&&(Ie=null)):(J=null,Ie=P),J!==Ie)){if(Ge=_s,ie="onMouseLeave",Y="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(Ge=xr,ie="onPointerLeave",Y="onPointerEnter",H="pointer"),Qt=J==null?Z:Et(J),V=Ie==null?Z:Et(Ie),Z=new Ge(ie,H+"leave",J,l,$),Z.target=Qt,Z.relatedTarget=V,ie=null,An($)===P&&(Ge=new Ge(Y,H+"enter",Ie,l,$),Ge.target=V,Ge.relatedTarget=Qt,ie=Ge),Qt=ie,J&&Ie)t:{for(Ge=J,Y=Ie,H=0,V=Ge;V;V=ml(V))H++;for(V=0,ie=Y;ie;ie=ml(ie))V++;for(;0<H-V;)Ge=ml(Ge),H--;for(;0<V-H;)Y=ml(Y),V--;for(;H--;){if(Ge===Y||Y!==null&&Ge===Y.alternate)break t;Ge=ml(Ge),Y=ml(Y)}Ge=null}else Ge=null;J!==null&&E0(oe,Z,J,Ge,!1),Ie!==null&&Qt!==null&&E0(oe,Qt,Ie,Ge,!0)}}e:{if(Z=P?Et(P):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var Te=Ls;else if(Er(Z))if(Bl)Te=a;else{Te=T;var $e=Qr}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?P&&Mt(P.elementType)&&(Te=Ls):Te=n;if(Te&&(Te=Te(t,P))){zn(oe,Te,l,$);break e}$e&&$e(t,Z,P),t==="focusout"&&P&&Z.type==="number"&&P.memoizedProps.value!=null&&_(Z,"number",Z.value)}switch($e=P?Et(P):window,t){case"focusin":(Er($e)||$e.contentEditable==="true")&&(D=$e,k=P,z=null);break;case"focusout":z=k=D=null;break;case"mousedown":j=!0;break;case"contextmenu":case"mouseup":case"dragend":j=!1,Q(oe,l,$);break;case"selectionchange":if(N)break;case"keydown":case"keyup":Q(oe,l,$)}var De;if(mr)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ba?Ki(t,l)&&(Fe="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(Dl&&l.locale!=="ko"&&(Ba||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ba&&(De=Di()):(_i=$,fr="value"in _i?_i.value:_i.textContent,Ba=!0)),$e=yo(P,Fe),0<$e.length&&(Fe=new dr(Fe,t,null,l,$),oe.push({event:Fe,listeners:$e}),De?Fe.data=De:(De=Zr(l),De!==null&&(Fe.data=De)))),(De=_l?Ar(t,l):nu(t,l))&&(Fe=yo(P,"onBeforeInput"),0<Fe.length&&($e=new dr("onBeforeInput","beforeinput",null,l,$),oe.push({event:$e,listeners:Fe}),$e.data=De)),Md(oe,t,P,l,$)}m0(oe,i)})}function us(t,i,l){return{instance:t,listener:i,currentTarget:l}}function yo(t,i){for(var l=i+"Capture",u=[];t!==null;){var h=t,A=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||A===null||(h=cr(t,l),h!=null&&u.unshift(us(t,h,A)),h=cr(t,i),h!=null&&u.push(us(t,h,A))),t=t.return}return u}function ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function E0(t,i,l,u,h){for(var A=i._reactName,b=[];l!==null&&l!==u;){var M=l,L=M.alternate,P=M.stateNode;if(M=M.tag,L!==null&&L===u)break;M!==5&&M!==26&&M!==27||P===null||(L=P,h?(P=cr(l,A),P!=null&&b.unshift(us(l,P,L))):h||(P=cr(l,A),P!=null&&b.push(us(l,P,L)))),l=l.return}b.length!==0&&t.push({event:i,listeners:b})}var Dd=/\r\n?/g,Rd=/\u0000|\uFFFD/g;function y0(t){return(typeof t=="string"?t:""+t).replace(Dd,`
`).replace(Rd,"")}function p0(t,i){return i=y0(i),y0(t)===i}function po(){}function vt(t,i,l,u,h,A){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||ba(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&ba(t,""+u);break;case"className":wa(t,"class",u);break;case"tabIndex":wa(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":wa(t,l,u);break;case"style":_e(t,u,A);break;case"data":if(i!=="object"){wa(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){t.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=Ta(""+u),t.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(l==="formAction"?(i!=="input"&&vt(t,i,"name",h.name,h,null),vt(t,i,"formEncType",h.formEncType,h,null),vt(t,i,"formMethod",h.formMethod,h,null),vt(t,i,"formTarget",h.formTarget,h,null)):(vt(t,i,"encType",h.encType,h,null),vt(t,i,"method",h.method,h,null),vt(t,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=Ta(""+u),t.setAttribute(l,u);break;case"onClick":u!=null&&(t.onclick=po);break;case"onScroll":u!=null&&ot("scroll",t);break;case"onScrollEnd":u!=null&&ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(y(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(y(60));t.innerHTML=l}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}l=Ta(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""+u):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":u===!0?t.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,u):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(l,u):t.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(l):t.setAttribute(l,u);break;case"popover":ot("beforetoggle",t),ot("toggle",t),Ca(t,"popover",u);break;case"xlinkActuate":Qn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ca(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Os.get(l)||l,Ca(t,l,u))}}function Tc(t,i,l,u,h,A){switch(l){case"style":_e(t,u,A);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(y(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(y(60));t.innerHTML=l}}break;case"children":typeof u=="string"?ba(t,u):(typeof u=="number"||typeof u=="bigint")&&ba(t,""+u);break;case"onScroll":u!=null&&ot("scroll",t);break;case"onScrollEnd":u!=null&&ot("scrollend",t);break;case"onClick":u!=null&&(t.onclick=po);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!re.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),i=l.slice(2,h?l.length-7:void 0),A=t[mn]||null,A=A!=null?A[l]:null,typeof A=="function"&&t.removeEventListener(i,A,h),typeof u=="function")){typeof A!="function"&&A!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(i,u,h);break e}l in t?t[l]=u:u===!0?t.setAttribute(l,""):Ca(t,l,u)}}}function Mn(t,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",t),ot("load",t);var u=!1,h=!1,A;for(A in l)if(l.hasOwnProperty(A)){var b=l[A];if(b!=null)switch(A){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(y(137,i));default:vt(t,i,A,b,l,null)}}h&&vt(t,i,"srcSet",l.srcSet,l,null),u&&vt(t,i,"src",l.src,l,null);return;case"input":ot("invalid",t);var M=A=b=h=null,L=null,P=null;for(u in l)if(l.hasOwnProperty(u)){var $=l[u];if($!=null)switch(u){case"name":h=$;break;case"type":b=$;break;case"checked":L=$;break;case"defaultChecked":P=$;break;case"value":A=$;break;case"defaultValue":M=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(y(137,i));break;default:vt(t,i,u,$,l,null)}}G(t,A,M,L,P,b,h,!1),Rt(t);return;case"select":ot("invalid",t),u=b=A=null;for(h in l)if(l.hasOwnProperty(h)&&(M=l[h],M!=null))switch(h){case"value":A=M;break;case"defaultValue":b=M;break;case"multiple":u=M;default:vt(t,i,h,M,l,null)}i=A,l=b,t.multiple=!!u,i!=null?Ne(t,!!u,i,!1):l!=null&&Ne(t,!!u,l,!0);return;case"textarea":ot("invalid",t),A=h=u=null;for(b in l)if(l.hasOwnProperty(b)&&(M=l[b],M!=null))switch(b){case"value":u=M;break;case"defaultValue":h=M;break;case"children":A=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(y(91));break;default:vt(t,i,b,M,l,null)}Un(t,u,h,A),Rt(t);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(u=l[L],u!=null))switch(L){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:vt(t,i,L,u,l,null)}return;case"dialog":ot("cancel",t),ot("close",t);break;case"iframe":case"object":ot("load",t);break;case"video":case"audio":for(u=0;u<os.length;u++)ot(os[u],t);break;case"image":ot("error",t),ot("load",t);break;case"details":ot("toggle",t);break;case"embed":case"source":case"link":ot("error",t),ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in l)if(l.hasOwnProperty(P)&&(u=l[P],u!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(y(137,i));default:vt(t,i,P,u,l,null)}return;default:if(Mt(i)){for($ in l)l.hasOwnProperty($)&&(u=l[$],u!==void 0&&Tc(t,i,$,u,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(u=l[M],u!=null&&vt(t,i,M,u,l,null))}function Bd(t,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,A=null,b=null,M=null,L=null,P=null,$=null;for(J in l){var oe=l[J];if(l.hasOwnProperty(J)&&oe!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=oe;default:u.hasOwnProperty(J)||vt(t,i,J,null,u,oe)}}for(var Z in u){var J=u[Z];if(oe=l[Z],u.hasOwnProperty(Z)&&(J!=null||oe!=null))switch(Z){case"type":A=J;break;case"name":h=J;break;case"checked":P=J;break;case"defaultChecked":$=J;break;case"value":b=J;break;case"defaultValue":M=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(y(137,i));break;default:J!==oe&&vt(t,i,Z,J,u,oe)}}rn(t,b,M,L,P,$,A,h);return;case"select":J=b=M=Z=null;for(A in l)if(L=l[A],l.hasOwnProperty(A)&&L!=null)switch(A){case"value":break;case"multiple":J=L;default:u.hasOwnProperty(A)||vt(t,i,A,null,u,L)}for(h in u)if(A=u[h],L=l[h],u.hasOwnProperty(h)&&(A!=null||L!=null))switch(h){case"value":Z=A;break;case"defaultValue":M=A;break;case"multiple":b=A;default:A!==L&&vt(t,i,h,A,u,L)}i=M,l=b,u=J,Z!=null?Ne(t,!!l,Z,!1):!!u!=!!l&&(i!=null?Ne(t,!!l,i,!0):Ne(t,!!l,l?[]:"",!1));return;case"textarea":J=Z=null;for(M in l)if(h=l[M],l.hasOwnProperty(M)&&h!=null&&!u.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:vt(t,i,M,null,u,h)}for(b in u)if(h=u[b],A=l[b],u.hasOwnProperty(b)&&(h!=null||A!=null))switch(b){case"value":Z=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(y(91));break;default:h!==A&&vt(t,i,b,h,u,A)}en(t,Z,J);return;case"option":for(var Ie in l)if(Z=l[Ie],l.hasOwnProperty(Ie)&&Z!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":t.selected=!1;break;default:vt(t,i,Ie,null,u,Z)}for(L in u)if(Z=u[L],J=l[L],u.hasOwnProperty(L)&&Z!==J&&(Z!=null||J!=null))switch(L){case"selected":t.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:vt(t,i,L,Z,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in l)Z=l[Ge],l.hasOwnProperty(Ge)&&Z!=null&&!u.hasOwnProperty(Ge)&&vt(t,i,Ge,null,u,Z);for(P in u)if(Z=u[P],J=l[P],u.hasOwnProperty(P)&&Z!==J&&(Z!=null||J!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(y(137,i));break;default:vt(t,i,P,Z,u,J)}return;default:if(Mt(i)){for(var Qt in l)Z=l[Qt],l.hasOwnProperty(Qt)&&Z!==void 0&&!u.hasOwnProperty(Qt)&&Tc(t,i,Qt,void 0,u,Z);for($ in u)Z=u[$],J=l[$],!u.hasOwnProperty($)||Z===J||Z===void 0&&J===void 0||Tc(t,i,$,Z,u,J);return}}for(var Y in l)Z=l[Y],l.hasOwnProperty(Y)&&Z!=null&&!u.hasOwnProperty(Y)&&vt(t,i,Y,null,u,Z);for(oe in u)Z=u[oe],J=l[oe],!u.hasOwnProperty(oe)||Z===J||Z==null&&J==null||vt(t,i,oe,Z,u,J)}var vc=null,Nc=null;function Co(t){return t.nodeType===9?t:t.ownerDocument}function C0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Mc(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ic=null;function Ld(){var t=window.event;return t&&t.type==="popstate"?t===Ic?!1:(Ic=t,!0):(Ic=null,!1)}var S0=typeof setTimeout=="function"?setTimeout:void 0,Ud=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,kd=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(t){return b0.resolve(null).then(t).catch(zd)}:S0;function zd(t){setTimeout(function(){throw t})}function Oc(t,i){var l=i,u=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(u===0){t.removeChild(h),As(i);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=h}while(l);As(i)}function _c(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":_c(l),Ml(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Fd(t,i,l,u){for(;t.nodeType===1;){var h=l;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[or])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(A=t.getAttribute("rel"),A==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(A!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(A=t.getAttribute("src"),(A!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&A&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var A=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===A)return t}else return t;if(t=bi(t.nextSibling),t===null)break}return null}function Hd(t,i,l){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=bi(t.nextSibling),t===null))return null;return t}function bi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function T0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}function v0(t,i,l){switch(i=Co(l),t){case"html":if(t=i.documentElement,!t)throw Error(y(452));return t;case"head":if(t=i.head,!t)throw Error(y(453));return t;case"body":if(t=i.body,!t)throw Error(y(454));return t;default:throw Error(y(451))}}var Ai=new Map,N0=new Set;function wo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ga=pe.d;pe.d={f:Pd,r:Yd,D:jd,C:Gd,L:Vd,m:Xd,X:qd,S:Zd,M:Qd};function Pd(){var t=ga.f(),i=go();return t||i}function Yd(t){var i=Xt(t);i!==null&&i.tag===5&&i.type==="form"?$1(i):ga.r(t)}var Al=typeof document>"u"?null:document;function M0(t,i,l){var u=Al;if(u&&typeof i=="string"&&i){var h=Qe(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),N0.has(h)||(N0.add(h),t={rel:t,crossOrigin:l,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),Mn(i,"link",t),Nt(i),u.head.appendChild(i)))}}function jd(t){ga.D(t),M0("dns-prefetch",t,null)}function Gd(t,i){ga.C(t,i),M0("preconnect",t,i)}function Vd(t,i,l){ga.L(t,i,l);var u=Al;if(u&&t&&i){var h='link[rel="preload"][as="'+Qe(i)+'"]';i==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+Qe(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+Qe(l.imageSizes)+'"]')):h+='[href="'+Qe(t)+'"]';var A=h;switch(i){case"style":A=El(t);break;case"script":A=yl(t)}Ai.has(A)||(t=Pe({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:t,as:i},l),Ai.set(A,t),u.querySelector(h)!==null||i==="style"&&u.querySelector(cs(A))||i==="script"&&u.querySelector(fs(A))||(i=u.createElement("link"),Mn(i,"link",t),Nt(i),u.head.appendChild(i)))}}function Xd(t,i){ga.m(t,i);var l=Al;if(l&&t){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Qe(u)+'"][href="'+Qe(t)+'"]',A=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=yl(t)}if(!Ai.has(A)&&(t=Pe({rel:"modulepreload",href:t},i),Ai.set(A,t),l.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fs(A)))return}u=l.createElement("link"),Mn(u,"link",t),Nt(u),l.head.appendChild(u)}}}function Zd(t,i,l){ga.S(t,i,l);var u=Al;if(u&&t){var h=Zi(u).hoistableStyles,A=El(t);i=i||"default";var b=h.get(A);if(!b){var M={loading:0,preload:null};if(b=u.querySelector(cs(A)))M.loading=5;else{t=Pe({rel:"stylesheet",href:t,"data-precedence":i},l),(l=Ai.get(A))&&Dc(t,l);var L=b=u.createElement("link");Nt(L),Mn(L,"link",t),L._p=new Promise(function(P,$){L.onload=P,L.onerror=$}),L.addEventListener("load",function(){M.loading|=1}),L.addEventListener("error",function(){M.loading|=2}),M.loading|=4,So(b,i,u)}b={type:"stylesheet",instance:b,count:1,state:M},h.set(A,b)}}}function qd(t,i){ga.X(t,i);var l=Al;if(l&&t){var u=Zi(l).hoistableScripts,h=yl(t),A=u.get(h);A||(A=l.querySelector(fs(h)),A||(t=Pe({src:t,async:!0},i),(i=Ai.get(h))&&Rc(t,i),A=l.createElement("script"),Nt(A),Mn(A,"link",t),l.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},u.set(h,A))}}function Qd(t,i){ga.M(t,i);var l=Al;if(l&&t){var u=Zi(l).hoistableScripts,h=yl(t),A=u.get(h);A||(A=l.querySelector(fs(h)),A||(t=Pe({src:t,async:!0,type:"module"},i),(i=Ai.get(h))&&Rc(t,i),A=l.createElement("script"),Nt(A),Mn(A,"link",t),l.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},u.set(h,A))}}function I0(t,i,l,u){var h=(h=Ze.current)?wo(h):null;if(!h)throw Error(y(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=El(l.href),l=Zi(h).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=El(l.href);var A=Zi(h).hoistableStyles,b=A.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(t,b),(A=h.querySelector(cs(t)))&&!A._p&&(b.instance=A,b.state.loading=5),Ai.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ai.set(t,l),A||Wd(h,t,l,b.state))),i&&u===null)throw Error(y(528,""));return b}if(i&&u!==null)throw Error(y(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=yl(l),l=Zi(h).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(y(444,t))}}function El(t){return'href="'+Qe(t)+'"'}function cs(t){return'link[rel="stylesheet"]['+t+"]"}function O0(t){return Pe({},t,{"data-precedence":t.precedence,precedence:null})}function Wd(t,i,l,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Mn(i,"link",l),Nt(i),t.head.appendChild(i))}function yl(t){return'[src="'+Qe(t)+'"]'}function fs(t){return"script[async]"+t}function _0(t,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+Qe(l.href)+'"]');if(u)return i.instance=u,Nt(u),u;var h=Pe({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Nt(u),Mn(u,"style",h),So(u,l.precedence,t),i.instance=u;case"stylesheet":h=El(l.href);var A=t.querySelector(cs(h));if(A)return i.state.loading|=4,i.instance=A,Nt(A),A;u=O0(l),(h=Ai.get(h))&&Dc(u,h),A=(t.ownerDocument||t).createElement("link"),Nt(A);var b=A;return b._p=new Promise(function(M,L){b.onload=M,b.onerror=L}),Mn(A,"link",u),i.state.loading|=4,So(A,l.precedence,t),i.instance=A;case"script":return A=yl(l.src),(h=t.querySelector(fs(A)))?(i.instance=h,Nt(h),h):(u=l,(h=Ai.get(A))&&(u=Pe({},l),Rc(u,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),Mn(h,"link",u),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(y(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,So(u,l.precedence,t));return i.instance}function So(t,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,A=h,b=0;b<u.length;b++){var M=u[b];if(M.dataset.precedence===i)A=M;else if(A!==h)break}A?A.parentNode.insertBefore(t,A.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(t,i.firstChild))}function Dc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Rc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var bo=null;function D0(t,i,l){if(bo===null){var u=new Map,h=bo=new Map;h.set(l,u)}else h=bo,u=h.get(l),u||(u=new Map,h.set(l,u));if(u.has(t))return u;for(u.set(t,null),l=l.getElementsByTagName(t),h=0;h<l.length;h++){var A=l[h];if(!(A[or]||A[Pt]||t==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var b=A.getAttribute(i)||"";b=t+b;var M=u.get(b);M?M.push(A):u.set(b,[A])}}return u}function R0(t,i,l){t=t.ownerDocument||t,t.head.insertBefore(l,i==="title"?t.querySelector("head > title"):null)}function Kd(t,i,l){if(l===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function B0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var hs=null;function Jd(){}function $d(t,i,l){if(hs===null)throw Error(y(475));var u=hs;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=El(l.href),A=t.querySelector(cs(h));if(A){t=A._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=To.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=A,Nt(A);return}A=t.ownerDocument||t,l=O0(l),(h=Ai.get(h))&&Dc(l,h),A=A.createElement("link"),Nt(A);var b=A;b._p=new Promise(function(M,L){b.onload=M,b.onerror=L}),Mn(A,"link",l),i.instance=A}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=To.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function e2(){if(hs===null)throw Error(y(475));var t=hs;return t.stylesheets&&t.count===0&&Bc(t,t.stylesheets),0<t.count?function(i){var l=setTimeout(function(){if(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(l)}}:null}function To(){if(this.count--,this.count===0){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vo=null;function Bc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vo=new Map,i.forEach(t2,t),vo=null,To.call(t))}function t2(t,i){if(!(i.state.loading&4)){var l=vo.get(t);if(l)var u=l.get(null);else{l=new Map,vo.set(t,l);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<h.length;A++){var b=h[A];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}h=i.instance,b=h.getAttribute("data-precedence"),A=l.get(b)||u,A===u&&l.set(null,h),l.set(b,h),this.count++,u=To.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),A?A.parentNode.insertBefore(h,A.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ds={$$typeof:ee,Provider:null,Consumer:null,_currentValue:Je,_currentValue2:Je,_threadCount:0};function n2(t,i,l,u,h,A,b,M){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.hiddenUpdates=pa(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=A,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function L0(t,i,l,u,h,A,b,M,L,P,$,oe){return t=new n2(t,i,l,b,M,L,P,oe),i=1,A===!0&&(i|=24),A=xi(3,null,null,i),t.current=A,A.stateNode=t,i=hu(),i.refCount++,t.pooledCache=i,i.refCount++,A.memoizedState={element:u,isDehydrated:l,cache:i},Xu(A),t}function U0(t){return t?(t=Kr,t):Kr}function k0(t,i,l,u,h,A){h=U0(h),u.context===null?u.context=h:u.pendingContext=h,u=Va(i),u.payload={element:l},A=A===void 0?null:A,A!==null&&(u.callback=A),l=Xa(t,u,i),l!==null&&(Pn(l,t,i),Wl(l,t,i))}function z0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function Lc(t,i){z0(t,i),(t=t.alternate)&&z0(t,i)}function F0(t){if(t.tag===13){var i=za(t,67108864);i!==null&&Pn(i,t,67108864),Lc(t,67108864)}}var No=!0;function i2(t,i,l,u){var h=X.T;X.T=null;var A=pe.p;try{pe.p=2,Uc(t,i,l,u)}finally{pe.p=A,X.T=h}}function a2(t,i,l,u){var h=X.T;X.T=null;var A=pe.p;try{pe.p=8,Uc(t,i,l,u)}finally{pe.p=A,X.T=h}}function Uc(t,i,l,u){if(No){var h=kc(u);if(h===null)bc(t,i,u,Mo,l),P0(t,u);else if(l2(h,t,i,l,u))u.stopPropagation();else if(P0(t,u),i&4&&-1<r2.indexOf(t)){for(;h!==null;){var A=Xt(h);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var b=Ni(A.pendingLanes);if(b!==0){var M=A;for(M.pendingLanes|=2,M.entangledLanes|=2;b;){var L=1<<31-at(b);M.entanglements[1]|=L,b&=~L}Yi(A),(Gt&6)===0&&(co=an()+500,ss(0))}}break;case 13:M=za(A,2),M!==null&&Pn(M,A,2),go(),Lc(A,2)}if(A=kc(u),A===null&&bc(t,i,u,Mo,l),A===h)break;h=A}h!==null&&u.stopPropagation()}else bc(t,i,u,null,l)}}function kc(t){return t=ur(t),zc(t)}var Mo=null;function zc(t){if(Mo=null,t=An(t),t!==null){var i=Be(t);if(i===null)t=null;else{var l=i.tag;if(l===13){if(t=st(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Mo=t,null}function H0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sl()){case Yn:return 2;case bl:return 8;case Zn:case Cn:return 32;case Tl:return 268435456;default:return 32}default:return 32}}var Fc=!1,$a=null,er=null,tr=null,gs=new Map,xs=new Map,nr=[],r2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P0(t,i){switch(t){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":gs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(i.pointerId)}}function ms(t,i,l,u,h,A){return t===null||t.nativeEvent!==A?(t={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:A,targetContainers:[h]},i!==null&&(i=Xt(i),i!==null&&F0(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function l2(t,i,l,u,h){switch(i){case"focusin":return $a=ms($a,t,i,l,u,h),!0;case"dragenter":return er=ms(er,t,i,l,u,h),!0;case"mouseover":return tr=ms(tr,t,i,l,u,h),!0;case"pointerover":var A=h.pointerId;return gs.set(A,ms(gs.get(A)||null,t,i,l,u,h)),!0;case"gotpointercapture":return A=h.pointerId,xs.set(A,ms(xs.get(A)||null,t,i,l,u,h)),!0}return!1}function Y0(t){var i=An(t.target);if(i!==null){var l=Be(i);if(l!==null){if(i=l.tag,i===13){if(i=st(l),i!==null){t.blockedOn=i,jn(t.priority,function(){if(l.tag===13){var u=ei(),h=za(l,u);h!==null&&Pn(h,l,u),Lc(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Io(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=kc(t.nativeEvent);if(l===null){l=t.nativeEvent;var u=new l.constructor(l.type,l);va=u,l.target.dispatchEvent(u),va=null}else return i=Xt(l),i!==null&&F0(i),t.blockedOn=l,!1;i.shift()}return!0}function j0(t,i,l){Io(t)&&l.delete(i)}function s2(){Fc=!1,$a!==null&&Io($a)&&($a=null),er!==null&&Io(er)&&(er=null),tr!==null&&Io(tr)&&(tr=null),gs.forEach(j0),xs.forEach(j0)}function Oo(t,i){t.blockedOn===i&&(t.blockedOn=null,Fc||(Fc=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,s2)))}var _o=null;function G0(t){_o!==t&&(_o=t,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){_o===t&&(_o=null);for(var i=0;i<t.length;i+=3){var l=t[i],u=t[i+1],h=t[i+2];if(typeof u!="function"){if(zc(u||l)===null)continue;break}var A=Xt(l);A!==null&&(t.splice(i,3),i-=3,Mu(A,{pending:!0,data:h,method:l.method,action:u},u,h))}}))}function As(t){function i(L){return Oo(L,t)}$a!==null&&Oo($a,t),er!==null&&Oo(er,t),tr!==null&&Oo(tr,t),gs.forEach(i),xs.forEach(i);for(var l=0;l<nr.length;l++){var u=nr[l];u.blockedOn===t&&(u.blockedOn=null)}for(;0<nr.length&&(l=nr[0],l.blockedOn===null);)Y0(l),l.blockedOn===null&&nr.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var h=l[u],A=l[u+1],b=h[mn]||null;if(typeof A=="function")b||G0(l);else if(b){var M=null;if(A&&A.hasAttribute("formAction")){if(h=A,b=A[mn]||null)M=b.formAction;else if(zc(h)!==null)continue}else M=b.action;typeof M=="function"?l[u+1]=M:(l.splice(u,3),u-=3),G0(l)}}}function Hc(t){this._internalRoot=t}Do.prototype.render=Hc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(y(409));var l=i.current,u=ei();k0(l,u,t,i,null,null)},Do.prototype.unmount=Hc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&gl(),k0(t.current,2,null,t,null,null),go(),i[$t]=null}};function Do(t){this._internalRoot=t}Do.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ii();t={blockedOn:null,target:t,priority:i};for(var l=0;l<nr.length&&i!==0&&i<nr[l].priority;l++);nr.splice(l,0,t),l===0&&Y0(t)}};var V0=m.version;if(V0!=="19.0.0")throw Error(y(527,V0,"19.0.0"));pe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(y(188)):(t=Object.keys(t).join(","),Error(y(268,t)));return t=de(i),t=t!==null?Se(t):null,t=t===null?null:t.stateNode,t};var o2={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:X,findFiberByHostInstance:An,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Dt=Ro.inject(o2),xe=Ro}catch{}}return ys.createRoot=function(t,i){if(!C(t))throw Error(y(299));var l=!1,u="",h=of,A=uf,b=cf,M=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(A=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(M=i.unstable_transitionCallbacks)),i=L0(t,1,!1,null,null,l,u,h,A,b,M,null),t[$t]=i.current,Sc(t.nodeType===8?t.parentNode:t),new Hc(i)},ys.hydrateRoot=function(t,i,l){if(!C(t))throw Error(y(299));var u=!1,h="",A=of,b=uf,M=cf,L=null,P=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(A=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(P=l.formState)),i=L0(t,1,!0,i,l??null,u,h,A,b,M,L,P),i.context=U0(null),l=i.current,u=ei(),h=Va(u),h.callback=null,Xa(l,h,u),i.current.lanes=u,In(i,u),Yi(i),t[$t]=i.current,Sc(t),new Do(i)},ys.version="19.0.0",ys}var th;function p2(){if(th)return jc.exports;th=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(m){console.error(m)}}return d(),jc.exports=y2(),jc.exports}var C2=p2(),ps={},nh;function w2(){if(nh)return ps;nh=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.parse=I,ps.serialize=w;const d=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,m=/^[\u0021-\u003A\u003C-\u007E]*$/,x=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,y=/^[\u0020-\u003A\u003D-\u007E]*$/,C=Object.prototype.toString,p=(()=>{const K=function(){};return K.prototype=Object.create(null),K})();function I(K,ee){const te=new p,le=K.length;if(le<2)return te;const ge=(ee==null?void 0:ee.decode)||R;let ue=0;do{const Ee=K.indexOf("=",ue);if(Ee===-1)break;const ae=K.indexOf(";",ue),ve=ae===-1?le:ae;if(Ee>ve){ue=K.lastIndexOf(";",Ee-1)+1;continue}const Re=B(K,ue,Ee),ke=O(K,Ee,Re),fe=K.slice(Re,ke);if(te[fe]===void 0){let Ye=B(K,Ee+1,ve),X=O(K,ve,Ye);const Pe=ge(K.slice(Ye,X));te[fe]=Pe}ue=ve+1}while(ue<le);return te}function B(K,ee,te){do{const le=K.charCodeAt(ee);if(le!==32&&le!==9)return ee}while(++ee<te);return te}function O(K,ee,te){for(;ee>te;){const le=K.charCodeAt(--ee);if(le!==32&&le!==9)return ee+1}return te}function w(K,ee,te){const le=(te==null?void 0:te.encode)||encodeURIComponent;if(!d.test(K))throw new TypeError(`argument name is invalid: ${K}`);const ge=le(ee);if(!m.test(ge))throw new TypeError(`argument val is invalid: ${ee}`);let ue=K+"="+ge;if(!te)return ue;if(te.maxAge!==void 0){if(!Number.isInteger(te.maxAge))throw new TypeError(`option maxAge is invalid: ${te.maxAge}`);ue+="; Max-Age="+te.maxAge}if(te.domain){if(!x.test(te.domain))throw new TypeError(`option domain is invalid: ${te.domain}`);ue+="; Domain="+te.domain}if(te.path){if(!y.test(te.path))throw new TypeError(`option path is invalid: ${te.path}`);ue+="; Path="+te.path}if(te.expires){if(!U(te.expires)||!Number.isFinite(te.expires.valueOf()))throw new TypeError(`option expires is invalid: ${te.expires}`);ue+="; Expires="+te.expires.toUTCString()}if(te.httpOnly&&(ue+="; HttpOnly"),te.secure&&(ue+="; Secure"),te.partitioned&&(ue+="; Partitioned"),te.priority)switch(typeof te.priority=="string"?te.priority.toLowerCase():void 0){case"low":ue+="; Priority=Low";break;case"medium":ue+="; Priority=Medium";break;case"high":ue+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${te.priority}`)}if(te.sameSite)switch(typeof te.sameSite=="string"?te.sameSite.toLowerCase():te.sameSite){case!0:case"strict":ue+="; SameSite=Strict";break;case"lax":ue+="; SameSite=Lax";break;case"none":ue+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${te.sameSite}`)}return ue}function R(K){if(K.indexOf("%")===-1)return K;try{return decodeURIComponent(K)}catch{return K}}function U(K){return C.call(K)==="[object Date]"}return ps}w2();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ih="popstate";function S2(d={}){function m(y,C){let{pathname:p,search:I,hash:B}=y.location;return Wc("",{pathname:p,search:I,hash:B},C.state&&C.state.usr||null,C.state&&C.state.key||"default")}function x(y,C){return typeof C=="string"?C:bs(C)}return T2(m,x,null,d)}function Vt(d,m){if(d===!1||d===null||typeof d>"u")throw new Error(m)}function Gi(d,m){if(!d){typeof console<"u"&&console.warn(m);try{throw new Error(m)}catch{}}}function b2(){return Math.random().toString(36).substring(2,10)}function ah(d,m){return{usr:d.state,key:d.key,idx:m}}function Wc(d,m,x=null,y){return{pathname:typeof d=="string"?d:d.pathname,search:"",hash:"",...typeof m=="string"?Cl(m):m,state:x,key:m&&m.key||y||b2()}}function bs({pathname:d="/",search:m="",hash:x=""}){return m&&m!=="?"&&(d+=m.charAt(0)==="?"?m:"?"+m),x&&x!=="#"&&(d+=x.charAt(0)==="#"?x:"#"+x),d}function Cl(d){let m={};if(d){let x=d.indexOf("#");x>=0&&(m.hash=d.substring(x),d=d.substring(0,x));let y=d.indexOf("?");y>=0&&(m.search=d.substring(y),d=d.substring(0,y)),d&&(m.pathname=d)}return m}function T2(d,m,x,y={}){let{window:C=document.defaultView,v5Compat:p=!1}=y,I=C.history,B="POP",O=null,w=R();w==null&&(w=0,I.replaceState({...I.state,idx:w},""));function R(){return(I.state||{idx:null}).idx}function U(){B="POP";let ge=R(),ue=ge==null?null:ge-w;w=ge,O&&O({action:B,location:le.location,delta:ue})}function K(ge,ue){B="PUSH";let Ee=Wc(le.location,ge,ue);w=R()+1;let ae=ah(Ee,w),ve=le.createHref(Ee);try{I.pushState(ae,"",ve)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;C.location.assign(ve)}p&&O&&O({action:B,location:le.location,delta:1})}function ee(ge,ue){B="REPLACE";let Ee=Wc(le.location,ge,ue);w=R();let ae=ah(Ee,w),ve=le.createHref(Ee);I.replaceState(ae,"",ve),p&&O&&O({action:B,location:le.location,delta:0})}function te(ge){let ue=C.location.origin!=="null"?C.location.origin:C.location.href,Ee=typeof ge=="string"?ge:bs(ge);return Ee=Ee.replace(/ $/,"%20"),Vt(ue,`No window.location.(origin|href) available to create URL for href: ${Ee}`),new URL(Ee,ue)}let le={get action(){return B},get location(){return d(C,I)},listen(ge){if(O)throw new Error("A history only accepts one active listener");return C.addEventListener(ih,U),O=ge,()=>{C.removeEventListener(ih,U),O=null}},createHref(ge){return m(C,ge)},createURL:te,encodeLocation(ge){let ue=te(ge);return{pathname:ue.pathname,search:ue.search,hash:ue.hash}},push:K,replace:ee,go(ge){return I.go(ge)}};return le}function Th(d,m,x="/"){return v2(d,m,x,!1)}function v2(d,m,x,y){let C=typeof m=="string"?Cl(m):m,p=Aa(C.pathname||"/",x);if(p==null)return null;let I=vh(d);N2(I);let B=null;for(let O=0;B==null&&O<I.length;++O){let w=z2(p);B=U2(I[O],w,y)}return B}function vh(d,m=[],x=[],y=""){let C=(p,I,B)=>{let O={relativePath:B===void 0?p.path||"":B,caseSensitive:p.caseSensitive===!0,childrenIndex:I,route:p};O.relativePath.startsWith("/")&&(Vt(O.relativePath.startsWith(y),`Absolute route path "${O.relativePath}" nested under path "${y}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),O.relativePath=O.relativePath.slice(y.length));let w=ma([y,O.relativePath]),R=x.concat(O);p.children&&p.children.length>0&&(Vt(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),vh(p.children,m,R,w)),!(p.path==null&&!p.index)&&m.push({path:w,score:B2(w,p.index),routesMeta:R})};return d.forEach((p,I)=>{var B;if(p.path===""||!((B=p.path)!=null&&B.includes("?")))C(p,I);else for(let O of Nh(p.path))C(p,I,O)}),m}function Nh(d){let m=d.split("/");if(m.length===0)return[];let[x,...y]=m,C=x.endsWith("?"),p=x.replace(/\?$/,"");if(y.length===0)return C?[p,""]:[p];let I=Nh(y.join("/")),B=[];return B.push(...I.map(O=>O===""?p:[p,O].join("/"))),C&&B.push(...I),B.map(O=>d.startsWith("/")&&O===""?"/":O)}function N2(d){d.sort((m,x)=>m.score!==x.score?x.score-m.score:L2(m.routesMeta.map(y=>y.childrenIndex),x.routesMeta.map(y=>y.childrenIndex)))}var M2=/^:[\w-]+$/,I2=3,O2=2,_2=1,D2=10,R2=-2,rh=d=>d==="*";function B2(d,m){let x=d.split("/"),y=x.length;return x.some(rh)&&(y+=R2),m&&(y+=O2),x.filter(C=>!rh(C)).reduce((C,p)=>C+(M2.test(p)?I2:p===""?_2:D2),y)}function L2(d,m){return d.length===m.length&&d.slice(0,-1).every((y,C)=>y===m[C])?d[d.length-1]-m[m.length-1]:0}function U2(d,m,x=!1){let{routesMeta:y}=d,C={},p="/",I=[];for(let B=0;B<y.length;++B){let O=y[B],w=B===y.length-1,R=p==="/"?m:m.slice(p.length)||"/",U=Fo({path:O.relativePath,caseSensitive:O.caseSensitive,end:w},R),K=O.route;if(!U&&w&&x&&!y[y.length-1].route.index&&(U=Fo({path:O.relativePath,caseSensitive:O.caseSensitive,end:!1},R)),!U)return null;Object.assign(C,U.params),I.push({params:C,pathname:ma([p,U.pathname]),pathnameBase:Y2(ma([p,U.pathnameBase])),route:K}),U.pathnameBase!=="/"&&(p=ma([p,U.pathnameBase]))}return I}function Fo(d,m){typeof d=="string"&&(d={path:d,caseSensitive:!1,end:!0});let[x,y]=k2(d.path,d.caseSensitive,d.end),C=m.match(x);if(!C)return null;let p=C[0],I=p.replace(/(.)\/+$/,"$1"),B=C.slice(1);return{params:y.reduce((w,{paramName:R,isOptional:U},K)=>{if(R==="*"){let te=B[K]||"";I=p.slice(0,p.length-te.length).replace(/(.)\/+$/,"$1")}const ee=B[K];return U&&!ee?w[R]=void 0:w[R]=(ee||"").replace(/%2F/g,"/"),w},{}),pathname:p,pathnameBase:I,pattern:d}}function k2(d,m=!1,x=!0){Gi(d==="*"||!d.endsWith("*")||d.endsWith("/*"),`Route path "${d}" will be treated as if it were "${d.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${d.replace(/\*$/,"/*")}".`);let y=[],C="^"+d.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(I,B,O)=>(y.push({paramName:B,isOptional:O!=null}),O?"/?([^\\/]+)?":"/([^\\/]+)"));return d.endsWith("*")?(y.push({paramName:"*"}),C+=d==="*"||d==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):x?C+="\\/*$":d!==""&&d!=="/"&&(C+="(?:(?=\\/|$))"),[new RegExp(C,m?void 0:"i"),y]}function z2(d){try{return d.split("/").map(m=>decodeURIComponent(m).replace(/\//g,"%2F")).join("/")}catch(m){return Gi(!1,`The URL path "${d}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${m}).`),d}}function Aa(d,m){if(m==="/")return d;if(!d.toLowerCase().startsWith(m.toLowerCase()))return null;let x=m.endsWith("/")?m.length-1:m.length,y=d.charAt(x);return y&&y!=="/"?null:d.slice(x)||"/"}function F2(d,m="/"){let{pathname:x,search:y="",hash:C=""}=typeof d=="string"?Cl(d):d;return{pathname:x?x.startsWith("/")?x:H2(x,m):m,search:j2(y),hash:G2(C)}}function H2(d,m){let x=m.replace(/\/+$/,"").split("/");return d.split("/").forEach(C=>{C===".."?x.length>1&&x.pop():C!=="."&&x.push(C)}),x.length>1?x.join("/"):"/"}function Zc(d,m,x,y){return`Cannot include a '${d}' character in a manually specified \`to.${m}\` field [${JSON.stringify(y)}].  Please separate it out to the \`to.${x}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P2(d){return d.filter((m,x)=>x===0||m.route.path&&m.route.path.length>0)}function Mh(d){let m=P2(d);return m.map((x,y)=>y===m.length-1?x.pathname:x.pathnameBase)}function Ih(d,m,x,y=!1){let C;typeof d=="string"?C=Cl(d):(C={...d},Vt(!C.pathname||!C.pathname.includes("?"),Zc("?","pathname","search",C)),Vt(!C.pathname||!C.pathname.includes("#"),Zc("#","pathname","hash",C)),Vt(!C.search||!C.search.includes("#"),Zc("#","search","hash",C)));let p=d===""||C.pathname==="",I=p?"/":C.pathname,B;if(I==null)B=x;else{let U=m.length-1;if(!y&&I.startsWith("..")){let K=I.split("/");for(;K[0]==="..";)K.shift(),U-=1;C.pathname=K.join("/")}B=U>=0?m[U]:"/"}let O=F2(C,B),w=I&&I!=="/"&&I.endsWith("/"),R=(p||I===".")&&x.endsWith("/");return!O.pathname.endsWith("/")&&(w||R)&&(O.pathname+="/"),O}var ma=d=>d.join("/").replace(/\/\/+/g,"/"),Y2=d=>d.replace(/\/+$/,"").replace(/^\/*/,"/"),j2=d=>!d||d==="?"?"":d.startsWith("?")?d:"?"+d,G2=d=>!d||d==="#"?"":d.startsWith("#")?d:"#"+d;function V2(d){return d!=null&&typeof d.status=="number"&&typeof d.statusText=="string"&&typeof d.internal=="boolean"&&"data"in d}var Oh=["POST","PUT","PATCH","DELETE"];new Set(Oh);var X2=["GET",...Oh];new Set(X2);var wl=ne.createContext(null);wl.displayName="DataRouter";var Yo=ne.createContext(null);Yo.displayName="DataRouterState";var _h=ne.createContext({isTransitioning:!1});_h.displayName="ViewTransition";var Z2=ne.createContext(new Map);Z2.displayName="Fetchers";var q2=ne.createContext(null);q2.displayName="Await";var Vi=ne.createContext(null);Vi.displayName="Navigation";var Ts=ne.createContext(null);Ts.displayName="Location";var Ea=ne.createContext({outlet:null,matches:[],isDataRoute:!1});Ea.displayName="Route";var e1=ne.createContext(null);e1.displayName="RouteError";function Q2(d,{relative:m}={}){Vt(vs(),"useHref() may be used only in the context of a <Router> component.");let{basename:x,navigator:y}=ne.useContext(Vi),{hash:C,pathname:p,search:I}=Ns(d,{relative:m}),B=p;return x!=="/"&&(B=p==="/"?x:ma([x,p])),y.createHref({pathname:B,search:I,hash:C})}function vs(){return ne.useContext(Ts)!=null}function Lr(){return Vt(vs(),"useLocation() may be used only in the context of a <Router> component."),ne.useContext(Ts).location}var Dh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rh(d){ne.useContext(Vi).static||ne.useLayoutEffect(d)}function Bh(){let{isDataRoute:d}=ne.useContext(Ea);return d?og():W2()}function W2(){Vt(vs(),"useNavigate() may be used only in the context of a <Router> component.");let d=ne.useContext(wl),{basename:m,navigator:x}=ne.useContext(Vi),{matches:y}=ne.useContext(Ea),{pathname:C}=Lr(),p=JSON.stringify(Mh(y)),I=ne.useRef(!1);return Rh(()=>{I.current=!0}),ne.useCallback((O,w={})=>{if(Gi(I.current,Dh),!I.current)return;if(typeof O=="number"){x.go(O);return}let R=Ih(O,JSON.parse(p),C,w.relative==="path");d==null&&m!=="/"&&(R.pathname=R.pathname==="/"?m:ma([m,R.pathname])),(w.replace?x.replace:x.push)(R,w.state,w)},[m,x,p,C,d])}ne.createContext(null);function Ns(d,{relative:m}={}){let{matches:x}=ne.useContext(Ea),{pathname:y}=Lr(),C=JSON.stringify(Mh(x));return ne.useMemo(()=>Ih(d,JSON.parse(C),y,m==="path"),[d,C,y,m])}function K2(d,m){return Lh(d,m)}function Lh(d,m,x,y){var Ee;Vt(vs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:C,static:p}=ne.useContext(Vi),{matches:I}=ne.useContext(Ea),B=I[I.length-1],O=B?B.params:{},w=B?B.pathname:"/",R=B?B.pathnameBase:"/",U=B&&B.route;{let ae=U&&U.path||"";Uh(w,!U||ae.endsWith("*")||ae.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${ae}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ae}"> to <Route path="${ae==="/"?"*":`${ae}/*`}">.`)}let K=Lr(),ee;if(m){let ae=typeof m=="string"?Cl(m):m;Vt(R==="/"||((Ee=ae.pathname)==null?void 0:Ee.startsWith(R)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${R}" but pathname "${ae.pathname}" was given in the \`location\` prop.`),ee=ae}else ee=K;let te=ee.pathname||"/",le=te;if(R!=="/"){let ae=R.replace(/^\//,"").split("/");le="/"+te.replace(/^\//,"").split("/").slice(ae.length).join("/")}let ge=!p&&x&&x.matches&&x.matches.length>0?x.matches:Th(d,{pathname:le});Gi(U||ge!=null,`No routes matched location "${ee.pathname}${ee.search}${ee.hash}" `),Gi(ge==null||ge[ge.length-1].route.element!==void 0||ge[ge.length-1].route.Component!==void 0||ge[ge.length-1].route.lazy!==void 0,`Matched leaf route at location "${ee.pathname}${ee.search}${ee.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ue=ng(ge&&ge.map(ae=>Object.assign({},ae,{params:Object.assign({},O,ae.params),pathname:ma([R,C.encodeLocation?C.encodeLocation(ae.pathname).pathname:ae.pathname]),pathnameBase:ae.pathnameBase==="/"?R:ma([R,C.encodeLocation?C.encodeLocation(ae.pathnameBase).pathname:ae.pathnameBase])})),I,x,y);return m&&ue?ne.createElement(Ts.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ee},navigationType:"POP"}},ue):ue}function J2(){let d=sg(),m=V2(d)?`${d.status} ${d.statusText}`:d instanceof Error?d.message:JSON.stringify(d),x=d instanceof Error?d.stack:null,y="rgba(200,200,200, 0.5)",C={padding:"0.5rem",backgroundColor:y},p={padding:"2px 4px",backgroundColor:y},I=null;return console.error("Error handled by React Router default ErrorBoundary:",d),I=ne.createElement(ne.Fragment,null,ne.createElement("p",null," Hey developer "),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ne.createElement("code",{style:p},"ErrorBoundary")," or"," ",ne.createElement("code",{style:p},"errorElement")," prop on your route.")),ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},m),x?ne.createElement("pre",{style:C},x):null,I)}var $2=ne.createElement(J2,null),eg=class extends ne.Component{constructor(d){super(d),this.state={location:d.location,revalidation:d.revalidation,error:d.error}}static getDerivedStateFromError(d){return{error:d}}static getDerivedStateFromProps(d,m){return m.location!==d.location||m.revalidation!=="idle"&&d.revalidation==="idle"?{error:d.error,location:d.location,revalidation:d.revalidation}:{error:d.error!==void 0?d.error:m.error,location:m.location,revalidation:d.revalidation||m.revalidation}}componentDidCatch(d,m){console.error("React Router caught the following error during render",d,m)}render(){return this.state.error!==void 0?ne.createElement(Ea.Provider,{value:this.props.routeContext},ne.createElement(e1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tg({routeContext:d,match:m,children:x}){let y=ne.useContext(wl);return y&&y.static&&y.staticContext&&(m.route.errorElement||m.route.ErrorBoundary)&&(y.staticContext._deepestRenderedBoundaryId=m.route.id),ne.createElement(Ea.Provider,{value:d},x)}function ng(d,m=[],x=null,y=null){if(d==null){if(!x)return null;if(x.errors)d=x.matches;else if(m.length===0&&!x.initialized&&x.matches.length>0)d=x.matches;else return null}let C=d,p=x==null?void 0:x.errors;if(p!=null){let O=C.findIndex(w=>w.route.id&&(p==null?void 0:p[w.route.id])!==void 0);Vt(O>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),C=C.slice(0,Math.min(C.length,O+1))}let I=!1,B=-1;if(x)for(let O=0;O<C.length;O++){let w=C[O];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(B=O),w.route.id){let{loaderData:R,errors:U}=x,K=w.route.loader&&!R.hasOwnProperty(w.route.id)&&(!U||U[w.route.id]===void 0);if(w.route.lazy||K){I=!0,B>=0?C=C.slice(0,B+1):C=[C[0]];break}}}return C.reduceRight((O,w,R)=>{let U,K=!1,ee=null,te=null;x&&(U=p&&w.route.id?p[w.route.id]:void 0,ee=w.route.errorElement||$2,I&&(B<0&&R===0?(Uh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,te=null):B===R&&(K=!0,te=w.route.hydrateFallbackElement||null)));let le=m.concat(C.slice(0,R+1)),ge=()=>{let ue;return U?ue=ee:K?ue=te:w.route.Component?ue=ne.createElement(w.route.Component,null):w.route.element?ue=w.route.element:ue=O,ne.createElement(tg,{match:w,routeContext:{outlet:O,matches:le,isDataRoute:x!=null},children:ue})};return x&&(w.route.ErrorBoundary||w.route.errorElement||R===0)?ne.createElement(eg,{location:x.location,revalidation:x.revalidation,component:ee,error:U,children:ge(),routeContext:{outlet:null,matches:le,isDataRoute:!0}}):ge()},null)}function t1(d){return`${d} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ig(d){let m=ne.useContext(wl);return Vt(m,t1(d)),m}function ag(d){let m=ne.useContext(Yo);return Vt(m,t1(d)),m}function rg(d){let m=ne.useContext(Ea);return Vt(m,t1(d)),m}function n1(d){let m=rg(d),x=m.matches[m.matches.length-1];return Vt(x.route.id,`${d} can only be used on routes that contain a unique "id"`),x.route.id}function lg(){return n1("useRouteId")}function sg(){var y;let d=ne.useContext(e1),m=ag("useRouteError"),x=n1("useRouteError");return d!==void 0?d:(y=m.errors)==null?void 0:y[x]}function og(){let{router:d}=ig("useNavigate"),m=n1("useNavigate"),x=ne.useRef(!1);return Rh(()=>{x.current=!0}),ne.useCallback(async(C,p={})=>{Gi(x.current,Dh),x.current&&(typeof C=="number"?d.navigate(C):await d.navigate(C,{fromRouteId:m,...p}))},[d,m])}var lh={};function Uh(d,m,x){!m&&!lh[d]&&(lh[d]=!0,Gi(!1,x))}ne.memo(ug);function ug({routes:d,future:m,state:x}){return Lh(d,void 0,x,m)}function Uo(d){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cg({basename:d="/",children:m=null,location:x,navigationType:y="POP",navigator:C,static:p=!1}){Vt(!vs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let I=d.replace(/^\/*/,"/"),B=ne.useMemo(()=>({basename:I,navigator:C,static:p,future:{}}),[I,C,p]);typeof x=="string"&&(x=Cl(x));let{pathname:O="/",search:w="",hash:R="",state:U=null,key:K="default"}=x,ee=ne.useMemo(()=>{let te=Aa(O,I);return te==null?null:{location:{pathname:te,search:w,hash:R,state:U,key:K},navigationType:y}},[I,O,w,R,U,K,y]);return Gi(ee!=null,`<Router basename="${I}"> is not able to match the URL "${O}${w}${R}" because it does not start with the basename, so the <Router> won't render anything.`),ee==null?null:ne.createElement(Vi.Provider,{value:B},ne.createElement(Ts.Provider,{children:m,value:ee}))}function fg({children:d,location:m}){return K2(Kc(d),m)}function Kc(d,m=[]){let x=[];return ne.Children.forEach(d,(y,C)=>{if(!ne.isValidElement(y))return;let p=[...m,C];if(y.type===ne.Fragment){x.push.apply(x,Kc(y.props.children,p));return}Vt(y.type===Uo,`[${typeof y.type=="string"?y.type:y.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!y.props.index||!y.props.children,"An index route cannot have child routes.");let I={id:y.props.id||p.join("-"),caseSensitive:y.props.caseSensitive,element:y.props.element,Component:y.props.Component,index:y.props.index,path:y.props.path,loader:y.props.loader,action:y.props.action,hydrateFallbackElement:y.props.hydrateFallbackElement,HydrateFallback:y.props.HydrateFallback,errorElement:y.props.errorElement,ErrorBoundary:y.props.ErrorBoundary,hasErrorBoundary:y.props.hasErrorBoundary===!0||y.props.ErrorBoundary!=null||y.props.errorElement!=null,shouldRevalidate:y.props.shouldRevalidate,handle:y.props.handle,lazy:y.props.lazy};y.props.children&&(I.children=Kc(y.props.children,p)),x.push(I)}),x}var ko="get",zo="application/x-www-form-urlencoded";function jo(d){return d!=null&&typeof d.tagName=="string"}function hg(d){return jo(d)&&d.tagName.toLowerCase()==="button"}function dg(d){return jo(d)&&d.tagName.toLowerCase()==="form"}function gg(d){return jo(d)&&d.tagName.toLowerCase()==="input"}function xg(d){return!!(d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)}function mg(d,m){return d.button===0&&(!m||m==="_self")&&!xg(d)}var Lo=null;function Ag(){if(Lo===null)try{new FormData(document.createElement("form"),0),Lo=!1}catch{Lo=!0}return Lo}var Eg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qc(d){return d!=null&&!Eg.has(d)?(Gi(!1,`"${d}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zo}"`),null):d}function yg(d,m){let x,y,C,p,I;if(dg(d)){let B=d.getAttribute("action");y=B?Aa(B,m):null,x=d.getAttribute("method")||ko,C=qc(d.getAttribute("enctype"))||zo,p=new FormData(d)}else if(hg(d)||gg(d)&&(d.type==="submit"||d.type==="image")){let B=d.form;if(B==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let O=d.getAttribute("formaction")||B.getAttribute("action");if(y=O?Aa(O,m):null,x=d.getAttribute("formmethod")||B.getAttribute("method")||ko,C=qc(d.getAttribute("formenctype"))||qc(B.getAttribute("enctype"))||zo,p=new FormData(B,d),!Ag()){let{name:w,type:R,value:U}=d;if(R==="image"){let K=w?`${w}.`:"";p.append(`${K}x`,"0"),p.append(`${K}y`,"0")}else w&&p.append(w,U)}}else{if(jo(d))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');x=ko,y=null,C=zo,I=d}return p&&C==="text/plain"&&(I=p,p=void 0),{action:y,method:x.toLowerCase(),encType:C,formData:p,body:I}}function i1(d,m){if(d===!1||d===null||typeof d>"u")throw new Error(m)}async function pg(d,m){if(d.id in m)return m[d.id];try{let x=await import(d.module);return m[d.id]=x,x}catch(x){return console.error(`Error loading route module \`${d.module}\`, reloading page...`),console.error(x),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cg(d){return d==null?!1:d.href==null?d.rel==="preload"&&typeof d.imageSrcSet=="string"&&typeof d.imageSizes=="string":typeof d.rel=="string"&&typeof d.href=="string"}async function wg(d,m,x){let y=await Promise.all(d.map(async C=>{let p=m.routes[C.route.id];if(p){let I=await pg(p,x);return I.links?I.links():[]}return[]}));return vg(y.flat(1).filter(Cg).filter(C=>C.rel==="stylesheet"||C.rel==="preload").map(C=>C.rel==="stylesheet"?{...C,rel:"prefetch",as:"style"}:{...C,rel:"prefetch"}))}function sh(d,m,x,y,C,p){let I=(O,w)=>x[w]?O.route.id!==x[w].route.id:!0,B=(O,w)=>{var R;return x[w].pathname!==O.pathname||((R=x[w].route.path)==null?void 0:R.endsWith("*"))&&x[w].params["*"]!==O.params["*"]};return p==="assets"?m.filter((O,w)=>I(O,w)||B(O,w)):p==="data"?m.filter((O,w)=>{var U;let R=y.routes[O.route.id];if(!R||!R.hasLoader)return!1;if(I(O,w)||B(O,w))return!0;if(O.route.shouldRevalidate){let K=O.route.shouldRevalidate({currentUrl:new URL(C.pathname+C.search+C.hash,window.origin),currentParams:((U=x[0])==null?void 0:U.params)||{},nextUrl:new URL(d,window.origin),nextParams:O.params,defaultShouldRevalidate:!0});if(typeof K=="boolean")return K}return!0}):[]}function Sg(d,m,{includeHydrateFallback:x}={}){return bg(d.map(y=>{let C=m.routes[y.route.id];if(!C)return[];let p=[C.module];return C.clientActionModule&&(p=p.concat(C.clientActionModule)),C.clientLoaderModule&&(p=p.concat(C.clientLoaderModule)),x&&C.hydrateFallbackModule&&(p=p.concat(C.hydrateFallbackModule)),C.imports&&(p=p.concat(C.imports)),p}).flat(1))}function bg(d){return[...new Set(d)]}function Tg(d){let m={},x=Object.keys(d).sort();for(let y of x)m[y]=d[y];return m}function vg(d,m){let x=new Set;return new Set(m),d.reduce((y,C)=>{let p=JSON.stringify(Tg(C));return x.has(p)||(x.add(p),y.push({key:p,link:C})),y},[])}function Ng(d,m){let x=typeof d=="string"?new URL(d,typeof window>"u"?"server://singlefetch/":window.location.origin):d;return x.pathname==="/"?x.pathname="_root.data":m&&Aa(x.pathname,m)==="/"?x.pathname=`${m.replace(/\/$/,"")}/_root.data`:x.pathname=`${x.pathname.replace(/\/$/,"")}.data`,x}function kh(){let d=ne.useContext(wl);return i1(d,"You must render this element inside a <DataRouterContext.Provider> element"),d}function Mg(){let d=ne.useContext(Yo);return i1(d,"You must render this element inside a <DataRouterStateContext.Provider> element"),d}var a1=ne.createContext(void 0);a1.displayName="FrameworkContext";function zh(){let d=ne.useContext(a1);return i1(d,"You must render this element inside a <HydratedRouter> element"),d}function Ig(d,m){let x=ne.useContext(a1),[y,C]=ne.useState(!1),[p,I]=ne.useState(!1),{onFocus:B,onBlur:O,onMouseEnter:w,onMouseLeave:R,onTouchStart:U}=m,K=ne.useRef(null);ne.useEffect(()=>{if(d==="render"&&I(!0),d==="viewport"){let le=ue=>{ue.forEach(Ee=>{I(Ee.isIntersecting)})},ge=new IntersectionObserver(le,{threshold:.5});return K.current&&ge.observe(K.current),()=>{ge.disconnect()}}},[d]),ne.useEffect(()=>{if(y){let le=setTimeout(()=>{I(!0)},100);return()=>{clearTimeout(le)}}},[y]);let ee=()=>{C(!0)},te=()=>{C(!1),I(!1)};return x?d!=="intent"?[p,K,{}]:[p,K,{onFocus:Cs(B,ee),onBlur:Cs(O,te),onMouseEnter:Cs(w,ee),onMouseLeave:Cs(R,te),onTouchStart:Cs(U,ee)}]:[!1,K,{}]}function Cs(d,m){return x=>{d&&d(x),x.defaultPrevented||m(x)}}function Og({page:d,...m}){let{router:x}=kh(),y=ne.useMemo(()=>Th(x.routes,d,x.basename),[x.routes,d,x.basename]);return y?ne.createElement(Dg,{page:d,matches:y,...m}):null}function _g(d){let{manifest:m,routeModules:x}=zh(),[y,C]=ne.useState([]);return ne.useEffect(()=>{let p=!1;return wg(d,m,x).then(I=>{p||C(I)}),()=>{p=!0}},[d,m,x]),y}function Dg({page:d,matches:m,...x}){let y=Lr(),{manifest:C,routeModules:p}=zh(),{basename:I}=kh(),{loaderData:B,matches:O}=Mg(),w=ne.useMemo(()=>sh(d,m,O,C,y,"data"),[d,m,O,C,y]),R=ne.useMemo(()=>sh(d,m,O,C,y,"assets"),[d,m,O,C,y]),U=ne.useMemo(()=>{if(d===y.pathname+y.search+y.hash)return[];let te=new Set,le=!1;if(m.forEach(ue=>{var ae;let Ee=C.routes[ue.route.id];!Ee||!Ee.hasLoader||(!w.some(ve=>ve.route.id===ue.route.id)&&ue.route.id in B&&((ae=p[ue.route.id])!=null&&ae.shouldRevalidate)||Ee.hasClientLoader?le=!0:te.add(ue.route.id))}),te.size===0)return[];let ge=Ng(d,I);return le&&te.size>0&&ge.searchParams.set("_routes",m.filter(ue=>te.has(ue.route.id)).map(ue=>ue.route.id).join(",")),[ge.pathname+ge.search]},[I,B,y,C,w,m,d,p]),K=ne.useMemo(()=>Sg(R,C),[R,C]),ee=_g(R);return ne.createElement(ne.Fragment,null,U.map(te=>ne.createElement("link",{key:te,rel:"prefetch",as:"fetch",href:te,...x})),K.map(te=>ne.createElement("link",{key:te,rel:"modulepreload",href:te,...x})),ee.map(({key:te,link:le})=>ne.createElement("link",{key:te,...le})))}function Rg(...d){return m=>{d.forEach(x=>{typeof x=="function"?x(m):x!=null&&(x.current=m)})}}var Fh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fh&&(window.__reactRouterVersion="7.3.0")}catch{}function Bg({basename:d,children:m,window:x}){let y=ne.useRef();y.current==null&&(y.current=S2({window:x,v5Compat:!0}));let C=y.current,[p,I]=ne.useState({action:C.action,location:C.location}),B=ne.useCallback(O=>{ne.startTransition(()=>I(O))},[I]);return ne.useLayoutEffect(()=>C.listen(B),[C,B]),ne.createElement(cg,{basename:d,children:m,location:p.location,navigationType:p.action,navigator:C})}var Hh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ph=ne.forwardRef(function({onClick:m,discover:x="render",prefetch:y="none",relative:C,reloadDocument:p,replace:I,state:B,target:O,to:w,preventScrollReset:R,viewTransition:U,...K},ee){let{basename:te}=ne.useContext(Vi),le=typeof w=="string"&&Hh.test(w),ge,ue=!1;if(typeof w=="string"&&le&&(ge=w,Fh))try{let X=new URL(window.location.href),Pe=w.startsWith("//")?new URL(X.protocol+w):new URL(w),mt=Aa(Pe.pathname,te);Pe.origin===X.origin&&mt!=null?w=mt+Pe.search+Pe.hash:ue=!0}catch{Gi(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Ee=Q2(w,{relative:C}),[ae,ve,Re]=Ig(y,K),ke=zg(w,{replace:I,state:B,target:O,preventScrollReset:R,relative:C,viewTransition:U});function fe(X){m&&m(X),X.defaultPrevented||ke(X)}let Ye=ne.createElement("a",{...K,...Re,href:ge||Ee,onClick:ue||p?m:fe,ref:Rg(ee,ve),target:O,"data-discover":!le&&x==="render"?"true":void 0});return ae&&!le?ne.createElement(ne.Fragment,null,Ye,ne.createElement(Og,{page:Ee})):Ye});Ph.displayName="Link";var Lg=ne.forwardRef(function({"aria-current":m="page",caseSensitive:x=!1,className:y="",end:C=!1,style:p,to:I,viewTransition:B,children:O,...w},R){let U=Ns(I,{relative:w.relative}),K=Lr(),ee=ne.useContext(Yo),{navigator:te,basename:le}=ne.useContext(Vi),ge=ee!=null&&jg(U)&&B===!0,ue=te.encodeLocation?te.encodeLocation(U).pathname:U.pathname,Ee=K.pathname,ae=ee&&ee.navigation&&ee.navigation.location?ee.navigation.location.pathname:null;x||(Ee=Ee.toLowerCase(),ae=ae?ae.toLowerCase():null,ue=ue.toLowerCase()),ae&&le&&(ae=Aa(ae,le)||ae);const ve=ue!=="/"&&ue.endsWith("/")?ue.length-1:ue.length;let Re=Ee===ue||!C&&Ee.startsWith(ue)&&Ee.charAt(ve)==="/",ke=ae!=null&&(ae===ue||!C&&ae.startsWith(ue)&&ae.charAt(ue.length)==="/"),fe={isActive:Re,isPending:ke,isTransitioning:ge},Ye=Re?m:void 0,X;typeof y=="function"?X=y(fe):X=[y,Re?"active":null,ke?"pending":null,ge?"transitioning":null].filter(Boolean).join(" ");let Pe=typeof p=="function"?p(fe):p;return ne.createElement(Ph,{...w,"aria-current":Ye,className:X,ref:R,style:Pe,to:I,viewTransition:B},typeof O=="function"?O(fe):O)});Lg.displayName="NavLink";var Ug=ne.forwardRef(({discover:d="render",fetcherKey:m,navigate:x,reloadDocument:y,replace:C,state:p,method:I=ko,action:B,onSubmit:O,relative:w,preventScrollReset:R,viewTransition:U,...K},ee)=>{let te=Pg(),le=Yg(B,{relative:w}),ge=I.toLowerCase()==="get"?"get":"post",ue=typeof B=="string"&&Hh.test(B),Ee=ae=>{if(O&&O(ae),ae.defaultPrevented)return;ae.preventDefault();let ve=ae.nativeEvent.submitter,Re=(ve==null?void 0:ve.getAttribute("formmethod"))||I;te(ve||ae.currentTarget,{fetcherKey:m,method:Re,navigate:x,replace:C,state:p,relative:w,preventScrollReset:R,viewTransition:U})};return ne.createElement("form",{ref:ee,method:ge,action:le,onSubmit:y?O:Ee,...K,"data-discover":!ue&&d==="render"?"true":void 0})});Ug.displayName="Form";function kg(d){return`${d} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yh(d){let m=ne.useContext(wl);return Vt(m,kg(d)),m}function zg(d,{target:m,replace:x,state:y,preventScrollReset:C,relative:p,viewTransition:I}={}){let B=Bh(),O=Lr(),w=Ns(d,{relative:p});return ne.useCallback(R=>{if(mg(R,m)){R.preventDefault();let U=x!==void 0?x:bs(O)===bs(w);B(d,{replace:U,state:y,preventScrollReset:C,relative:p,viewTransition:I})}},[O,B,w,x,y,m,d,C,p,I])}var Fg=0,Hg=()=>`__${String(++Fg)}__`;function Pg(){let{router:d}=Yh("useSubmit"),{basename:m}=ne.useContext(Vi),x=lg();return ne.useCallback(async(y,C={})=>{let{action:p,method:I,encType:B,formData:O,body:w}=yg(y,m);if(C.navigate===!1){let R=C.fetcherKey||Hg();await d.fetch(R,x,C.action||p,{preventScrollReset:C.preventScrollReset,formData:O,body:w,formMethod:C.method||I,formEncType:C.encType||B,flushSync:C.flushSync})}else await d.navigate(C.action||p,{preventScrollReset:C.preventScrollReset,formData:O,body:w,formMethod:C.method||I,formEncType:C.encType||B,replace:C.replace,state:C.state,fromRouteId:x,flushSync:C.flushSync,viewTransition:C.viewTransition})},[d,m,x])}function Yg(d,{relative:m}={}){let{basename:x}=ne.useContext(Vi),y=ne.useContext(Ea);Vt(y,"useFormAction must be used inside a RouteContext");let[C]=y.matches.slice(-1),p={...Ns(d||".",{relative:m})},I=Lr();if(d==null){p.search=I.search;let B=new URLSearchParams(p.search),O=B.getAll("index");if(O.some(R=>R==="")){B.delete("index"),O.filter(U=>U).forEach(U=>B.append("index",U));let R=B.toString();p.search=R?`?${R}`:""}}return(!d||d===".")&&C.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),x!=="/"&&(p.pathname=p.pathname==="/"?x:ma([x,p.pathname])),bs(p)}function jg(d,m={}){let x=ne.useContext(_h);Vt(x!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:y}=Yh("useViewTransitionState"),C=Ns(d,{relative:m.relative});if(!x.isTransitioning)return!1;let p=Aa(x.currentLocation.pathname,y)||x.currentLocation.pathname,I=Aa(x.nextLocation.pathname,y)||x.nextLocation.pathname;return Fo(C.pathname,I)!=null||Fo(C.pathname,p)!=null}new TextEncoder;const Gg="_background_1kqm4_1",Vg="_errorMessage_1kqm4_12",Xg="_login_1kqm4_17",Qc={background:Gg,errorMessage:Vg,login:Xg};function oh(){const[d,m]=ne.useState(""),[x,y]=ne.useState(""),[C,p]=ne.useState(""),I=Bh();ne.useEffect(()=>(document.body.style.margin=0,()=>{document.body.style.margin="auto"}));const B=async O=>{p(""),O.preventDefault();const w=new URLSearchParams;w.append("username",d),w.append("password",x);try{const R=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:w.toString()});R.ok?I("/scan"):R.status==401?p("Invalid username or password."):p("Error logging in. Response "+R.status)}catch(R){console.error("Error:",R),p("Error logging in.")}};return Ht.jsx("div",{className:Qc.background,children:Ht.jsxs("form",{className:Qc.login,onSubmit:B,children:[Ht.jsx("input",{type:"text",placeholder:"Username",value:d,onInput:O=>m(O.target.value)}),Ht.jsx("input",{type:"password",placeholder:"Password",value:x,onInput:O=>y(O.target.value)}),Ht.jsx("button",{children:"Login"}),Ht.jsx("a",{className:Qc.errorMessage,children:C})]})})}var we;(function(d){d[d.QR_CODE=0]="QR_CODE",d[d.AZTEC=1]="AZTEC",d[d.CODABAR=2]="CODABAR",d[d.CODE_39=3]="CODE_39",d[d.CODE_93=4]="CODE_93",d[d.CODE_128=5]="CODE_128",d[d.DATA_MATRIX=6]="DATA_MATRIX",d[d.MAXICODE=7]="MAXICODE",d[d.ITF=8]="ITF",d[d.EAN_13=9]="EAN_13",d[d.EAN_8=10]="EAN_8",d[d.PDF_417=11]="PDF_417",d[d.RSS_14=12]="RSS_14",d[d.RSS_EXPANDED=13]="RSS_EXPANDED",d[d.UPC_A=14]="UPC_A",d[d.UPC_E=15]="UPC_E",d[d.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(we||(we={}));var uh=new Map([[we.QR_CODE,"QR_CODE"],[we.AZTEC,"AZTEC"],[we.CODABAR,"CODABAR"],[we.CODE_39,"CODE_39"],[we.CODE_93,"CODE_93"],[we.CODE_128,"CODE_128"],[we.DATA_MATRIX,"DATA_MATRIX"],[we.MAXICODE,"MAXICODE"],[we.ITF,"ITF"],[we.EAN_13,"EAN_13"],[we.EAN_8,"EAN_8"],[we.PDF_417,"PDF_417"],[we.RSS_14,"RSS_14"],[we.RSS_EXPANDED,"RSS_EXPANDED"],[we.UPC_A,"UPC_A"],[we.UPC_E,"UPC_E"],[we.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ch;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.URL=1]="URL"})(ch||(ch={}));function Zg(d){return Object.values(we).includes(d)}var rr;(function(d){d[d.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",d[d.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(rr||(rr={}));var Ti=function(){function d(){}return d.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",d.SCAN_DEFAULT_FPS=2,d.DEFAULT_DISABLE_FLIP=!1,d.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,d.DEFAULT_SUPPORTED_SCAN_TYPE=[rr.SCAN_TYPE_CAMERA,rr.SCAN_TYPE_FILE],d}(),jh=function(){function d(m,x){this.format=m,this.formatName=x}return d.prototype.toString=function(){return this.formatName},d.create=function(m){if(!uh.has(m))throw"".concat(m," not in html5QrcodeSupportedFormatsTextMap");return new d(m,uh.get(m))},d}(),fh=function(){function d(){}return d.createFromText=function(m){var x={text:m};return{decodedText:m,result:x}},d.createFromQrcodeResult=function(m){return{decodedText:m.text,result:m}},d}(),Jc;(function(d){d[d.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",d[d.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",d[d.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Jc||(Jc={}));var Gh=function(){function d(){}return d.createFrom=function(m){return{errorMessage:m,type:Jc.UNKWOWN_ERROR}},d}(),Vh=function(){function d(m){this.verbose=m}return d.prototype.log=function(m){this.verbose&&console.log(m)},d.prototype.warn=function(m){this.verbose&&console.warn(m)},d.prototype.logError=function(m,x){(this.verbose||x===!0)&&console.error(m)},d.prototype.logErrors=function(m){if(m.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(m)},d}();function ji(d){return typeof d>"u"||d===null}function qg(d,m,x){return d>x?x:d<m?m:d}var pl=function(){function d(){}return d.codeParseError=function(m){return"QR code parse error, error = ".concat(m)},d.errorGettingUserMedia=function(m){return"Error getting userMedia, error = ".concat(m)},d.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},d.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},d.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},d.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},d.scannerPaused=function(){return"Scanner paused"},d}(),St=function(){function d(){}return d.scanningStatus=function(){return"Scanning"},d.idleStatus=function(){return"Idle"},d.errorStatus=function(){return"Error"},d.permissionStatus=function(){return"Permission"},d.noCameraFoundErrorStatus=function(){return"No Cameras"},d.lastMatch=function(m){return"Last Match: ".concat(m)},d.codeScannerTitle=function(){return"Code Scanner"},d.cameraPermissionTitle=function(){return"Request Camera Permissions"},d.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},d.noCameraFound=function(){return"No camera found"},d.scanButtonStopScanningText=function(){return"Stop Scanning"},d.scanButtonStartScanningText=function(){return"Start Scanning"},d.torchOnButton=function(){return"Switch On Torch"},d.torchOffButton=function(){return"Switch Off Torch"},d.torchOnFailedMessage=function(){return"Failed to turn on torch"},d.torchOffFailedMessage=function(){return"Failed to turn off torch"},d.scanButtonScanningStarting=function(){return"Launching Camera..."},d.textIfCameraScanSelected=function(){return"Scan an Image File"},d.textIfFileScanSelected=function(){return"Scan using camera directly"},d.selectCamera=function(){return"Select Camera"},d.fileSelectionChooseImage=function(){return"Choose Image"},d.fileSelectionChooseAnother=function(){return"Choose Another"},d.fileSelectionNoImageSelected=function(){return"No image choosen"},d.anonymousCameraPrefix=function(){return"Anonymous Camera"},d.dragAndDropMessage=function(){return"Or drop an image to scan"},d.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},d.zoom=function(){return"zoom"},d.loadingImage=function(){return"Loading image..."},d.cameraScanAltText=function(){return"Camera based scan"},d.fileScanAltText=function(){return"Fule based scan"},d}(),hh=function(){function d(){}return d.poweredBy=function(){return"Powered by "},d.reportIssues=function(){return"Report issues"},d}(),Xh=function(){function d(){}return d.isMediaStreamConstraintsValid=function(m,x){if(typeof m!="object"){var y=typeof m;return x.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(y,"."),!0),!1}for(var C=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(C),I=Object.keys(m),B=0,O=I;B<O.length;B++){var w=O[B];if(p.has(w))return x.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},d}(),Ss={exports:{}},Qg=Ss.exports,dh;function Wg(){return dh||(dh=1,function(d,m){(function(x,y){y(m)})(Qg,function(x){function y(T){return T==null}var C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,n){T.__proto__=n}||function(T,n){for(var a in n)n.hasOwnProperty(a)&&(T[a]=n[a])};function p(T,n){C(T,n);function a(){this.constructor=T}T.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}function I(T,n){var a=Object.setPrototypeOf;a?a(T,n):T.__proto__=n}function B(T,n){n===void 0&&(n=T.constructor);var a=Error.captureStackTrace;a&&a(T,n)}var O=function(T){p(n,T);function n(a){var r=this.constructor,s=T.call(this,a)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),I(s,r.prototype),B(s),s}return n}(Error);class w extends O{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}w.kind="Exception";class R extends w{}R.kind="ArgumentException";class U extends w{}U.kind="IllegalArgumentException";class K{constructor(n){if(this.binarizer=n,n===null)throw new U("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,a){return this.binarizer.getBlackRow(n,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,a,r,s){const o=this.binarizer.getLuminanceSource().crop(n,a,r,s);return new K(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new K(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new K(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class ee extends w{static getChecksumInstance(){return new ee}}ee.kind="ChecksumException";class te{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class le{static arraycopy(n,a,r,s,o){for(;o--;)r[s++]=n[a++]}static currentTimeMillis(){return Date.now()}}class ge extends w{}ge.kind="IndexOutOfBoundsException";class ue extends ge{constructor(n=void 0,a=void 0){super(a),this.index=n,this.message=a}}ue.kind="ArrayIndexOutOfBoundsException";class Ee{static fill(n,a){for(let r=0,s=n.length;r<s;r++)n[r]=a}static fillWithin(n,a,r,s){Ee.rangeCheck(n.length,a,r);for(let o=a;o<r;o++)n[o]=s}static rangeCheck(n,a,r){if(a>r)throw new U("fromIndex("+a+") > toIndex("+r+")");if(a<0)throw new ue(a);if(r>n)throw new ue(r)}static asList(...n){return n}static create(n,a,r){return Array.from({length:n}).map(o=>Array.from({length:a}).fill(r))}static createInt32Array(n,a,r){return Array.from({length:n}).map(o=>Int32Array.from({length:a}).fill(r))}static equals(n,a){if(!n||!a||!n.length||!a.length||n.length!==a.length)return!1;for(let r=0,s=n.length;r<s;r++)if(n[r]!==a[r])return!1;return!0}static hashCode(n){if(n===null)return 0;let a=1;for(const r of n)a=31*a+r;return a}static fillUint8Array(n,a){for(let r=0;r!==n.length;r++)n[r]=a}static copyOf(n,a){return n.slice(0,a)}static copyOfUint8Array(n,a){if(n.length<=a){const r=new Uint8Array(a);return r.set(n),r}return n.slice(0,a)}static copyOfRange(n,a,r){const s=r-a,o=new Int32Array(s);return le.arraycopy(n,a,o,0,s),o}static binarySearch(n,a,r){r===void 0&&(r=Ee.numberComparator);let s=0,o=n.length-1;for(;s<=o;){const c=o+s>>1,f=r(a,n[c]);if(f>0)s=c+1;else if(f<0)o=c-1;else return c}return-s-1}static numberComparator(n,a){return n-a}}class ae{static numberOfTrailingZeros(n){let a;if(n===0)return 32;let r=31;return a=n<<16,a!==0&&(r-=16,n=a),a=n<<8,a!==0&&(r-=8,n=a),a=n<<4,a!==0&&(r-=4,n=a),a=n<<2,a!==0&&(r-=2,n=a),r-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let a=1;return n>>>16||(a+=16,n<<=16),n>>>24||(a+=8,n<<=8),n>>>28||(a+=4,n<<=4),n>>>30||(a+=2,n<<=2),a-=n>>>31,a}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,a){return Math.trunc(n/a)}static parseInt(n,a=void 0){return parseInt(n,a)}}ae.MIN_VALUE_32_BITS=-2147483648,ae.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ve{constructor(n,a){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,a==null?this.bits=ve.makeArray(n):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const a=ve.makeArray(n);le.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const a=this.size;if(n>=a)return a;const r=this.bits;let s=Math.floor(n/32),o=r[s];o&=~((1<<(n&31))-1);const c=r.length;for(;o===0;){if(++s===c)return a;o=r[s]}const f=s*32+ae.numberOfTrailingZeros(o);return f>a?a:f}getNextUnset(n){const a=this.size;if(n>=a)return a;const r=this.bits;let s=Math.floor(n/32),o=~r[s];o&=~((1<<(n&31))-1);const c=r.length;for(;o===0;){if(++s===c)return a;o=~r[s]}const f=s*32+ae.numberOfTrailingZeros(o);return f>a?a:f}setBulk(n,a){this.bits[Math.floor(n/32)]=a}setRange(n,a){if(a<n||n<0||a>this.size)throw new U;if(a===n)return;a--;const r=Math.floor(n/32),s=Math.floor(a/32),o=this.bits;for(let c=r;c<=s;c++){const f=c>r?0:n&31,E=(2<<(c<s?31:a&31))-(1<<f);o[c]|=E}}clear(){const n=this.bits.length,a=this.bits;for(let r=0;r<n;r++)a[r]=0}isRange(n,a,r){if(a<n||n<0||a>this.size)throw new U;if(a===n)return!0;a--;const s=Math.floor(n/32),o=Math.floor(a/32),c=this.bits;for(let f=s;f<=o;f++){const g=f>s?0:n&31,S=(2<<(f<o?31:a&31))-(1<<g)&4294967295;if((c[f]&S)!==(r?S:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,a){if(a<0||a>32)throw new U("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let r=a;r>0;r--)this.appendBit((n>>r-1&1)===1)}appendBitArray(n){const a=n.size;this.ensureCapacity(this.size+a);for(let r=0;r<a;r++)this.appendBit(n.get(r))}xor(n){if(this.size!==n.size)throw new U("Sizes don't match");const a=this.bits;for(let r=0,s=a.length;r<s;r++)a[r]^=n.bits[r]}toBytes(n,a,r,s){for(let o=0;o<s;o++){let c=0;for(let f=0;f<8;f++)this.get(n)&&(c|=1<<7-f),n++;a[r+o]=c}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),r=a+1,s=this.bits;for(let o=0;o<r;o++){let c=s[o];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,n[a-o]=c}if(this.size!==r*32){const o=r*32-this.size;let c=n[0]>>>o;for(let f=1;f<r;f++){const g=n[f];c|=g<<32-o,n[f-1]=c,c=g>>>o}n[r-1]=c}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof ve))return!1;const a=n;return this.size===a.size&&Ee.equals(this.bits,a.bits)}hashCode(){return 31*this.size+Ee.hashCode(this.bits)}toString(){let n="";for(let a=0,r=this.size;a<r;a++)(a&7)===0&&(n+=" "),n+=this.get(a)?"X":".";return n}clone(){return new ve(this.size,this.bits.slice())}}var Re;(function(T){T[T.OTHER=0]="OTHER",T[T.PURE_BARCODE=1]="PURE_BARCODE",T[T.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",T[T.TRY_HARDER=3]="TRY_HARDER",T[T.CHARACTER_SET=4]="CHARACTER_SET",T[T.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",T[T.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",T[T.ASSUME_GS1=7]="ASSUME_GS1",T[T.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",T[T.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",T[T.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Re||(Re={}));var ke=Re;class fe extends w{static getFormatInstance(){return new fe}}fe.kind="FormatException";var Ye;(function(T){T[T.Cp437=0]="Cp437",T[T.ISO8859_1=1]="ISO8859_1",T[T.ISO8859_2=2]="ISO8859_2",T[T.ISO8859_3=3]="ISO8859_3",T[T.ISO8859_4=4]="ISO8859_4",T[T.ISO8859_5=5]="ISO8859_5",T[T.ISO8859_6=6]="ISO8859_6",T[T.ISO8859_7=7]="ISO8859_7",T[T.ISO8859_8=8]="ISO8859_8",T[T.ISO8859_9=9]="ISO8859_9",T[T.ISO8859_10=10]="ISO8859_10",T[T.ISO8859_11=11]="ISO8859_11",T[T.ISO8859_13=12]="ISO8859_13",T[T.ISO8859_14=13]="ISO8859_14",T[T.ISO8859_15=14]="ISO8859_15",T[T.ISO8859_16=15]="ISO8859_16",T[T.SJIS=16]="SJIS",T[T.Cp1250=17]="Cp1250",T[T.Cp1251=18]="Cp1251",T[T.Cp1252=19]="Cp1252",T[T.Cp1256=20]="Cp1256",T[T.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",T[T.UTF8=22]="UTF8",T[T.ASCII=23]="ASCII",T[T.Big5=24]="Big5",T[T.GB18030=25]="GB18030",T[T.EUC_KR=26]="EUC_KR"})(Ye||(Ye={}));class X{constructor(n,a,r,...s){this.valueIdentifier=n,this.name=r,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=s,X.VALUE_IDENTIFIER_TO_ECI.set(n,this),X.NAME_TO_ECI.set(r,this);const o=this.values;for(let c=0,f=o.length;c!==f;c++){const g=o[c];X.VALUES_TO_ECI.set(g,this)}for(const c of s)X.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new fe("incorect value");const a=X.VALUES_TO_ECI.get(n);if(a===void 0)throw new fe("incorect value");return a}static getCharacterSetECIByName(n){const a=X.NAME_TO_ECI.get(n);if(a===void 0)throw new fe("incorect value");return a}equals(n){if(!(n instanceof X))return!1;const a=n;return this.getName()===a.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(Ye.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(Ye.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(Ye.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(Ye.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(Ye.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(Ye.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(Ye.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(Ye.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(Ye.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(Ye.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(Ye.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(Ye.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(Ye.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(Ye.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(Ye.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(Ye.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(Ye.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(Ye.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(Ye.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(Ye.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(Ye.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(Ye.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(Ye.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(Ye.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(Ye.Big5,28,"Big5"),X.GB18030=new X(Ye.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(Ye.EUC_KR,30,"EUC_KR","EUC-KR");class Pe extends w{}Pe.kind="UnsupportedOperationException";class mt{static decode(n,a){const r=this.encodingName(a);return this.customDecoder?this.customDecoder(n,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(n,r):new TextDecoder(r).decode(n)}static shouldDecodeOnFallback(n){return!mt.isBrowser()&&n==="ISO-8859-1"}static encode(n,a){const r=this.encodingName(a);return this.customEncoder?this.customEncoder(n,r):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof X?n:X.getCharacterSetECIByName(n)}static decodeFallback(n,a){const r=this.encodingCharacterSet(a);if(mt.isDecodeFallbackSupported(r)){let s="";for(let o=0,c=n.length;o<c;o++){let f=n[o].toString(16);f.length<2&&(f="0"+f),s+="%"+f}return decodeURIComponent(s)}if(r.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new Pe(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(X.UTF8)||n.equals(X.ISO8859_1)||n.equals(X.ASCII)}static encodeFallback(n){const r=btoa(unescape(encodeURIComponent(n))).split(""),s=[];for(let o=0;o<r.length;o++)s.push(r[o].charCodeAt(0));return new Uint8Array(s)}}class Oe{static castAsNonUtf8Char(n,a=null){const r=a?a.getName():this.ISO88591;return mt.decode(new Uint8Array([n]),r)}static guessEncoding(n,a){if(a!=null&&a.get(ke.CHARACTER_SET)!==void 0)return a.get(ke.CHARACTER_SET).toString();const r=n.length;let s=!0,o=!0,c=!0,f=0,g=0,E=0,S=0,v=0,N=0,D=0,k=0,z=0,j=0,Q=0;const ce=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let he=0;he<r&&(s||o||c);he++){const se=n[he]&255;c&&(f>0?(se&128)===0?c=!1:f--:(se&128)!==0&&((se&64)===0?c=!1:(f++,(se&32)===0?g++:(f++,(se&16)===0?E++:(f++,(se&8)===0?S++:c=!1))))),s&&(se>127&&se<160?s=!1:se>159&&(se<192||se===215||se===247)&&Q++),o&&(v>0?se<64||se===127||se>252?o=!1:v--:se===128||se===160||se>239?o=!1:se>160&&se<224?(N++,k=0,D++,D>z&&(z=D)):se>127?(v++,D=0,k++,k>j&&(j=k)):(D=0,k=0))}return c&&f>0&&(c=!1),o&&v>0&&(o=!1),c&&(ce||g+E+S>0)?Oe.UTF8:o&&(Oe.ASSUME_SHIFT_JIS||z>=3||j>=3)?Oe.SHIFT_JIS:s&&o?z===2&&N===2||Q*10>=r?Oe.SHIFT_JIS:Oe.ISO88591:s?Oe.ISO88591:o?Oe.SHIFT_JIS:c?Oe.UTF8:Oe.PLATFORM_DEFAULT_ENCODING}static format(n,...a){let r=-1;function s(c,f,g,E,S,v){if(c==="%%")return"%";if(a[++r]===void 0)return;c=E?parseInt(E.substr(1)):void 0;let N=S?parseInt(S.substr(1)):void 0,D;switch(v){case"s":D=a[r];break;case"c":D=a[r][0];break;case"f":D=parseFloat(a[r]).toFixed(c);break;case"p":D=parseFloat(a[r]).toPrecision(c);break;case"e":D=parseFloat(a[r]).toExponential(c);break;case"x":D=parseInt(a[r]).toString(N||16);break;case"d":D=parseFloat(parseInt(a[r],N||10).toPrecision(c)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(N);let k=parseInt(g),z=g&&g[0]+""=="0"?"0":" ";for(;D.length<k;)D=f!==void 0?D+z:z+D;return D}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(o,s)}static getBytes(n,a){return mt.encode(n,a)}static getCharCode(n,a=0){return n.charCodeAt(a)}static getCharAt(n){return String.fromCharCode(n)}}Oe.SHIFT_JIS=X.SJIS.getName(),Oe.GB2312="GB2312",Oe.ISO88591=X.ISO8859_1.getName(),Oe.EUC_JP="EUC_JP",Oe.UTF8=X.UTF8.getName(),Oe.PLATFORM_DEFAULT_ENCODING=Oe.UTF8,Oe.ASSUME_SHIFT_JIS=!1;class qe{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=Oe.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,a,r){for(let s=a;a<a+r;s++)this.append(n[s]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,a){this.value=this.value.substr(0,n)+a+this.value.substr(n+1)}substring(n,a){return this.value.substring(n,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,a){this.value=this.value.substr(0,n)+a+this.value.substr(n+a.length)}}class bt{constructor(n,a,r,s){if(this.width=n,this.height=a,this.rowSize=r,this.bits=s,a==null&&(a=n),this.height=a,n<1||a<1)throw new U("Both dimensions must be greater than 0");r==null&&(r=Math.floor((n+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const a=n.length,r=n[0].length,s=new bt(r,a);for(let o=0;o<a;o++){const c=n[o];for(let f=0;f<r;f++)c[f]&&s.set(f,o)}return s}static parseFromString(n,a,r){if(n===null)throw new U("stringRepresentation cannot be null");const s=new Array(n.length);let o=0,c=0,f=-1,g=0,E=0;for(;E<n.length;)if(n.charAt(E)===`
`||n.charAt(E)==="\r"){if(o>c){if(f===-1)f=o-c;else if(o-c!==f)throw new U("row lengths do not match");c=o,g++}E++}else if(n.substring(E,E+a.length)===a)E+=a.length,s[o]=!0,o++;else if(n.substring(E,E+r.length)===r)E+=r.length,s[o]=!1,o++;else throw new U("illegal character encountered: "+n.substring(E));if(o>c){if(f===-1)f=o-c;else if(o-c!==f)throw new U("row lengths do not match");g++}const S=new bt(f,g);for(let v=0;v<o;v++)s[v]&&S.set(Math.floor(v%f),Math.floor(v/f));return S}get(n,a){const r=a*this.rowSize+Math.floor(n/32);return(this.bits[r]>>>(n&31)&1)!==0}set(n,a){const r=a*this.rowSize+Math.floor(n/32);this.bits[r]|=1<<(n&31)&4294967295}unset(n,a){const r=a*this.rowSize+Math.floor(n/32);this.bits[r]&=~(1<<(n&31)&4294967295)}flip(n,a){const r=a*this.rowSize+Math.floor(n/32);this.bits[r]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new U("input matrix dimensions do not match");const a=new ve(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let o=0,c=this.height;o<c;o++){const f=o*r,g=n.getRow(o,a).getBitArray();for(let E=0;E<r;E++)s[f+E]^=g[E]}}clear(){const n=this.bits,a=n.length;for(let r=0;r<a;r++)n[r]=0}setRegion(n,a,r,s){if(a<0||n<0)throw new U("Left and top must be nonnegative");if(s<1||r<1)throw new U("Height and width must be at least 1");const o=n+r,c=a+s;if(c>this.height||o>this.width)throw new U("The region must fit inside the matrix");const f=this.rowSize,g=this.bits;for(let E=a;E<c;E++){const S=E*f;for(let v=n;v<o;v++)g[S+Math.floor(v/32)]|=1<<(v&31)&4294967295}}getRow(n,a){a==null||a.getSize()<this.width?a=new ve(this.width):a.clear();const r=this.rowSize,s=this.bits,o=n*r;for(let c=0;c<r;c++)a.setBulk(c*32,s[o+c]);return a}setRow(n,a){le.arraycopy(a.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),a=this.getHeight();let r=new ve(n),s=new ve(n);for(let o=0,c=Math.floor((a+1)/2);o<c;o++)r=this.getRow(o,r),s=this.getRow(a-1-o,s),r.reverse(),s.reverse(),this.setRow(o,s),this.setRow(a-1-o,r)}getEnclosingRectangle(){const n=this.width,a=this.height,r=this.rowSize,s=this.bits;let o=n,c=a,f=-1,g=-1;for(let E=0;E<a;E++)for(let S=0;S<r;S++){const v=s[E*r+S];if(v!==0){if(E<c&&(c=E),E>g&&(g=E),S*32<o){let N=0;for(;(v<<31-N&4294967295)===0;)N++;S*32+N<o&&(o=S*32+N)}if(S*32+31>f){let N=31;for(;!(v>>>N);)N--;S*32+N>f&&(f=S*32+N)}}}return f<o||g<c?null:Int32Array.from([o,c,f-o+1,g-c+1])}getTopLeftOnBit(){const n=this.rowSize,a=this.bits;let r=0;for(;r<a.length&&a[r]===0;)r++;if(r===a.length)return null;const s=r/n;let o=r%n*32;const c=a[r];let f=0;for(;(c<<31-f&4294967295)===0;)f++;return o+=f,Int32Array.from([o,s])}getBottomRightOnBit(){const n=this.rowSize,a=this.bits;let r=a.length-1;for(;r>=0&&a[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/n);let o=Math.floor(r%n)*32;const c=a[r];let f=31;for(;!(c>>>f);)f--;return o+=f,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof bt))return!1;const a=n;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&Ee.equals(this.bits,a.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+Ee.hashCode(this.bits),n}toString(n="X ",a="  ",r=`
`){return this.buildToString(n,a,r)}buildToString(n,a,r){let s=new qe;for(let o=0,c=this.height;o<c;o++){for(let f=0,g=this.width;f<g;f++)s.append(this.get(f,o)?n:a);s.append(r)}return s.toString()}clone(){return new bt(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends w{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class me extends te{constructor(n){super(n),this.luminances=me.EMPTY,this.buckets=new Int32Array(me.LUMINANCE_BUCKETS)}getBlackRow(n,a){const r=this.getLuminanceSource(),s=r.getWidth();a==null||a.getSize()<s?a=new ve(s):a.clear(),this.initArrays(s);const o=r.getRow(n,this.luminances),c=this.buckets;for(let g=0;g<s;g++)c[(o[g]&255)>>me.LUMINANCE_SHIFT]++;const f=me.estimateBlackPoint(c);if(s<3)for(let g=0;g<s;g++)(o[g]&255)<f&&a.set(g);else{let g=o[0]&255,E=o[1]&255;for(let S=1;S<s-1;S++){const v=o[S+1]&255;(E*4-g-v)/2<f&&a.set(S),g=E,E=v}}return a}getBlackMatrix(){const n=this.getLuminanceSource(),a=n.getWidth(),r=n.getHeight(),s=new bt(a,r);this.initArrays(a);const o=this.buckets;for(let g=1;g<5;g++){const E=Math.floor(r*g/5),S=n.getRow(E,this.luminances),v=Math.floor(a*4/5);for(let N=Math.floor(a/5);N<v;N++){const D=S[N]&255;o[D>>me.LUMINANCE_SHIFT]++}}const c=me.estimateBlackPoint(o),f=n.getMatrix();for(let g=0;g<r;g++){const E=g*a;for(let S=0;S<a;S++)(f[E+S]&255)<c&&s.set(S,g)}return s}createBinarizer(n){return new me(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const a=this.buckets;for(let r=0;r<me.LUMINANCE_BUCKETS;r++)a[r]=0}static estimateBlackPoint(n){const a=n.length;let r=0,s=0,o=0;for(let S=0;S<a;S++)n[S]>o&&(s=S,o=n[S]),n[S]>r&&(r=n[S]);let c=0,f=0;for(let S=0;S<a;S++){const v=S-s,N=n[S]*v*v;N>f&&(c=S,f=N)}if(s>c){const S=s;s=c,c=S}if(c-s<=a/16)throw new W;let g=c-1,E=-1;for(let S=c-1;S>s;S--){const v=S-s,N=v*v*(c-S)*(r-n[S]);N>E&&(g=S,E=N)}return g<<me.LUMINANCE_SHIFT}}me.LUMINANCE_BITS=5,me.LUMINANCE_SHIFT=8-me.LUMINANCE_BITS,me.LUMINANCE_BUCKETS=1<<me.LUMINANCE_BITS,me.EMPTY=Uint8ClampedArray.from([0]);class ye extends me{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),a=n.getWidth(),r=n.getHeight();if(a>=ye.MINIMUM_DIMENSION&&r>=ye.MINIMUM_DIMENSION){const s=n.getMatrix();let o=a>>ye.BLOCK_SIZE_POWER;(a&ye.BLOCK_SIZE_MASK)!==0&&o++;let c=r>>ye.BLOCK_SIZE_POWER;(r&ye.BLOCK_SIZE_MASK)!==0&&c++;const f=ye.calculateBlackPoints(s,o,c,a,r),g=new bt(a,r);ye.calculateThresholdForBlock(s,o,c,a,r,f,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new ye(n)}static calculateThresholdForBlock(n,a,r,s,o,c,f){const g=o-ye.BLOCK_SIZE,E=s-ye.BLOCK_SIZE;for(let S=0;S<r;S++){let v=S<<ye.BLOCK_SIZE_POWER;v>g&&(v=g);const N=ye.cap(S,2,r-3);for(let D=0;D<a;D++){let k=D<<ye.BLOCK_SIZE_POWER;k>E&&(k=E);const z=ye.cap(D,2,a-3);let j=0;for(let ce=-2;ce<=2;ce++){const he=c[N+ce];j+=he[z-2]+he[z-1]+he[z]+he[z+1]+he[z+2]}const Q=j/25;ye.thresholdBlock(n,k,v,Q,s,f)}}}static cap(n,a,r){return n<a?a:n>r?r:n}static thresholdBlock(n,a,r,s,o,c){for(let f=0,g=r*o+a;f<ye.BLOCK_SIZE;f++,g+=o)for(let E=0;E<ye.BLOCK_SIZE;E++)(n[g+E]&255)<=s&&c.set(a+E,r+f)}static calculateBlackPoints(n,a,r,s,o){const c=o-ye.BLOCK_SIZE,f=s-ye.BLOCK_SIZE,g=new Array(r);for(let E=0;E<r;E++){g[E]=new Int32Array(a);let S=E<<ye.BLOCK_SIZE_POWER;S>c&&(S=c);for(let v=0;v<a;v++){let N=v<<ye.BLOCK_SIZE_POWER;N>f&&(N=f);let D=0,k=255,z=0;for(let Q=0,ce=S*s+N;Q<ye.BLOCK_SIZE;Q++,ce+=s){for(let he=0;he<ye.BLOCK_SIZE;he++){const se=n[ce+he]&255;D+=se,se<k&&(k=se),se>z&&(z=se)}if(z-k>ye.MIN_DYNAMIC_RANGE)for(Q++,ce+=s;Q<ye.BLOCK_SIZE;Q++,ce+=s)for(let he=0;he<ye.BLOCK_SIZE;he++)D+=n[ce+he]&255}let j=D>>ye.BLOCK_SIZE_POWER*2;if(z-k<=ye.MIN_DYNAMIC_RANGE&&(j=k/2,E>0&&v>0)){const Q=(g[E-1][v]+2*g[E][v-1]+g[E-1][v-1])/4;k<Q&&(j=Q)}g[E][v]=j}}return g}}ye.BLOCK_SIZE_POWER=3,ye.BLOCK_SIZE=1<<ye.BLOCK_SIZE_POWER,ye.BLOCK_SIZE_MASK=ye.BLOCK_SIZE-1,ye.MINIMUM_DIMENSION=ye.BLOCK_SIZE*5,ye.MIN_DYNAMIC_RANGE=24;class Be{constructor(n,a){this.width=n,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,a,r,s){throw new Pe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Pe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Pe("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let a=new qe;for(let r=0;r<this.height;r++){const s=this.getRow(r,n);for(let o=0;o<this.width;o++){const c=s[o]&255;let f;c<64?f="#":c<128?f="+":c<192?f=".":f=" ",a.append(f)}a.append(`
`)}return a.toString()}}class st extends Be{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,a){const r=this.delegate.getRow(n,a),s=this.getWidth();for(let o=0;o<s;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const n=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(a);for(let s=0;s<a;s++)r[s]=255-(n[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(n,a,r,s){return new st(this.delegate.crop(n,a,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new st(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new st(this.delegate.rotateCounterClockwise45())}}class F extends Be{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=F.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const a=n.getContext("2d").getImageData(0,0,n.width,n.height);return F.toGrayscaleBuffer(a.data,n.width,n.height)}static toGrayscaleBuffer(n,a,r){const s=new Uint8ClampedArray(a*r);for(let o=0,c=0,f=n.length;o<f;o+=4,c++){let g;if(n[o+3]===0)g=255;else{const S=n[o],v=n[o+1],N=n[o+2];g=306*S+601*v+117*N+512>>10}s[c]=g}return s}getRow(n,a){if(n<0||n>=this.getHeight())throw new U("Requested row is outside the image: "+n);const r=this.getWidth(),s=n*r;return a===null?a=this.buffer.slice(s,s+r):(a.length<r&&(a=new Uint8ClampedArray(r)),a.set(this.buffer.slice(s,s+r))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,a,r,s){return super.crop(n,a,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const a=this.getTempCanvasElement(),r=a.getContext("2d"),s=n*F.DEGREE_TO_RADIANS,o=this.canvas.width,c=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*c),g=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*c);return a.width=f,a.height=g,r.translate(f/2,g/2),r.rotate(s),r.drawImage(this.canvas,o/-2,c/-2),this.buffer=F.makeBufferFromCanvasImageData(a),this}invert(){return new st(this)}}F.DEGREE_TO_RADIANS=Math.PI/180;class de{constructor(n,a,r){this.deviceId=n,this.label=a,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Se=(globalThis||Bo||self||window||void 0)&&(globalThis||Bo||self||window||void 0).__awaiter||function(T,n,a,r){function s(o){return o instanceof a?o:new a(function(c){c(o)})}return new(a||(a=Promise))(function(o,c){function f(S){try{E(r.next(S))}catch(v){c(v)}}function g(S){try{E(r.throw(S))}catch(v){c(v)}}function E(S){S.done?o(S.value):s(S.value).then(f,g)}E((r=r.apply(T,n||[])).next())})};class Me{constructor(n,a=500,r){this.reader=n,this.timeBetweenScansMillis=a,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Se(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const r of n){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const o=r.deviceId||r.id,c=r.label||`Video device ${a.length+1}`,f=r.groupId,g={deviceId:o,label:c,kind:s,groupId:f};a.push(g)}return a})}getVideoInputDevices(){return Se(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new de(a.deviceId,a.label))})}findDeviceById(n){return Se(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(r=>r.deviceId===n):null})}decodeFromInputVideoDevice(n,a){return Se(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,a)})}decodeOnceFromVideoDevice(n,a){return Se(this,void 0,void 0,function*(){this.reset();let r;n?r={deviceId:{exact:n}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,a)})}decodeOnceFromConstraints(n,a){return Se(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(r,a)})}decodeOnceFromStream(n,a){return Se(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(n,a);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(n,a,r){return Se(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,a,r)})}decodeFromVideoDevice(n,a,r){return Se(this,void 0,void 0,function*(){let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,a,r)})}decodeFromConstraints(n,a,r){return Se(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(s,a,r)})}decodeFromStream(n,a,r){return Se(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,a);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,a){return Se(this,void 0,void 0,function*(){const r=this.prepareVideoElement(a);return this.addVideoSource(r,n),this.videoElement=r,this.stream=n,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(n){return new Promise((a,r)=>this.playVideoOnLoad(n,()=>a()))}playVideoOnLoad(n,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",a),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Se(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,a){const r=document.getElementById(n);if(!r)throw new R(`element with id '${n}' not found`);if(r.nodeName.toLowerCase()!==a.toLowerCase())throw new R(`element with id '${n}' must be an ${a} element`);return r}decodeFromImage(n,a){if(!n&&!a)throw new R("either imageElement with a src set or an url must be provided");return a&&!n?this.decodeFromImageUrl(a):this.decodeFromImageElement(n)}decodeFromVideo(n,a){if(!n&&!a)throw new R("Either an element with a src set or an URL must be provided");return a&&!n?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,a,r){if(n===void 0&&a===void 0)throw new R("Either an element with a src set or an URL must be provided");return a&&!n?this.decodeFromVideoUrlContinuously(a,r):this.decodeFromVideoElementContinuously(n,r)}decodeFromImageElement(n){if(!n)throw new R("An image element must be provided.");this.reset();const a=this.prepareImageElement(n);this.imageElement=a;let r;return this.isImageLoaded(a)?r=this.decodeOnce(a,!1,!0):r=this._decodeOnLoadImage(a),r}decodeFromVideoElement(n){const a=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(n,a){const r=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(r,a)}_decodeFromVideoElementSetup(n){if(!n)throw new R("A video element must be provided.");this.reset();const a=this.prepareVideoElement(n);return this.videoElement=a,a}decodeFromImageUrl(n){if(!n)throw new R("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const r=this._decodeOnLoadImage(a);return a.src=n,r}decodeFromVideoUrl(n){if(!n)throw new R("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),r=this.decodeFromVideoElement(a);return a.src=n,r}decodeFromVideoUrlContinuously(n,a){if(!n)throw new R("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,a);return r.src=n,s}_decodeOnLoadImage(n){return new Promise((a,r)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(a,r),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Se(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,a){return Se(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,a)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let a;return typeof n>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof n=="string"&&(a=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(a=n),a}prepareVideoElement(n){let a;return!n&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof n=="string"&&(a=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(a=n),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(n,a=!0,r=!0){this._stopAsyncDecode=!1;const s=(o,c)=>{if(this._stopAsyncDecode){c(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(n);o(f)}catch(f){const g=a&&f instanceof W,S=(f instanceof ee||f instanceof fe)&&r;if(g||S)return setTimeout(s,this._timeBetweenDecodingAttempts,o,c);c(f)}};return new Promise((o,c)=>s(o,c))}decodeContinuously(n,a){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(n);a(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){a(null,s);const o=s instanceof ee||s instanceof fe,c=s instanceof W;(o||c)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(n){const a=this.createBinaryBitmap(n);return this.decodeBitmap(a)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,a,r){a||(a={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(n,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(n,a,r=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(n,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const a=this.getCaptureCanvas(n),r=new F(a),s=new ye(r);return new K(s)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const a=this.createCaptureCanvas(n);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let r,s;return typeof n<"u"&&(n instanceof HTMLVideoElement?(r=n.videoWidth,s=n.videoHeight):n instanceof HTMLImageElement&&(r=n.naturalWidth||n.width,s=n.naturalHeight||n.height)),a.style.width=r+"px",a.style.height=s+"px",a.width=r,a.height=s,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,a){try{n.srcObject=a}catch{n.src=URL.createObjectURL(a)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class pe{constructor(n,a,r=a==null?0:8*a.length,s,o,c=le.currentTimeMillis()){this.text=n,this.rawBytes=a,this.numBits=r,this.resultPoints=s,this.format=o,this.timestamp=c,this.text=n,this.rawBytes=a,r==null?this.numBits=a==null?0:8*a.length:this.numBits=r,this.resultPoints=s,this.format=o,this.resultMetadata=null,c==null?this.timestamp=le.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,a)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const a=this.resultPoints;if(a===null)this.resultPoints=n;else if(n!==null&&n.length>0){const r=new Array(a.length+n.length);le.arraycopy(a,0,r,0,a.length),le.arraycopy(n,0,r,a.length,n.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Je;(function(T){T[T.AZTEC=0]="AZTEC",T[T.CODABAR=1]="CODABAR",T[T.CODE_39=2]="CODE_39",T[T.CODE_93=3]="CODE_93",T[T.CODE_128=4]="CODE_128",T[T.DATA_MATRIX=5]="DATA_MATRIX",T[T.EAN_8=6]="EAN_8",T[T.EAN_13=7]="EAN_13",T[T.ITF=8]="ITF",T[T.MAXICODE=9]="MAXICODE",T[T.PDF_417=10]="PDF_417",T[T.QR_CODE=11]="QR_CODE",T[T.RSS_14=12]="RSS_14",T[T.RSS_EXPANDED=13]="RSS_EXPANDED",T[T.UPC_A=14]="UPC_A",T[T.UPC_E=15]="UPC_E",T[T.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Je||(Je={}));var Ae=Je,cn;(function(T){T[T.OTHER=0]="OTHER",T[T.ORIENTATION=1]="ORIENTATION",T[T.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",T[T.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",T[T.ISSUE_NUMBER=4]="ISSUE_NUMBER",T[T.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",T[T.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",T[T.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",T[T.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",T[T.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",T[T.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(cn||(cn={}));var He=cn;class _t{constructor(n,a,r,s,o=-1,c=-1){this.rawBytes=n,this.text=a,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=c,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class At{exp(n){return this.expTable[n]}log(n){if(n===0)throw new U;return this.logTable[n]}static addOrSubtract(n,a){return n^a}}class Ut{constructor(n,a){if(a.length===0)throw new U;this.field=n;const r=a.length;if(r>1&&a[0]===0){let s=1;for(;s<r&&a[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),le.arraycopy(a,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const a=this.coefficients;let r;if(n===1){r=0;for(let c=0,f=a.length;c!==f;c++){const g=a[c];r=At.addOrSubtract(r,g)}return r}r=a[0];const s=a.length,o=this.field;for(let c=1;c<s;c++)r=At.addOrSubtract(o.multiply(n,r),a[c]);return r}addOrSubtract(n){if(!this.field.equals(n.field))throw new U("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let a=this.coefficients,r=n.coefficients;if(a.length>r.length){const c=a;a=r,r=c}let s=new Int32Array(r.length);const o=r.length-a.length;le.arraycopy(r,0,s,0,o);for(let c=o;c<r.length;c++)s[c]=At.addOrSubtract(a[c-o],r[c]);return new Ut(this.field,s)}multiply(n){if(!this.field.equals(n.field))throw new U("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const a=this.coefficients,r=a.length,s=n.coefficients,o=s.length,c=new Int32Array(r+o-1),f=this.field;for(let g=0;g<r;g++){const E=a[g];for(let S=0;S<o;S++)c[g+S]=At.addOrSubtract(c[g+S],f.multiply(E,s[S]))}return new Ut(f,c)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const a=this.coefficients.length,r=this.field,s=new Int32Array(a),o=this.coefficients;for(let c=0;c<a;c++)s[c]=r.multiply(o[c],n);return new Ut(r,s)}multiplyByMonomial(n,a){if(n<0)throw new U;if(a===0)return this.field.getZero();const r=this.coefficients,s=r.length,o=new Int32Array(s+n),c=this.field;for(let f=0;f<s;f++)o[f]=c.multiply(r[f],a);return new Ut(c,o)}divide(n){if(!this.field.equals(n.field))throw new U("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new U("Divide by 0");const a=this.field;let r=a.getZero(),s=this;const o=n.getCoefficient(n.getDegree()),c=a.inverse(o);for(;s.getDegree()>=n.getDegree()&&!s.isZero();){const f=s.getDegree()-n.getDegree(),g=a.multiply(s.getCoefficient(s.getDegree()),c),E=n.multiplyByMonomial(f,g),S=a.buildMonomial(f,g);r=r.addOrSubtract(S),s=s.addOrSubtract(E)}return[r,s]}toString(){let n="";for(let a=this.getDegree();a>=0;a--){let r=this.getCoefficient(a);if(r!==0){if(r<0?(n+=" - ",r=-r):n.length>0&&(n+=" + "),a===0||r!==1){const s=this.field.log(r);s===0?n+="1":s===1?n+="a":(n+="a^",n+=s)}a!==0&&(a===1?n+="x":(n+="x^",n+=a))}}return n}}class vi extends w{}vi.kind="ArithmeticException";class Ze extends At{constructor(n,a,r){super(),this.primitive=n,this.size=a,this.generatorBase=r;const s=new Int32Array(a);let o=1;for(let f=0;f<a;f++)s[f]=o,o*=2,o>=a&&(o^=n,o&=a-1);this.expTable=s;const c=new Int32Array(a);for(let f=0;f<a-1;f++)c[s[f]]=f;this.logTable=c,this.zero=new Ut(this,Int32Array.from([0])),this.one=new Ut(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,a){if(n<0)throw new U;if(a===0)return this.zero;const r=new Int32Array(n+1);return r[0]=a,new Ut(this,r)}inverse(n){if(n===0)throw new vi;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ae.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Ze.AZTEC_DATA_12=new Ze(4201,4096,1),Ze.AZTEC_DATA_10=new Ze(1033,1024,1),Ze.AZTEC_DATA_6=new Ze(67,64,1),Ze.AZTEC_PARAM=new Ze(19,16,1),Ze.QR_CODE_FIELD_256=new Ze(285,256,0),Ze.DATA_MATRIX_FIELD_256=new Ze(301,256,1),Ze.AZTEC_DATA_8=Ze.DATA_MATRIX_FIELD_256,Ze.MAXICODE_FIELD_64=Ze.AZTEC_DATA_6;class Ei extends w{}Ei.kind="ReedSolomonException";class Ln extends w{}Ln.kind="IllegalStateException";class ai{constructor(n){this.field=n}decode(n,a){const r=this.field,s=new Ut(r,n),o=new Int32Array(a);let c=!0;for(let D=0;D<a;D++){const k=s.evaluateAt(r.exp(D+r.getGeneratorBase()));o[o.length-1-D]=k,k!==0&&(c=!1)}if(c)return;const f=new Ut(r,o),g=this.runEuclideanAlgorithm(r.buildMonomial(a,1),f,a),E=g[0],S=g[1],v=this.findErrorLocations(E),N=this.findErrorMagnitudes(S,v);for(let D=0;D<v.length;D++){const k=n.length-1-r.log(v[D]);if(k<0)throw new Ei("Bad error location");n[k]=Ze.addOrSubtract(n[k],N[D])}}runEuclideanAlgorithm(n,a,r){if(n.getDegree()<a.getDegree()){const D=n;n=a,a=D}const s=this.field;let o=n,c=a,f=s.getZero(),g=s.getOne();for(;c.getDegree()>=(r/2|0);){let D=o,k=f;if(o=c,f=g,o.isZero())throw new Ei("r_{i-1} was zero");c=D;let z=s.getZero();const j=o.getCoefficient(o.getDegree()),Q=s.inverse(j);for(;c.getDegree()>=o.getDegree()&&!c.isZero();){const ce=c.getDegree()-o.getDegree(),he=s.multiply(c.getCoefficient(c.getDegree()),Q);z=z.addOrSubtract(s.buildMonomial(ce,he)),c=c.addOrSubtract(o.multiplyByMonomial(ce,he))}if(g=z.multiply(f).addOrSubtract(k),c.getDegree()>=o.getDegree())throw new Ln("Division algorithm failed to reduce polynomial?")}const E=g.getCoefficient(0);if(E===0)throw new Ei("sigmaTilde(0) was zero");const S=s.inverse(E),v=g.multiplyScalar(S),N=c.multiplyScalar(S);return[v,N]}findErrorLocations(n){const a=n.getDegree();if(a===1)return Int32Array.from([n.getCoefficient(1)]);const r=new Int32Array(a);let s=0;const o=this.field;for(let c=1;c<o.getSize()&&s<a;c++)n.evaluateAt(c)===0&&(r[s]=o.inverse(c),s++);if(s!==a)throw new Ei("Error locator degree does not match number of roots");return r}findErrorMagnitudes(n,a){const r=a.length,s=new Int32Array(r),o=this.field;for(let c=0;c<r;c++){const f=o.inverse(a[c]);let g=1;for(let E=0;E<r;E++)if(c!==E){const S=o.multiply(a[E],f),v=(S&1)===0?S|1:S&-2;g=o.multiply(g,v)}s[c]=o.multiply(n.evaluateAt(f),o.inverse(g)),o.getGeneratorBase()!==0&&(s[c]=o.multiply(s[c],f))}return s}}var Kt;(function(T){T[T.UPPER=0]="UPPER",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.DIGIT=3]="DIGIT",T[T.PUNCT=4]="PUNCT",T[T.BINARY=5]="BINARY"})(Kt||(Kt={}));class xt{decode(n){this.ddata=n;let a=n.getBits(),r=this.extractBits(a),s=this.correctBits(r),o=xt.convertBoolArrayToByteArray(s),c=xt.getEncodedData(s),f=new _t(o,c,null,null);return f.setNumBits(s.length),f}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let a=n.length,r=Kt.UPPER,s=Kt.UPPER,o="",c=0;for(;c<a;)if(s===Kt.BINARY){if(a-c<5)break;let f=xt.readCode(n,c,5);if(c+=5,f===0){if(a-c<11)break;f=xt.readCode(n,c,11)+31,c+=11}for(let g=0;g<f;g++){if(a-c<8){c=a;break}const E=xt.readCode(n,c,8);o+=Oe.castAsNonUtf8Char(E),c+=8}s=r}else{let f=s===Kt.DIGIT?4:5;if(a-c<f)break;let g=xt.readCode(n,c,f);c+=f;let E=xt.getCharacter(s,g);E.startsWith("CTRL_")?(r=s,s=xt.getTable(E.charAt(5)),E.charAt(6)==="L"&&(r=s)):(o+=E,s=r)}return o}static getTable(n){switch(n){case"L":return Kt.LOWER;case"P":return Kt.PUNCT;case"M":return Kt.MIXED;case"D":return Kt.DIGIT;case"B":return Kt.BINARY;case"U":default:return Kt.UPPER}}static getCharacter(n,a){switch(n){case Kt.UPPER:return xt.UPPER_TABLE[a];case Kt.LOWER:return xt.LOWER_TABLE[a];case Kt.MIXED:return xt.MIXED_TABLE[a];case Kt.PUNCT:return xt.PUNCT_TABLE[a];case Kt.DIGIT:return xt.DIGIT_TABLE[a];default:throw new Ln("Bad table")}}correctBits(n){let a,r;this.ddata.getNbLayers()<=2?(r=6,a=Ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,a=Ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,a=Ze.AZTEC_DATA_10):(r=12,a=Ze.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=n.length/r;if(o<s)throw new fe;let c=n.length%r,f=new Int32Array(o);for(let N=0;N<o;N++,c+=r)f[N]=xt.readCode(n,c,r);try{new ai(a).decode(f,o-s)}catch(N){throw new fe(N)}let g=(1<<r)-1,E=0;for(let N=0;N<s;N++){let D=f[N];if(D===0||D===g)throw new fe;(D===1||D===g-1)&&E++}let S=new Array(s*r-E),v=0;for(let N=0;N<s;N++){let D=f[N];if(D===1||D===g-1)S.fill(D>1,v,v+r-1),v+=r-1;else for(let k=r-1;k>=0;--k)S[v++]=(D&1<<k)!==0}return S}extractBits(n){let a=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(a?11:14)+r*4,o=new Int32Array(s),c=new Array(this.totalBitsInLayer(r,a));if(a)for(let f=0;f<o.length;f++)o[f]=f;else{let f=s+1+2*ae.truncDivision(ae.truncDivision(s,2)-1,15),g=s/2,E=ae.truncDivision(f,2);for(let S=0;S<g;S++){let v=S+ae.truncDivision(S,15);o[g-S-1]=E-v-1,o[g+S]=E+v+1}}for(let f=0,g=0;f<r;f++){let E=(r-f)*4+(a?9:12),S=f*2,v=s-1-S;for(let N=0;N<E;N++){let D=N*2;for(let k=0;k<2;k++)c[g+D+k]=n.get(o[S+k],o[S+N]),c[g+2*E+D+k]=n.get(o[S+N],o[v-k]),c[g+4*E+D+k]=n.get(o[v-k],o[v-N]),c[g+6*E+D+k]=n.get(o[v-N],o[S+k])}g+=E*8}return c}static readCode(n,a,r){let s=0;for(let o=a;o<a+r;o++)s<<=1,n[o]&&(s|=1);return s}static readByte(n,a){let r=n.length-a;return r>=8?xt.readCode(n,a,8):xt.readCode(n,a,r)<<8-r}static convertBoolArrayToByteArray(n){let a=new Uint8Array((n.length+7)/8);for(let r=0;r<a.length;r++)a[r]=xt.readByte(n,8*r);return a}totalBitsInLayer(n,a){return((a?88:112)+16*n)*n}}xt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],xt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],xt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],xt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],xt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class et{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,a,r,s){const o=n-r,c=a-s;return Math.sqrt(o*o+c*c)}static sum(n){let a=0;for(let r=0,s=n.length;r!==s;r++){const o=n[r];a+=o}return a}}class ya{static floatToIntBits(n){return n}}ya.MAX_VALUE=Number.MAX_SAFE_INTEGER;class be{constructor(n,a){this.x=n,this.y=a}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof be){const a=n;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*ya.floatToIntBits(this.x)+ya.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const a=this.distance(n[0],n[1]),r=this.distance(n[1],n[2]),s=this.distance(n[0],n[2]);let o,c,f;if(r>=a&&r>=s?(c=n[0],o=n[1],f=n[2]):s>=r&&s>=a?(c=n[1],o=n[0],f=n[2]):(c=n[2],o=n[0],f=n[1]),this.crossProductZ(o,c,f)<0){const g=o;o=f,f=g}n[0]=o,n[1]=c,n[2]=f}static distance(n,a){return et.distance(n.x,n.y,a.x,a.y)}static crossProductZ(n,a,r){const s=a.x,o=a.y;return(r.x-s)*(n.y-o)-(r.y-o)*(n.x-s)}}class Ur{constructor(n,a){this.bits=n,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ms extends Ur{constructor(n,a,r,s,o){super(n,a),this.compact=r,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class an{constructor(n,a,r,s){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),a==null&&(a=an.INIT_SIZE),r==null&&(r=n.getWidth()/2|0),s==null&&(s=n.getHeight()/2|0);const o=a/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let n=this.leftInit,a=this.rightInit,r=this.upInit,s=this.downInit,o=!1,c=!0,f=!1,g=!1,E=!1,S=!1,v=!1;const N=this.width,D=this.height;for(;c;){c=!1;let k=!0;for(;(k||!g)&&a<N;)k=this.containsBlackPoint(r,s,a,!1),k?(a++,c=!0,g=!0):g||a++;if(a>=N){o=!0;break}let z=!0;for(;(z||!E)&&s<D;)z=this.containsBlackPoint(n,a,s,!0),z?(s++,c=!0,E=!0):E||s++;if(s>=D){o=!0;break}let j=!0;for(;(j||!S)&&n>=0;)j=this.containsBlackPoint(r,s,n,!1),j?(n--,c=!0,S=!0):S||n--;if(n<0){o=!0;break}let Q=!0;for(;(Q||!v)&&r>=0;)Q=this.containsBlackPoint(n,a,r,!0),Q?(r--,c=!0,v=!0):v||r--;if(r<0){o=!0;break}c&&(f=!0)}if(!o&&f){const k=a-n;let z=null;for(let he=1;z===null&&he<k;he++)z=this.getBlackPointOnSegment(n,s-he,n+he,s);if(z==null)throw new W;let j=null;for(let he=1;j===null&&he<k;he++)j=this.getBlackPointOnSegment(n,r+he,n+he,r);if(j==null)throw new W;let Q=null;for(let he=1;Q===null&&he<k;he++)Q=this.getBlackPointOnSegment(a,r+he,a-he,r);if(Q==null)throw new W;let ce=null;for(let he=1;ce===null&&he<k;he++)ce=this.getBlackPointOnSegment(a,s-he,a-he,s);if(ce==null)throw new W;return this.centerEdges(ce,z,Q,j)}else throw new W}getBlackPointOnSegment(n,a,r,s){const o=et.round(et.distance(n,a,r,s)),c=(r-n)/o,f=(s-a)/o,g=this.image;for(let E=0;E<o;E++){const S=et.round(n+E*c),v=et.round(a+E*f);if(g.get(S,v))return new be(S,v)}return null}centerEdges(n,a,r,s){const o=n.getX(),c=n.getY(),f=a.getX(),g=a.getY(),E=r.getX(),S=r.getY(),v=s.getX(),N=s.getY(),D=an.CORR;return o<this.width/2?[new be(v-D,N+D),new be(f+D,g+D),new be(E-D,S-D),new be(o+D,c-D)]:[new be(v+D,N+D),new be(f+D,g-D),new be(E-D,S+D),new be(o-D,c-D)]}containsBlackPoint(n,a,r,s){const o=this.image;if(s){for(let c=n;c<=a;c++)if(o.get(c,r))return!0}else for(let c=n;c<=a;c++)if(o.get(r,c))return!0;return!1}}an.INIT_SIZE=10,an.CORR=1;class Sl{static checkAndNudgePoints(n,a){const r=n.getWidth(),s=n.getHeight();let o=!0;for(let c=0;c<a.length&&o;c+=2){const f=Math.floor(a[c]),g=Math.floor(a[c+1]);if(f<-1||f>r||g<-1||g>s)throw new W;o=!1,f===-1?(a[c]=0,o=!0):f===r&&(a[c]=r-1,o=!0),g===-1?(a[c+1]=0,o=!0):g===s&&(a[c+1]=s-1,o=!0)}o=!0;for(let c=a.length-2;c>=0&&o;c-=2){const f=Math.floor(a[c]),g=Math.floor(a[c+1]);if(f<-1||f>r||g<-1||g>s)throw new W;o=!1,f===-1?(a[c]=0,o=!0):f===r&&(a[c]=r-1,o=!0),g===-1?(a[c+1]=0,o=!0):g===s&&(a[c+1]=s-1,o=!0)}}}class Yn{constructor(n,a,r,s,o,c,f,g,E){this.a11=n,this.a21=a,this.a31=r,this.a12=s,this.a22=o,this.a32=c,this.a13=f,this.a23=g,this.a33=E}static quadrilateralToQuadrilateral(n,a,r,s,o,c,f,g,E,S,v,N,D,k,z,j){const Q=Yn.quadrilateralToSquare(n,a,r,s,o,c,f,g);return Yn.squareToQuadrilateral(E,S,v,N,D,k,z,j).times(Q)}transformPoints(n){const a=n.length,r=this.a11,s=this.a12,o=this.a13,c=this.a21,f=this.a22,g=this.a23,E=this.a31,S=this.a32,v=this.a33;for(let N=0;N<a;N+=2){const D=n[N],k=n[N+1],z=o*D+g*k+v;n[N]=(r*D+c*k+E)/z,n[N+1]=(s*D+f*k+S)/z}}transformPointsWithValues(n,a){const r=this.a11,s=this.a12,o=this.a13,c=this.a21,f=this.a22,g=this.a23,E=this.a31,S=this.a32,v=this.a33,N=n.length;for(let D=0;D<N;D++){const k=n[D],z=a[D],j=o*k+g*z+v;n[D]=(r*k+c*z+E)/j,a[D]=(s*k+f*z+S)/j}}static squareToQuadrilateral(n,a,r,s,o,c,f,g){const E=n-r+o-f,S=a-s+c-g;if(E===0&&S===0)return new Yn(r-n,o-r,n,s-a,c-s,a,0,0,1);{const v=r-o,N=f-o,D=s-c,k=g-c,z=v*k-N*D,j=(E*k-N*S)/z,Q=(v*S-E*D)/z;return new Yn(r-n+j*r,f-n+Q*f,n,s-a+j*s,g-a+Q*g,a,j,Q,1)}}static quadrilateralToSquare(n,a,r,s,o,c,f,g){return Yn.squareToQuadrilateral(n,a,r,s,o,c,f,g).buildAdjoint()}buildAdjoint(){return new Yn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Yn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class bl extends Sl{sampleGrid(n,a,r,s,o,c,f,g,E,S,v,N,D,k,z,j,Q,ce,he){const se=Yn.quadrilateralToQuadrilateral(s,o,c,f,g,E,S,v,N,D,k,z,j,Q,ce,he);return this.sampleGridWithTransform(n,a,r,se)}sampleGridWithTransform(n,a,r,s){if(a<=0||r<=0)throw new W;const o=new bt(a,r),c=new Float32Array(2*a);for(let f=0;f<r;f++){const g=c.length,E=f+.5;for(let S=0;S<g;S+=2)c[S]=S/2+.5,c[S+1]=E;s.transformPoints(c),Sl.checkAndNudgePoints(n,c);try{for(let S=0;S<g;S+=2)n.get(Math.floor(c[S]),Math.floor(c[S+1]))&&o.set(S/2,f)}catch{throw new W}}return o}}class Zn{static setGridSampler(n){Zn.gridSampler=n}static getInstance(){return Zn.gridSampler}}Zn.gridSampler=new bl;class Cn{constructor(n,a){this.x=n,this.y=a}toResultPoint(){return new be(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Tl{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let a=this.getMatrixCenter(),r=this.getBullsEyeCorners(a);if(n){let c=r[0];r[0]=r[2],r[2]=c}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new Ms(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new W;let a=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(n[0],n[1],a),this.sampleLine(n[1],n[2],a),this.sampleLine(n[2],n[3],a),this.sampleLine(n[3],n[0],a)]);this.shift=this.getRotation(r,a);let s=0;for(let c=0;c<4;c++){let f=r[(this.shift+c)%4];this.compact?(s<<=7,s+=f>>1&127):(s<<=10,s+=(f>>2&992)+(f>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(n,a){let r=0;n.forEach((s,o,c)=>{let f=(s>>a-2<<1)+(s&1);r=(r<<3)+f}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(ae.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new W}getCorrectedParameterData(n,a){let r,s;a?(r=7,s=2):(r=10,s=4);let o=r-s,c=new Int32Array(r);for(let g=r-1;g>=0;--g)c[g]=n&15,n>>=4;try{new ai(Ze.AZTEC_PARAM).decode(c,o)}catch{throw new W}let f=0;for(let g=0;g<s;g++)f=(f<<4)+c[g];return f}getBullsEyeCorners(n){let a=n,r=n,s=n,o=n,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let v=this.getFirstDifferent(a,c,1,-1),N=this.getFirstDifferent(r,c,1,1),D=this.getFirstDifferent(s,c,-1,1),k=this.getFirstDifferent(o,c,-1,-1);if(this.nbCenterLayers>2){let z=this.distancePoint(k,v)*this.nbCenterLayers/(this.distancePoint(o,a)*(this.nbCenterLayers+2));if(z<.75||z>1.25||!this.isWhiteOrBlackRectangle(v,N,D,k))break}a=v,r=N,s=D,o=k,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let f=new be(a.getX()+.5,a.getY()-.5),g=new be(r.getX()+.5,r.getY()+.5),E=new be(s.getX()-.5,s.getY()+.5),S=new be(o.getX()-.5,o.getY()-.5);return this.expandSquare([f,g,E,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,a,r,s;try{let f=new an(this.image).detect();n=f[0],a=f[1],r=f[2],s=f[3]}catch{let g=this.image.getWidth()/2,E=this.image.getHeight()/2;n=this.getFirstDifferent(new Cn(g+7,E-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Cn(g+7,E+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Cn(g-7,E+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Cn(g-7,E-7),!1,-1,-1).toResultPoint()}let o=et.round((n.getX()+s.getX()+a.getX()+r.getX())/4),c=et.round((n.getY()+s.getY()+a.getY()+r.getY())/4);try{let f=new an(this.image,15,o,c).detect();n=f[0],a=f[1],r=f[2],s=f[3]}catch{n=this.getFirstDifferent(new Cn(o+7,c-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Cn(o+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Cn(o-7,c+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Cn(o-7,c-7),!1,-1,-1).toResultPoint()}return o=et.round((n.getX()+s.getX()+a.getX()+r.getX())/4),c=et.round((n.getY()+s.getY()+a.getY()+r.getY())/4),new Cn(o,c)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,a,r,s,o){let c=Zn.getInstance(),f=this.getDimension(),g=f/2-this.nbCenterLayers,E=f/2+this.nbCenterLayers;return c.sampleGrid(n,f,f,g,g,E,g,E,E,g,E,a.getX(),a.getY(),r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(n,a,r){let s=0,o=this.distanceResultPoint(n,a),c=o/r,f=n.getX(),g=n.getY(),E=c*(a.getX()-n.getX())/o,S=c*(a.getY()-n.getY())/o;for(let v=0;v<r;v++)this.image.get(et.round(f+v*E),et.round(g+v*S))&&(s|=1<<r-v-1);return s}isWhiteOrBlackRectangle(n,a,r,s){let o=3;n=new Cn(n.getX()-o,n.getY()+o),a=new Cn(a.getX()-o,a.getY()-o),r=new Cn(r.getX()+o,r.getY()-o),s=new Cn(s.getX()+o,s.getY()+o);let c=this.getColor(s,n);if(c===0)return!1;let f=this.getColor(n,a);return f!==c||(f=this.getColor(a,r),f!==c)?!1:(f=this.getColor(r,s),f===c)}getColor(n,a){let r=this.distancePoint(n,a),s=(a.getX()-n.getX())/r,o=(a.getY()-n.getY())/r,c=0,f=n.getX(),g=n.getY(),E=this.image.get(n.getX(),n.getY()),S=Math.ceil(r);for(let N=0;N<S;N++)f+=s,g+=o,this.image.get(et.round(f),et.round(g))!==E&&c++;let v=c/r;return v>.1&&v<.9?0:v<=.1===E?1:-1}getFirstDifferent(n,a,r,s){let o=n.getX()+r,c=n.getY()+s;for(;this.isValid(o,c)&&this.image.get(o,c)===a;)o+=r,c+=s;for(o-=r,c-=s;this.isValid(o,c)&&this.image.get(o,c)===a;)o+=r;for(o-=r;this.isValid(o,c)&&this.image.get(o,c)===a;)c+=s;return c-=s,new Cn(o,c)}expandSquare(n,a,r){let s=r/(2*a),o=n[0].getX()-n[2].getX(),c=n[0].getY()-n[2].getY(),f=(n[0].getX()+n[2].getX())/2,g=(n[0].getY()+n[2].getY())/2,E=new be(f+s*o,g+s*c),S=new be(f-s*o,g-s*c);o=n[1].getX()-n[3].getX(),c=n[1].getY()-n[3].getY(),f=(n[1].getX()+n[3].getX())/2,g=(n[1].getY()+n[3].getY())/2;let v=new be(f+s*o,g+s*c),N=new be(f-s*o,g-s*c);return[E,v,S,N]}isValid(n,a){return n>=0&&n<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(n){let a=et.round(n.getX()),r=et.round(n.getY());return this.isValid(a,r)}distancePoint(n,a){return et.distance(n.getX(),n.getY(),a.getX(),a.getY())}distanceResultPoint(n,a){return et.distance(n.getX(),n.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ae.truncDivision(this.nbLayers-4,8)+1)+15}}class kr{decode(n,a=null){let r=null,s=new Tl(n.getBlackMatrix()),o=null,c=null;try{let S=s.detectMirror(!1);o=S.getPoints(),this.reportFoundResultPoints(a,o),c=new xt().decode(S)}catch(S){r=S}if(c==null)try{let S=s.detectMirror(!0);o=S.getPoints(),this.reportFoundResultPoints(a,o),c=new xt().decode(S)}catch(S){throw r??S}let f=new pe(c.getText(),c.getRawBytes(),c.getNumBits(),o,Ae.AZTEC,le.currentTimeMillis()),g=c.getByteSegments();g!=null&&f.putMetadata(He.BYTE_SEGMENTS,g);let E=c.getECLevel();return E!=null&&f.putMetadata(He.ERROR_CORRECTION_LEVEL,E),f}reportFoundResultPoints(n,a){if(n!=null){let r=n.get(ke.NEED_RESULT_POINT_CALLBACK);r!=null&&a.forEach((s,o,c)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class Go extends Me{constructor(n=500){super(new kr,n)}}class Dt{decode(n,a){try{return this.doDecode(n,a)}catch{if(a&&a.get(ke.TRY_HARDER)===!0&&n.isRotateSupported()){const o=n.rotateCounterClockwise(),c=this.doDecode(o,a),f=c.getResultMetadata();let g=270;f!==null&&f.get(He.ORIENTATION)===!0&&(g=g+f.get(He.ORIENTATION)%360),c.putMetadata(He.ORIENTATION,g);const E=c.getResultPoints();if(E!==null){const S=o.getHeight();for(let v=0;v<E.length;v++)E[v]=new be(S-E[v].getY()-1,E[v].getX())}return c}else throw new W}}reset(){}doDecode(n,a){const r=n.getWidth(),s=n.getHeight();let o=new ve(r);const c=a&&a.get(ke.TRY_HARDER)===!0,f=Math.max(1,s>>(c?8:5));let g;c?g=s:g=15;const E=Math.trunc(s/2);for(let S=0;S<g;S++){const v=Math.trunc((S+1)/2),N=(S&1)===0,D=E+f*(N?v:-v);if(D<0||D>=s)break;try{o=n.getBlackRow(D,o)}catch{continue}for(let k=0;k<2;k++){if(k===1&&(o.reverse(),a&&a.get(ke.NEED_RESULT_POINT_CALLBACK)===!0)){const z=new Map;a.forEach((j,Q)=>z.set(Q,j)),z.delete(ke.NEED_RESULT_POINT_CALLBACK),a=z}try{const z=this.decodeRow(D,o,a);if(k===1){z.putMetadata(He.ORIENTATION,180);const j=z.getResultPoints();j!==null&&(j[0]=new be(r-j[0].getX()-1,j[0].getY()),j[1]=new be(r-j[1].getX()-1,j[1].getY()))}return z}catch{}}}throw new W}static recordPattern(n,a,r){const s=r.length;for(let E=0;E<s;E++)r[E]=0;const o=n.getSize();if(a>=o)throw new W;let c=!n.get(a),f=0,g=a;for(;g<o;){if(n.get(g)!==c)r[f]++;else{if(++f===s)break;r[f]=1,c=!c}g++}if(!(f===s||f===s-1&&g===o))throw new W}static recordPatternInReverse(n,a,r){let s=r.length,o=n.get(a);for(;a>0&&s>=0;)n.get(--a)!==o&&(s--,o=!o);if(s>=0)throw new W;Dt.recordPattern(n,a+1,r)}static patternMatchVariance(n,a,r){const s=n.length;let o=0,c=0;for(let E=0;E<s;E++)o+=n[E],c+=a[E];if(o<c)return Number.POSITIVE_INFINITY;const f=o/c;r*=f;let g=0;for(let E=0;E<s;E++){const S=n[E],v=a[E]*f,N=S>v?S-v:v-S;if(N>r)return Number.POSITIVE_INFINITY;g+=N}return g/o}}class xe extends Dt{static findStartPattern(n){const a=n.getSize(),r=n.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),c=r,f=!1;const g=6;for(let E=r;E<a;E++)if(n.get(E)!==f)o[s]++;else{if(s===g-1){let S=xe.MAX_AVG_VARIANCE,v=-1;for(let N=xe.CODE_START_A;N<=xe.CODE_START_C;N++){const D=Dt.patternMatchVariance(o,xe.CODE_PATTERNS[N],xe.MAX_INDIVIDUAL_VARIANCE);D<S&&(S=D,v=N)}if(v>=0&&n.isRange(Math.max(0,c-(E-c)/2),c,!1))return Int32Array.from([c,E,v]);c+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,f=!f}throw new W}static decodeCode(n,a,r){Dt.recordPattern(n,r,a);let s=xe.MAX_AVG_VARIANCE,o=-1;for(let c=0;c<xe.CODE_PATTERNS.length;c++){const f=xe.CODE_PATTERNS[c],g=this.patternMatchVariance(a,f,xe.MAX_INDIVIDUAL_VARIANCE);g<s&&(s=g,o=c)}if(o>=0)return o;throw new W}decodeRow(n,a,r){const s=r&&r.get(ke.ASSUME_GS1)===!0,o=xe.findStartPattern(a),c=o[2];let f=0;const g=new Uint8Array(20);g[f++]=c;let E;switch(c){case xe.CODE_START_A:E=xe.CODE_CODE_A;break;case xe.CODE_START_B:E=xe.CODE_CODE_B;break;case xe.CODE_START_C:E=xe.CODE_CODE_C;break;default:throw new fe}let S=!1,v=!1,N="",D=o[0],k=o[1];const z=Int32Array.from([0,0,0,0,0,0]);let j=0,Q=0,ce=c,he=0,se=!0,We=!1,ze=!1;for(;!S;){const $i=v;switch(v=!1,j=Q,Q=xe.decodeCode(a,z,k),g[f++]=Q,Q!==xe.CODE_STOP&&(se=!0),Q!==xe.CODE_STOP&&(he++,ce+=he*Q),D=k,k+=z.reduce((Us,Wn)=>Us+Wn,0),Q){case xe.CODE_START_A:case xe.CODE_START_B:case xe.CODE_START_C:throw new fe}switch(E){case xe.CODE_CODE_A:if(Q<64)ze===We?N+=String.fromCharCode(32+Q):N+=String.fromCharCode(32+Q+128),ze=!1;else if(Q<96)ze===We?N+=String.fromCharCode(Q-64):N+=String.fromCharCode(Q+64),ze=!1;else switch(Q!==xe.CODE_STOP&&(se=!1),Q){case xe.CODE_FNC_1:s&&(N.length===0?N+="]C1":N+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_A:!We&&ze?(We=!0,ze=!1):We&&ze?(We=!1,ze=!1):ze=!0;break;case xe.CODE_SHIFT:v=!0,E=xe.CODE_CODE_B;break;case xe.CODE_CODE_B:E=xe.CODE_CODE_B;break;case xe.CODE_CODE_C:E=xe.CODE_CODE_C;break;case xe.CODE_STOP:S=!0;break}break;case xe.CODE_CODE_B:if(Q<96)ze===We?N+=String.fromCharCode(32+Q):N+=String.fromCharCode(32+Q+128),ze=!1;else switch(Q!==xe.CODE_STOP&&(se=!1),Q){case xe.CODE_FNC_1:s&&(N.length===0?N+="]C1":N+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_B:!We&&ze?(We=!0,ze=!1):We&&ze?(We=!1,ze=!1):ze=!0;break;case xe.CODE_SHIFT:v=!0,E=xe.CODE_CODE_A;break;case xe.CODE_CODE_A:E=xe.CODE_CODE_A;break;case xe.CODE_CODE_C:E=xe.CODE_CODE_C;break;case xe.CODE_STOP:S=!0;break}break;case xe.CODE_CODE_C:if(Q<100)Q<10&&(N+="0"),N+=Q;else switch(Q!==xe.CODE_STOP&&(se=!1),Q){case xe.CODE_FNC_1:s&&(N.length===0?N+="]C1":N+="");break;case xe.CODE_CODE_A:E=xe.CODE_CODE_A;break;case xe.CODE_CODE_B:E=xe.CODE_CODE_B;break;case xe.CODE_STOP:S=!0;break}break}$i&&(E=E===xe.CODE_CODE_A?xe.CODE_CODE_B:xe.CODE_CODE_A)}const bn=k-D;if(k=a.getNextUnset(k),!a.isRange(k,Math.min(a.getSize(),k+(k-D)/2),!1))throw new W;if(ce-=he*j,ce%103!==j)throw new ee;const Vn=N.length;if(Vn===0)throw new W;Vn>0&&se&&(E===xe.CODE_CODE_C?N=N.substring(0,Vn-2):N=N.substring(0,Vn-1));const Tn=(o[1]+o[0])/2,wt=D+bn/2,dn=g.length,Fn=new Uint8Array(dn);for(let $i=0;$i<dn;$i++)Fn[$i]=g[$i];const Ji=[new be(Tn,n),new be(wt,n)];return new pe(N,Fn,0,Ji,Ae.CODE_128,new Date().getTime())}}xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],xe.MAX_AVG_VARIANCE=.25,xe.MAX_INDIVIDUAL_VARIANCE=.7,xe.CODE_SHIFT=98,xe.CODE_CODE_C=99,xe.CODE_CODE_B=100,xe.CODE_CODE_A=101,xe.CODE_FNC_1=102,xe.CODE_FNC_2=97,xe.CODE_FNC_3=96,xe.CODE_FNC_4_A=101,xe.CODE_FNC_4_B=100,xe.CODE_START_A=103,xe.CODE_START_B=104,xe.CODE_START_C=105,xe.CODE_STOP=106;class Jt extends Dt{constructor(n=!1,a=!1){super(),this.usingCheckDigit=n,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,a,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=Jt.findAsteriskPattern(a,s),c=a.getNextSet(o[1]),f=a.getSize(),g,E;do{Jt.recordPattern(a,c,s);let z=Jt.toNarrowWidePattern(s);if(z<0)throw new W;g=Jt.patternToChar(z),this.decodeRowResult+=g,E=c;for(let j of s)c+=j;c=a.getNextSet(c)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let z of s)S+=z;let v=c-E-S;if(c!==f&&v*2<S)throw new W;if(this.usingCheckDigit){let z=this.decodeRowResult.length-1,j=0;for(let Q=0;Q<z;Q++)j+=Jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(z)!==Jt.ALPHABET_STRING.charAt(j%43))throw new ee;this.decodeRowResult=this.decodeRowResult.substring(0,z)}if(this.decodeRowResult.length===0)throw new W;let N;this.extendedMode?N=Jt.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let D=(o[1]+o[0])/2,k=E+S/2;return new pe(N,null,0,[new be(D,n),new be(k,n)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(n,a){let r=n.getSize(),s=n.getNextSet(0),o=0,c=s,f=!1,g=a.length;for(let E=s;E<r;E++)if(n.get(E)!==f)a[o]++;else{if(o===g-1){if(this.toNarrowWidePattern(a)===Jt.ASTERISK_ENCODING&&n.isRange(Math.max(0,c-Math.floor((E-c)/2)),c,!1))return[c,E];c+=a[0]+a[1],a.copyWithin(0,2,2+o-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,f=!f}throw new W}static toNarrowWidePattern(n){let a=n.length,r=0,s;do{let o=2147483647;for(let g of n)g<o&&g>r&&(o=g);r=o,s=0;let c=0,f=0;for(let g=0;g<a;g++){let E=n[g];E>r&&(f|=1<<a-1-g,s++,c+=E)}if(s===3){for(let g=0;g<a&&s>0;g++){let E=n[g];if(E>r&&(s--,E*2>=c))return-1}return f}}while(s>3);return-1}static patternToChar(n){for(let a=0;a<Jt.CHARACTER_ENCODINGS.length;a++)if(Jt.CHARACTER_ENCODINGS[a]===n)return Jt.ALPHABET_STRING.charAt(a);if(n===Jt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(n){let a=n.length,r="";for(let s=0;s<a;s++){let o=n.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let c=n.charAt(s+1),f="\0";switch(o){case"+":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new fe;break;case"$":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new fe;break;case"%":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c==="X"||c==="Y"||c==="Z")f="";else throw new fe;break;case"/":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new fe;break}r+=f,s++}else r+=o}return r}}Jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Jt.ASTERISK_ENCODING=148;class it extends Dt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,a,r){let s=this.decodeStart(a),o=this.decodeEnd(a),c=new qe;it.decodeMiddle(a,s[1],o[0],c);let f=c.toString(),g=null;r!=null&&(g=r.get(ke.ALLOWED_LENGTHS)),g==null&&(g=it.DEFAULT_ALLOWED_LENGTHS);let E=f.length,S=!1,v=0;for(let k of g){if(E===k){S=!0;break}k>v&&(v=k)}if(!S&&E>v&&(S=!0),!S)throw new fe;const N=[new be(s[1],n),new be(o[0],n)];return new pe(f,null,0,N,Ae.ITF,new Date().getTime())}static decodeMiddle(n,a,r,s){let o=new Int32Array(10),c=new Int32Array(5),f=new Int32Array(5);for(o.fill(0),c.fill(0),f.fill(0);a<r;){Dt.recordPattern(n,a,o);for(let E=0;E<5;E++){let S=2*E;c[E]=o[S],f[E]=o[S+1]}let g=it.decodeDigit(c);s.append(g.toString()),g=this.decodeDigit(f),s.append(g.toString()),o.forEach(function(E){a+=E})}}decodeStart(n){let a=it.skipWhiteSpace(n),r=it.findGuardPattern(n,a,it.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(n,r[0]),r}validateQuietZone(n,a){let r=this.narrowLineWidth*10;r=r<a?r:a;for(let s=a-1;r>0&&s>=0&&!n.get(s);s--)r--;if(r!==0)throw new W}static skipWhiteSpace(n){const a=n.getSize(),r=n.getNextSet(0);if(r===a)throw new W;return r}decodeEnd(n){n.reverse();try{let a=it.skipWhiteSpace(n),r;try{r=it.findGuardPattern(n,a,it.END_PATTERN_REVERSED[0])}catch(o){o instanceof W&&(r=it.findGuardPattern(n,a,it.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,r[0]);let s=r[0];return r[0]=n.getSize()-r[1],r[1]=n.getSize()-s,r}finally{n.reverse()}}static findGuardPattern(n,a,r){let s=r.length,o=new Int32Array(s),c=n.getSize(),f=!1,g=0,E=a;o.fill(0);for(let S=a;S<c;S++)if(n.get(S)!==f)o[g]++;else{if(g===s-1){if(Dt.patternMatchVariance(o,r,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return[E,S];E+=o[0]+o[1],le.arraycopy(o,2,o,0,g-1),o[g-1]=0,o[g]=0,g--}else g++;o[g]=1,f=!f}throw new W}static decodeDigit(n){let a=it.MAX_AVG_VARIANCE,r=-1,s=it.PATTERNS.length;for(let o=0;o<s;o++){let c=it.PATTERNS[o],f=Dt.patternMatchVariance(n,c,it.MAX_INDIVIDUAL_VARIANCE);f<a?(a=f,r=o):f===a&&(r=-1)}if(r>=0)return r%10;throw new W}}it.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],it.MAX_AVG_VARIANCE=.38,it.MAX_INDIVIDUAL_VARIANCE=.5,it.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],it.START_PATTERN=Int32Array.from([1,1,1,1]),it.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class at extends Dt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let a=!1,r,s=0,o=Int32Array.from([0,0,0]);for(;!a;){o=Int32Array.from([0,0,0]),r=at.findGuardPattern(n,s,!1,this.START_END_PATTERN,o);let c=r[0];s=r[1];let f=c-(s-c);f>=0&&(a=n.isRange(f,c,!1))}return r}static checkChecksum(n){return at.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let a=n.length;if(a===0)return!1;let r=parseInt(n.charAt(a-1),10);return at.getStandardUPCEANChecksum(n.substring(0,a-1))===r}static getStandardUPCEANChecksum(n){let a=n.length,r=0;for(let s=a-1;s>=0;s-=2){let o=n.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new fe;r+=o}r*=3;for(let s=a-2;s>=0;s-=2){let o=n.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new fe;r+=o}return(1e3-r)%10}static decodeEnd(n,a){return at.findGuardPattern(n,a,!1,at.START_END_PATTERN,new Int32Array(at.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,a,r,s){return this.findGuardPattern(n,a,r,s,new Int32Array(s.length))}static findGuardPattern(n,a,r,s,o){let c=n.getSize();a=r?n.getNextUnset(a):n.getNextSet(a);let f=0,g=a,E=s.length,S=r;for(let v=a;v<c;v++)if(n.get(v)!==S)o[f]++;else{if(f===E-1){if(Dt.patternMatchVariance(o,s,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return Int32Array.from([g,v]);g+=o[0]+o[1];let N=o.slice(2,o.length-1);for(let D=0;D<f-1;D++)o[D]=N[D];o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,S=!S}throw new W}static decodeDigit(n,a,r,s){this.recordPattern(n,r,a);let o=this.MAX_AVG_VARIANCE,c=-1,f=s.length;for(let g=0;g<f;g++){let E=s[g],S=Dt.patternMatchVariance(a,E,at.MAX_INDIVIDUAL_VARIANCE);S<o&&(o=S,c=g)}if(c>=0)return c;throw new W}}at.MAX_AVG_VARIANCE=.48,at.MAX_INDIVIDUAL_VARIANCE=.7,at.START_END_PATTERN=Int32Array.from([1,1,1]),at.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),at.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),at.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class lr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,a,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(a,r,s),c=s.toString(),f=lr.parseExtensionString(c),g=[new be((r[0]+r[1])/2,n),new be(o,n)],E=new pe(c,null,0,g,Ae.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&E.putAllMetadata(f),E}decodeMiddle(n,a,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=n.getSize(),c=a[1],f=0;for(let E=0;E<5&&c<o;E++){let S=at.decodeDigit(n,s,c,at.L_AND_G_PATTERNS);r+=String.fromCharCode(48+S%10);for(let v of s)c+=v;S>=10&&(f|=1<<4-E),E!==4&&(c=n.getNextSet(c),c=n.getNextUnset(c))}if(r.length!==5)throw new W;let g=this.determineCheckDigit(f);if(lr.extensionChecksum(r.toString())!==g)throw new W;return c}static extensionChecksum(n){let a=n.length,r=0;for(let s=a-2;s>=0;s-=2)r+=n.charAt(s).charCodeAt(0)-48;r*=3;for(let s=a-1;s>=0;s-=2)r+=n.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(n){for(let a=0;a<10;a++)if(n===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new W}static parseExtensionString(n){if(n.length!==5)return null;let a=lr.parseExtension5String(n);return a==null?null:new Map([[He.SUGGESTED_PRICE,a]])}static parseExtension5String(n){let a;switch(n.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let r=parseInt(n.substring(1)),s=(r/100).toString(),o=r%100,c=o<10?"0"+o:o.toString();return a+s+"."+c}}class vl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,a,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(a,r,s),c=s.toString(),f=vl.parseExtensionString(c),g=[new be((r[0]+r[1])/2,n),new be(o,n)],E=new pe(c,null,0,g,Ae.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&E.putAllMetadata(f),E}decodeMiddle(n,a,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=n.getSize(),c=a[1],f=0;for(let g=0;g<2&&c<o;g++){let E=at.decodeDigit(n,s,c,at.L_AND_G_PATTERNS);r+=String.fromCharCode(48+E%10);for(let S of s)c+=S;E>=10&&(f|=1<<1-g),g!==1&&(c=n.getNextSet(c),c=n.getNextUnset(c))}if(r.length!==2)throw new W;if(parseInt(r.toString())%4!==f)throw new W;return c}static parseExtensionString(n){return n.length!==2?null:new Map([[He.ISSUE_NUMBER,parseInt(n)]])}}class Is{static decodeRow(n,a,r){let s=at.findGuardPattern(a,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new lr().decodeRow(n,a,s)}catch{return new vl().decodeRow(n,a,s)}}}Is.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class rt extends at{constructor(){super(),this.decodeRowStringBuffer="",rt.L_AND_G_PATTERNS=rt.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let a=rt.L_PATTERNS[n-10],r=new Int32Array(a.length);for(let s=0;s<a.length;s++)r[s]=a[a.length-s-1];rt.L_AND_G_PATTERNS[n]=r}}decodeRow(n,a,r){let s=rt.findStartGuardPattern(a),o=r==null?null:r.get(ke.NEED_RESULT_POINT_CALLBACK);if(o!=null){const se=new be((s[0]+s[1])/2,n);o.foundPossibleResultPoint(se)}let c=this.decodeMiddle(a,s,this.decodeRowStringBuffer),f=c.rowOffset,g=c.resultString;if(o!=null){const se=new be(f,n);o.foundPossibleResultPoint(se)}let E=this.decodeEnd(a,f);if(o!=null){const se=new be((E[0]+E[1])/2,n);o.foundPossibleResultPoint(se)}let S=E[1],v=S+(S-E[0]);if(v>=a.getSize()||!a.isRange(S,v,!1))throw new W;let N=g.toString();if(N.length<8)throw new fe;if(!rt.checkChecksum(N))throw new ee;let D=(s[1]+s[0])/2,k=(E[1]+E[0])/2,z=this.getBarcodeFormat(),j=[new be(D,n),new be(k,n)],Q=new pe(N,null,0,j,z,new Date().getTime()),ce=0;try{let se=Is.decodeRow(n,a,E[1]);Q.putMetadata(He.UPC_EAN_EXTENSION,se.getText()),Q.putAllMetadata(se.getResultMetadata()),Q.addResultPoints(se.getResultPoints()),ce=se.getText().length}catch{}let he=r==null?null:r.get(ke.ALLOWED_EAN_EXTENSIONS);if(he!=null){let se=!1;for(let We in he)if(ce.toString()===We){se=!0;break}if(!se)throw new W}return Q}decodeEnd(n,a){return rt.findGuardPattern(n,a,!1,rt.START_END_PATTERN,new Int32Array(rt.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return rt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let a=n.length;if(a===0)return!1;let r=parseInt(n.charAt(a-1),10);return rt.getStandardUPCEANChecksum(n.substring(0,a-1))===r}static getStandardUPCEANChecksum(n){let a=n.length,r=0;for(let s=a-1;s>=0;s-=2){let o=n.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new fe;r+=o}r*=3;for(let s=a-2;s>=0;s-=2){let o=n.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new fe;r+=o}return(1e3-r)%10}}class ri extends rt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,a,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=n.getSize(),c=a[1],f=0;for(let E=0;E<6&&c<o;E++){let S=rt.decodeDigit(n,s,c,rt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+S%10);for(let v of s)c+=v;S>=10&&(f|=1<<5-E)}r=ri.determineFirstDigit(r,f),c=rt.findGuardPattern(n,c,!0,rt.MIDDLE_PATTERN,new Int32Array(rt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&c<o;E++){let S=rt.decodeDigit(n,s,c,rt.L_PATTERNS);r+=String.fromCharCode(48+S);for(let v of s)c+=v}return{rowOffset:c,resultString:r}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(n,a){for(let r=0;r<10;r++)if(a===this.FIRST_DIGIT_ENCODINGS[r])return n=String.fromCharCode(48+r)+n,n;throw new W}}ri.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ni extends rt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,a,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=n.getSize(),c=a[1];for(let g=0;g<4&&c<o;g++){let E=rt.decodeDigit(n,s,c,rt.L_PATTERNS);r+=String.fromCharCode(48+E);for(let S of s)c+=S}c=rt.findGuardPattern(n,c,!0,rt.MIDDLE_PATTERN,new Int32Array(rt.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&c<o;g++){let E=rt.decodeDigit(n,s,c,rt.L_PATTERNS);r+=String.fromCharCode(48+E);for(let S of s)c+=S}return{rowOffset:c,resultString:r}}getBarcodeFormat(){return Ae.EAN_8}}class sr extends rt{constructor(){super(...arguments),this.ean13Reader=new ri}getBarcodeFormat(){return Ae.UPC_A}decode(n,a){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,a,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,a,r))}decodeMiddle(n,a,r){return this.ean13Reader.decodeMiddle(n,a,r)}maybeReturnResult(n){let a=n.getText();if(a.charAt(0)==="0"){let r=new pe(a.substring(1),null,null,n.getResultPoints(),Ae.UPC_A);return n.getResultMetadata()!=null&&r.putAllMetadata(n.getResultMetadata()),r}else throw new W}reset(){this.ean13Reader.reset()}}class wn extends rt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,a,r){const s=this.decodeMiddleCounters.map(E=>E);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=n.getSize();let c=a[1],f=0;for(let E=0;E<6&&c<o;E++){const S=wn.decodeDigit(n,s,c,wn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+S%10);for(let v of s)c+=v;S>=10&&(f|=1<<5-E)}let g=wn.determineNumSysAndCheckDigit(r,f);return{rowOffset:c,resultString:g}}decodeEnd(n,a){return wn.findGuardPatternWithoutCounters(n,a,!0,wn.MIDDLE_END_PATTERN)}checkChecksum(n){return rt.checkChecksum(wn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,a){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let o=String.fromCharCode(48+r),c=String.fromCharCode(48+s);return o+n+c}throw W.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(n){const a=n.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new qe;r.append(n.charAt(0));let s=a[5];switch(s){case 0:case 1:case 2:r.appendChars(a,0,2),r.append(s),r.append("0000"),r.appendChars(a,2,3);break;case 3:r.appendChars(a,0,3),r.append("00000"),r.appendChars(a,3,2);break;case 4:r.appendChars(a,0,4),r.append("00000"),r.append(a[4]);break;default:r.appendChars(a,0,5),r.append("0000"),r.append(s);break}return n.length>=8&&r.append(n.charAt(7)),r.toString()}}wn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Nl extends Dt{constructor(n){super();let a=n==null?null:n.get(ke.POSSIBLE_FORMATS),r=[];y(a)?(r.push(new ri),r.push(new sr),r.push(new Ni),r.push(new wn)):(a.indexOf(Ae.EAN_13)>-1&&r.push(new ri),a.indexOf(Ae.UPC_A)>-1&&r.push(new sr),a.indexOf(Ae.EAN_8)>-1&&r.push(new Ni),a.indexOf(Ae.UPC_E)>-1&&r.push(new wn)),this.readers=r}decodeRow(n,a,r){for(let s of this.readers)try{const o=s.decodeRow(n,a,r),c=o.getBarcodeFormat()===Ae.EAN_13&&o.getText().charAt(0)==="0",f=r==null?null:r.get(ke.POSSIBLE_FORMATS),g=f==null||f.includes(Ae.UPC_A);if(c&&g){const E=o.getRawBytes(),S=new pe(o.getText().substring(1),E,E?E.length:null,o.getResultPoints(),Ae.UPC_A);return S.putAllMetadata(o.getResultMetadata()),S}return o}catch{}throw new W}reset(){for(let n of this.readers)n.reset()}}class fn extends Dt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,a){for(let r=0;r<a.length;r++)if(Dt.patternMatchVariance(n,a[r],fn.MAX_INDIVIDUAL_VARIANCE)<fn.MAX_AVG_VARIANCE)return r;throw new W}static count(n){return et.sum(new Int32Array(n))}static increment(n,a){let r=0,s=a[0];for(let o=1;o<n.length;o++)a[o]>s&&(s=a[o],r=o);n[r]++}static decrement(n,a){let r=0,s=a[0];for(let o=1;o<n.length;o++)a[o]<s&&(s=a[o],r=o);n[r]--}static isFinderPattern(n){let a=n[0]+n[1],r=a+n[2]+n[3],s=a/r;if(s>=fn.MIN_FINDER_PATTERN_RATIO&&s<=fn.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let f of n)f>c&&(c=f),f<o&&(o=f);return c<10*o}return!1}}fn.MAX_AVG_VARIANCE=.2,fn.MAX_INDIVIDUAL_VARIANCE=.45,fn.MIN_FINDER_PATTERN_RATIO=9.5/12,fn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Xi{constructor(n,a){this.value=n,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Xi))return!1;const a=n;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class pa{constructor(n,a,r,s,o){this.value=n,this.startEnd=a,this.value=n,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new be(r,o)),this.resultPoints.push(new be(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof pa))return!1;const a=n;return this.value===a.value}hashCode(){return this.value}}class In{constructor(){}static getRSSvalue(n,a,r){let s=0;for(let g of n)s+=g;let o=0,c=0,f=n.length;for(let g=0;g<f-1;g++){let E;for(E=1,c|=1<<g;E<n[g];E++,c&=~(1<<g)){let S=In.combins(s-E-1,f-g-2);if(r&&c===0&&s-E-(f-g-1)>=f-g-1&&(S-=In.combins(s-E-(f-g),f-g-2)),f-g-1>1){let v=0;for(let N=s-E-(f-g-2);N>a;N--)v+=In.combins(s-E-N-1,f-g-3);S-=v*(f-1-g)}else s-E>a&&S--;o+=S}s-=E}return o}static combins(n,a){let r,s;n-a>a?(s=a,r=n-a):(s=n-a,r=a);let o=1,c=1;for(let f=n;f>r;f--)o*=f,c<=s&&(o/=c,c++);for(;c<=s;)o/=c,c++;return o}}class Vo{static buildBitArray(n){let a=n.length*2-1;n[n.length-1].getRightChar()==null&&(a-=1);let r=12*a,s=new ve(r),o=0,f=n[0].getRightChar().getValue();for(let g=11;g>=0;--g)(f&1<<g)!=0&&s.set(o),o++;for(let g=1;g<n.length;++g){let E=n[g],S=E.getLeftChar().getValue();for(let v=11;v>=0;--v)(S&1<<v)!=0&&s.set(o),o++;if(E.getRightChar()!=null){let v=E.getRightChar().getValue();for(let N=11;N>=0;--N)(v&1<<N)!=0&&s.set(o),o++}}return s}}class Mi{constructor(n,a){a?this.decodedInformation=null:(this.finished=n,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class zr{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Sn extends zr{constructor(n,a){super(n),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Sn.FNC1}}Sn.FNC1="$";class Ii extends zr{constructor(n,a,r){super(n),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class jn extends zr{constructor(n,a,r){if(super(n),a<0||a>10||r<0||r>10)throw new fe;this.firstDigit=a,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===jn.FNC1}isSecondDigitFNC1(){return this.secondDigit===jn.FNC1}isAnyFNC1(){return this.firstDigit===jn.FNC1||this.secondDigit===jn.FNC1}}jn.FNC1=10;class Ce{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new W;let a=n.substring(0,2);for(let o of Ce.TWO_DIGIT_DATA_LENGTH)if(o[0]===a)return o[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(2,o[2],n):Ce.processFixedAI(2,o[1],n);if(n.length<3)throw new W;let r=n.substring(0,3);for(let o of Ce.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(3,o[2],n):Ce.processFixedAI(3,o[1],n);for(let o of Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,o[2],n):Ce.processFixedAI(4,o[1],n);if(n.length<4)throw new W;let s=n.substring(0,4);for(let o of Ce.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,o[2],n):Ce.processFixedAI(4,o[1],n);throw new W}static processFixedAI(n,a,r){if(r.length<n)throw new W;let s=r.substring(0,n);if(r.length<n+a)throw new W;let o=r.substring(n,n+a),c=r.substring(n+a),f="("+s+")"+o,g=Ce.parseFieldsInGeneralPurpose(c);return g==null?f:f+g}static processVariableAI(n,a,r){let s=r.substring(0,n),o;r.length<n+a?o=r.length:o=n+a;let c=r.substring(n,o),f=r.substring(o),g="("+s+")"+c,E=Ce.parseFieldsInGeneralPurpose(f);return E==null?g:g+E}}Ce.VARIABLE_LENGTH=[],Ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ce.VARIABLE_LENGTH,20],["22",Ce.VARIABLE_LENGTH,29],["30",Ce.VARIABLE_LENGTH,8],["37",Ce.VARIABLE_LENGTH,8],["90",Ce.VARIABLE_LENGTH,30],["91",Ce.VARIABLE_LENGTH,30],["92",Ce.VARIABLE_LENGTH,30],["93",Ce.VARIABLE_LENGTH,30],["94",Ce.VARIABLE_LENGTH,30],["95",Ce.VARIABLE_LENGTH,30],["96",Ce.VARIABLE_LENGTH,30],["97",Ce.VARIABLE_LENGTH,3],["98",Ce.VARIABLE_LENGTH,30],["99",Ce.VARIABLE_LENGTH,30]],Ce.THREE_DIGIT_DATA_LENGTH=[["240",Ce.VARIABLE_LENGTH,30],["241",Ce.VARIABLE_LENGTH,30],["242",Ce.VARIABLE_LENGTH,6],["250",Ce.VARIABLE_LENGTH,30],["251",Ce.VARIABLE_LENGTH,30],["253",Ce.VARIABLE_LENGTH,17],["254",Ce.VARIABLE_LENGTH,20],["400",Ce.VARIABLE_LENGTH,30],["401",Ce.VARIABLE_LENGTH,30],["402",17],["403",Ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ce.VARIABLE_LENGTH,20],["421",Ce.VARIABLE_LENGTH,15],["422",3],["423",Ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ce.VARIABLE_LENGTH,15],["391",Ce.VARIABLE_LENGTH,18],["392",Ce.VARIABLE_LENGTH,15],["393",Ce.VARIABLE_LENGTH,18],["703",Ce.VARIABLE_LENGTH,30]],Ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ce.VARIABLE_LENGTH,20],["8003",Ce.VARIABLE_LENGTH,30],["8004",Ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ce.VARIABLE_LENGTH,30],["8008",Ce.VARIABLE_LENGTH,12],["8018",18],["8020",Ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ce.VARIABLE_LENGTH,70],["8200",Ce.VARIABLE_LENGTH,70]];class Pt{constructor(n){this.buffer=new qe,this.information=n}decodeAllCodes(n,a){let r=a,s=null;do{let o=this.decodeGeneralPurposeField(r,s),c=Ce.parseFieldsInGeneralPurpose(o.getNewString());if(c!=null&&n.append(c),o.isRemaining()?s=""+o.getRemainingValue():s=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let a=n;a<n+3;++a)if(this.information.get(a))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(n,4);return o===0?new jn(this.information.getSize(),jn.FNC1,jn.FNC1):new jn(this.information.getSize(),o-1,jn.FNC1)}let a=this.extractNumericValueFromBitArray(n,7),r=(a-8)/11,s=(a-8)%11;return new jn(n+7,r,s)}extractNumericValueFromBitArray(n,a){return Pt.extractNumericValueFromBitArray(this.information,n,a)}static extractNumericValueFromBitArray(n,a,r){let s=0;for(let o=0;o<r;++o)n.get(a+o)&&(s|=1<<r-o-1);return s}decodeGeneralPurposeField(n,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(n);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new Ii(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Ii(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,a;do{let r=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),n=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),n=a.isFinished()):(a=this.parseNumericBlock(),n=a.isFinished()),!(r!==this.current.getPosition())&&!n)break}while(!n);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let a;return n.isSecondDigitFNC1()?a=new Ii(this.current.getPosition(),this.buffer.toString()):a=new Ii(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Mi(!0,a)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let a=new Ii(this.current.getPosition(),this.buffer.toString());return new Mi(!0,a)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Mi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let a=new Ii(this.current.getPosition(),this.buffer.toString());return new Mi(!0,a)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Mi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let a=new Ii(this.current.getPosition(),this.buffer.toString());return new Mi(!0,a)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Mi(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,5);if(a>=5&&a<16)return!0;if(n+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,7);if(r>=64&&r<116)return!0;if(n+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,8);return s>=232&&s<253}decodeIsoIec646(n){let a=this.extractNumericValueFromBitArray(n,5);if(a===15)return new Sn(n+5,Sn.FNC1);if(a>=5&&a<15)return new Sn(n+5,"0"+(a-5));let r=this.extractNumericValueFromBitArray(n,7);if(r>=64&&r<90)return new Sn(n+7,""+(r+1));if(r>=90&&r<116)return new Sn(n+7,""+(r+7));let s=this.extractNumericValueFromBitArray(n,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new fe}return new Sn(n+8,o)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,5);if(a>=5&&a<16)return!0;if(n+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,6);return r>=16&&r<63}decodeAlphanumeric(n){let a=this.extractNumericValueFromBitArray(n,5);if(a===15)return new Sn(n+5,Sn.FNC1);if(a>=5&&a<15)return new Sn(n+5,"0"+(a-5));let r=this.extractNumericValueFromBitArray(n,6);if(r>=32&&r<58)return new Sn(n+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Ln("Decoding invalid alphanumeric value: "+r)}return new Sn(n+6,s)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let a=0;a<5&&a+n<this.information.getSize();++a)if(a===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+a))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let a=n;a<n+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let a=0;a<4&&a+n<this.information.getSize();++a)if(this.information.get(n+a))return!1;return!0}}class mn{constructor(n){this.information=n,this.generalDecoder=new Pt(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class $t extends mn{constructor(n){super(n)}encodeCompressedGtin(n,a){n.append("(01)");let r=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,a,r)}encodeCompressedGtinWithoutAI(n,a,r){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*s,10);o/100===0&&n.append("0"),o/10===0&&n.append("0"),n.append(o)}$t.appendCheckDigit(n,r)}static appendCheckDigit(n,a){let r=0;for(let s=0;s<13;s++){let o=n.charAt(s+a).charCodeAt(0)-48;r+=(s&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),n.append(r)}}$t.GTIN_SIZE=40;class Oi extends $t{constructor(n){super(n)}parseInformation(){let n=new qe;n.append("(01)");let a=n.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(Oi.HEADER_SIZE,4);return n.append(r),this.encodeCompressedGtinWithoutAI(n,Oi.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(n,Oi.HEADER_SIZE+44)}}Oi.HEADER_SIZE=4;class Fr extends mn{constructor(n){super(n)}parseInformation(){let n=new qe;return this.getGeneralDecoder().decodeAllCodes(n,Fr.HEADER_SIZE)}}Fr.HEADER_SIZE=5;class Hr extends $t{constructor(n){super(n)}encodeCompressedWeight(n,a,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(a,r);this.addWeightCode(n,s);let o=this.checkWeight(s),c=1e5;for(let f=0;f<5;++f)o/c===0&&n.append("0"),c/=10;n.append(o)}}class qn extends Hr{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=qn.HEADER_SIZE+Hr.GTIN_SIZE+qn.WEIGHT_SIZE)throw new W;let n=new qe;return this.encodeCompressedGtin(n,qn.HEADER_SIZE),this.encodeCompressedWeight(n,qn.HEADER_SIZE+Hr.GTIN_SIZE,qn.WEIGHT_SIZE),n.toString()}}qn.HEADER_SIZE=5,qn.WEIGHT_SIZE=15;class or extends qn{constructor(n){super(n)}addWeightCode(n,a){n.append("(3103)")}checkWeight(n){return n}}class Ml extends qn{constructor(n){super(n)}addWeightCode(n,a){a<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class An extends $t{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<An.HEADER_SIZE+$t.GTIN_SIZE)throw new W;let n=new qe;this.encodeCompressedGtin(n,An.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+$t.GTIN_SIZE,An.LAST_DIGIT_SIZE);n.append("(392"),n.append(a),n.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(An.HEADER_SIZE+$t.GTIN_SIZE+An.LAST_DIGIT_SIZE,null);return n.append(r.getNewString()),n.toString()}}An.HEADER_SIZE=8,An.LAST_DIGIT_SIZE=2;class Xt extends $t{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Xt.HEADER_SIZE+$t.GTIN_SIZE)throw new W;let n=new qe;this.encodeCompressedGtin(n,Xt.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Xt.HEADER_SIZE+$t.GTIN_SIZE,Xt.LAST_DIGIT_SIZE);n.append("(393"),n.append(a),n.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Xt.HEADER_SIZE+$t.GTIN_SIZE+Xt.LAST_DIGIT_SIZE,Xt.FIRST_THREE_DIGITS_SIZE);r/100==0&&n.append("0"),r/10==0&&n.append("0"),n.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Xt.HEADER_SIZE+$t.GTIN_SIZE+Xt.LAST_DIGIT_SIZE+Xt.FIRST_THREE_DIGITS_SIZE,null);return n.append(s.getNewString()),n.toString()}}Xt.HEADER_SIZE=8,Xt.LAST_DIGIT_SIZE=2,Xt.FIRST_THREE_DIGITS_SIZE=10;class Et extends Hr{constructor(n,a,r){super(n),this.dateCode=r,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE+Et.DATE_SIZE)throw new W;let n=new qe;return this.encodeCompressedGtin(n,Et.HEADER_SIZE),this.encodeCompressedWeight(n,Et.HEADER_SIZE+Et.GTIN_SIZE,Et.WEIGHT_SIZE),this.encodeCompressedDate(n,Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,a){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(a,Et.DATE_SIZE);if(r==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let s=r%32;r/=32;let o=r%12+1;r/=12;let c=r;c/10==0&&n.append("0"),n.append(c),o/10==0&&n.append("0"),n.append(o),s/10==0&&n.append("0"),n.append(s)}addWeightCode(n,a){n.append("("),n.append(this.firstAIdigits),n.append(a/1e5),n.append(")")}checkWeight(n){return n%1e5}}Et.HEADER_SIZE=8,Et.WEIGHT_SIZE=20,Et.DATE_SIZE=16;function Zi(T){try{if(T.get(1))return new Oi(T);if(!T.get(2))return new Fr(T);switch(Pt.extractNumericValueFromBitArray(T,1,4)){case 4:return new or(T);case 5:return new Ml(T)}switch(Pt.extractNumericValueFromBitArray(T,1,5)){case 12:return new An(T);case 13:return new Xt(T)}switch(Pt.extractNumericValueFromBitArray(T,1,7)){case 56:return new Et(T,"310","11");case 57:return new Et(T,"320","11");case 58:return new Et(T,"310","13");case 59:return new Et(T,"320","13");case 60:return new Et(T,"310","15");case 61:return new Et(T,"320","15");case 62:return new Et(T,"310","17");case 63:return new Et(T,"320","17")}}catch(n){throw console.log(n),new Ln("unknown decoder: "+T)}}class Nt{constructor(n,a,r,s){this.leftchar=n,this.rightchar=a,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,a){return n instanceof Nt?Nt.equalsOrNull(n.leftchar,a.leftchar)&&Nt.equalsOrNull(n.rightchar,a.rightchar)&&Nt.equalsOrNull(n.finderpattern,a.finderpattern):!1}static equalsOrNull(n,a){return n===null?a===null:Nt.equals(n,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Pr{constructor(n,a,r){this.pairs=n,this.rowNumber=a,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,a){return n instanceof Pr?this.checkEqualitity(n,a)&&n.wasReversed===a.wasReversed:!1}checkEqualitity(n,a){if(!n||!a)return;let r;return n.forEach((s,o)=>{a.forEach(c=>{s.getLeftChar().getValue()===c.getLeftChar().getValue()&&s.getRightChar().getValue()===c.getRightChar().getValue()&&s.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(r=!0)})}),r}}class re extends fn{constructor(n){super(...arguments),this.pairs=new Array(re.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,a,r){this.pairs.length=0,this.startFromEven=!1;try{return re.constructResult(this.decodeRow2pairs(n,a))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,re.constructResult(this.decodeRow2pairs(n,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,a){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,n))}catch(o){if(o instanceof W){if(!this.pairs.length)throw new W;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(n,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new W}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return n&&(this.rows=this.rows.reverse()),a}checkRows(n,a){for(let r=a;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let c of n)this.pairs.push(c.getPairs());if(this.pairs.push(s.getPairs()),!re.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(n);o.push(s);try{return this.checkRows(o,r+1)}catch(c){this.verbose&&console.log(c)}}throw new W}static isValidSequence(n){for(let a of re.FINDER_PATTERN_SEQUENCES){if(n.length>a.length)continue;let r=!0;for(let s=0;s<n.length;s++)if(n[s].getFinderPattern().getValue()!=a[s]){r=!1;break}if(r)return!0}return!1}storeRow(n,a){let r=0,s=!1,o=!1;for(;r<this.rows.length;){let c=this.rows[r];if(c.getRowNumber()>n){o=c.isEquivalent(this.pairs);break}s=c.isEquivalent(this.pairs),r++}o||s||re.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Pr(this.pairs,n,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,a){for(let r of a)if(r.getPairs().length!==n.length){for(let s of r.getPairs())for(let o of n)if(Nt.equals(s,o))break}}static isPartialRow(n,a){for(let r of a){let s=!0;for(let o of n){let c=!1;for(let f of r.getPairs())if(o.equals(f)){c=!0;break}if(!c){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(n){let a=Vo.buildBitArray(n),s=Zi(a).parseInformation(),o=n[0].getFinderPattern().getResultPoints(),c=n[n.length-1].getFinderPattern().getResultPoints(),f=[o[0],o[1],c[0],c[1]];return new pe(s,null,null,f,Ae.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),a=n.getLeftChar(),r=n.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),o=2;for(let f=1;f<this.pairs.size();++f){let g=this.pairs.get(f);s+=g.getLeftChar().getChecksumPortion(),o++;let E=g.getRightChar();E!=null&&(s+=E.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==a.getValue()}static getNextSecondBar(n,a){let r;return n.get(a)?(r=n.getNextUnset(a),r=n.getNextSet(r)):(r=n.getNextSet(a),r=n.getNextUnset(r)),r}retrieveNextPair(n,a,r){let s=a.length%2==0;this.startFromEven&&(s=!s);let o,c=!0,f=-1;do this.findNextPair(n,a,f),o=this.parseFoundFinderPattern(n,r,s),o==null?f=re.getNextSecondBar(n,this.startEnd[0]):c=!1;while(c);let g=this.decodeDataCharacter(n,o,s,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new W;let E;try{E=this.decodeDataCharacter(n,o,s,!1)}catch(S){E=null,this.verbose&&console.log(S)}return new Nt(g,E,o,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,a,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=n.getSize(),c;r>=0?c=r:this.isEmptyPair(a)?c=0:c=a[a.length-1].getFinderPattern().getStartEnd()[1];let f=a.length%2!=0;this.startFromEven&&(f=!f);let g=!1;for(;c<o&&(g=!n.get(c),!!g);)c++;let E=0,S=c;for(let v=c;v<o;v++)if(n.get(v)!=g)s[E]++;else{if(E==3){if(f&&re.reverseCounters(s),re.isFinderPattern(s)){this.startEnd[0]=S,this.startEnd[1]=v;return}f&&re.reverseCounters(s),S+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,E--}else E++;s[E]=1,g=!g}throw new W}static reverseCounters(n){let a=n.length;for(let r=0;r<a/2;++r){let s=n[r];n[r]=n[a-r-1],n[a-r-1]=s}}parseFoundFinderPattern(n,a,r){let s,o,c;if(r){let E=this.startEnd[0]-1;for(;E>=0&&!n.get(E);)E--;E++,s=this.startEnd[0]-E,o=E,c=this.startEnd[1]}else o=this.startEnd[0],c=n.getNextUnset(this.startEnd[1]+1),s=c-this.startEnd[1];let f=this.getDecodeFinderCounters();le.arraycopy(f,0,f,1,f.length-1),f[0]=s;let g;try{g=this.parseFinderValue(f,re.FINDER_PATTERNS)}catch{return null}return new pa(g,[o,c],o,c,a)}decodeDataCharacter(n,a,r,s){let o=this.getDataCharacterCounters();for(let wt=0;wt<o.length;wt++)o[wt]=0;if(s)re.recordPatternInReverse(n,a.getStartEnd()[0],o);else{re.recordPattern(n,a.getStartEnd()[1],o);for(let wt=0,dn=o.length-1;wt<dn;wt++,dn--){let Fn=o[wt];o[wt]=o[dn],o[dn]=Fn}}let c=17,f=et.sum(new Int32Array(o))/c,g=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(f-g)/g>.3)throw new W;let E=this.getOddCounts(),S=this.getEvenCounts(),v=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let wt=0;wt<o.length;wt++){let dn=1*o[wt]/f,Fn=dn+.5;if(Fn<1){if(dn<.3)throw new W;Fn=1}else if(Fn>8){if(dn>8.7)throw new W;Fn=8}let Ji=wt/2;(wt&1)==0?(E[Ji]=Fn,v[Ji]=dn-Fn):(S[Ji]=Fn,N[Ji]=dn-Fn)}this.adjustOddEvenCounts(c);let D=4*a.getValue()+(r?0:2)+(s?0:1)-1,k=0,z=0;for(let wt=E.length-1;wt>=0;wt--){if(re.isNotA1left(a,r,s)){let dn=re.WEIGHTS[D][2*wt];z+=E[wt]*dn}k+=E[wt]}let j=0;for(let wt=S.length-1;wt>=0;wt--)if(re.isNotA1left(a,r,s)){let dn=re.WEIGHTS[D][2*wt+1];j+=S[wt]*dn}let Q=z+j;if((k&1)!=0||k>13||k<4)throw new W;let ce=(13-k)/2,he=re.SYMBOL_WIDEST[ce],se=9-he,We=In.getRSSvalue(E,he,!0),ze=In.getRSSvalue(S,se,!1),bn=re.EVEN_TOTAL_SUBSET[ce],Vn=re.GSUM[ce],Tn=We*bn+ze+Vn;return new Xi(Tn,Q)}static isNotA1left(n,a,r){return!(n.getValue()==0&&a&&r)}adjustOddEvenCounts(n){let a=et.sum(new Int32Array(this.getOddCounts())),r=et.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;a>13?o=!0:a<4&&(s=!0);let c=!1,f=!1;r>13?f=!0:r<4&&(c=!0);let g=a+r-n,E=(a&1)==1,S=(r&1)==0;if(g==1)if(E){if(S)throw new W;o=!0}else{if(!S)throw new W;f=!0}else if(g==-1)if(E){if(S)throw new W;s=!0}else{if(!S)throw new W;c=!0}else if(g==0){if(E){if(!S)throw new W;a<r?(s=!0,f=!0):(o=!0,c=!0)}else if(S)throw new W}else throw new W;if(s){if(o)throw new W;re.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&re.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new W;re.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&re.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}re.SYMBOL_WIDEST=[7,5,4,3,1],re.EVEN_TOTAL_SUBSET=[4,20,52,104,204],re.GSUM=[0,348,1388,2948,3988],re.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],re.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],re.FINDER_PAT_A=0,re.FINDER_PAT_B=1,re.FINDER_PAT_C=2,re.FINDER_PAT_D=3,re.FINDER_PAT_E=4,re.FINDER_PAT_F=5,re.FINDER_PATTERN_SEQUENCES=[[re.FINDER_PAT_A,re.FINDER_PAT_A],[re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B],[re.FINDER_PAT_A,re.FINDER_PAT_C,re.FINDER_PAT_B,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_C],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F]],re.MAX_PAIRS=11;class qi extends Xi{constructor(n,a,r){super(n,a),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class pt extends fn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,a,r){const s=this.decodePair(a,!1,n,r);pt.addOrTally(this.possibleLeftPairs,s),a.reverse();let o=this.decodePair(a,!0,n,r);pt.addOrTally(this.possibleRightPairs,o),a.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&pt.checkChecksum(c,f))return pt.constructResult(c,f)}throw new W}static addOrTally(n,a){if(a==null)return;let r=!1;for(let s of n)if(s.getValue()===a.getValue()){s.incrementCount(),r=!0;break}r||n.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,a){let r=4537077*n.getValue()+a.getValue(),s=new String(r).toString(),o=new qe;for(let E=13-s.length;E>0;E--)o.append("0");o.append(s);let c=0;for(let E=0;E<13;E++){let S=o.charAt(E).charCodeAt(0)-48;c+=(E&1)===0?3*S:S}c=10-c%10,c===10&&(c=0),o.append(c.toString());let f=n.getFinderPattern().getResultPoints(),g=a.getFinderPattern().getResultPoints();return new pe(o.toString(),null,0,[f[0],f[1],g[0],g[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(n,a){let r=(n.getChecksumPortion()+16*a.getChecksumPortion())%79,s=9*n.getFinderPattern().getValue()+a.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(n,a,r,s){try{let o=this.findFinderPattern(n,a),c=this.parseFoundFinderPattern(n,r,a,o),f=s==null?null:s.get(ke.NEED_RESULT_POINT_CALLBACK);if(f!=null){let S=(o[0]+o[1])/2;a&&(S=n.getSize()-1-S),f.foundPossibleResultPoint(new be(S,r))}let g=this.decodeDataCharacter(n,c,!0),E=this.decodeDataCharacter(n,c,!1);return new qi(1597*g.getValue()+E.getValue(),g.getChecksumPortion()+4*E.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(n,a,r){let s=this.getDataCharacterCounters();for(let j=0;j<s.length;j++)s[j]=0;if(r)Dt.recordPatternInReverse(n,a.getStartEnd()[0],s);else{Dt.recordPattern(n,a.getStartEnd()[1]+1,s);for(let j=0,Q=s.length-1;j<Q;j++,Q--){let ce=s[j];s[j]=s[Q],s[Q]=ce}}let o=r?16:15,c=et.sum(new Int32Array(s))/o,f=this.getOddCounts(),g=this.getEvenCounts(),E=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let j=0;j<s.length;j++){let Q=s[j]/c,ce=Math.floor(Q+.5);ce<1?ce=1:ce>8&&(ce=8);let he=Math.floor(j/2);(j&1)===0?(f[he]=ce,E[he]=Q-ce):(g[he]=ce,S[he]=Q-ce)}this.adjustOddEvenCounts(r,o);let v=0,N=0;for(let j=f.length-1;j>=0;j--)N*=9,N+=f[j],v+=f[j];let D=0,k=0;for(let j=g.length-1;j>=0;j--)D*=9,D+=g[j],k+=g[j];let z=N+3*D;if(r){if((v&1)!==0||v>12||v<4)throw new W;let j=(12-v)/2,Q=pt.OUTSIDE_ODD_WIDEST[j],ce=9-Q,he=In.getRSSvalue(f,Q,!1),se=In.getRSSvalue(g,ce,!0),We=pt.OUTSIDE_EVEN_TOTAL_SUBSET[j],ze=pt.OUTSIDE_GSUM[j];return new Xi(he*We+se+ze,z)}else{if((k&1)!==0||k>10||k<4)throw new W;let j=(10-k)/2,Q=pt.INSIDE_ODD_WIDEST[j],ce=9-Q,he=In.getRSSvalue(f,Q,!0),se=In.getRSSvalue(g,ce,!1),We=pt.INSIDE_ODD_TOTAL_SUBSET[j],ze=pt.INSIDE_GSUM[j];return new Xi(se*We+he+ze,z)}}findFinderPattern(n,a){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=n.getSize(),o=!1,c=0;for(;c<s&&(o=!n.get(c),a!==o);)c++;let f=0,g=c;for(let E=c;E<s;E++)if(n.get(E)!==o)r[f]++;else{if(f===3){if(fn.isFinderPattern(r))return[g,E];g+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,f--}else f++;r[f]=1,o=!o}throw new W}parseFoundFinderPattern(n,a,r,s){let o=n.get(s[0]),c=s[0]-1;for(;c>=0&&o!==n.get(c);)c--;c++;const f=s[0]-c,g=this.getDecodeFinderCounters(),E=new Int32Array(g.length);le.arraycopy(g,0,E,1,g.length-1),E[0]=f;const S=this.parseFinderValue(E,pt.FINDER_PATTERNS);let v=c,N=s[1];return r&&(v=n.getSize()-1-v,N=n.getSize()-1-N),new pa(S,[c,s[1]],v,N,a)}adjustOddEvenCounts(n,a){let r=et.sum(new Int32Array(this.getOddCounts())),s=et.sum(new Int32Array(this.getEvenCounts())),o=!1,c=!1,f=!1,g=!1;n?(r>12?c=!0:r<4&&(o=!0),s>12?g=!0:s<4&&(f=!0)):(r>11?c=!0:r<5&&(o=!0),s>10?g=!0:s<4&&(f=!0));let E=r+s-a,S=(r&1)===(n?1:0),v=(s&1)===1;if(E===1)if(S){if(v)throw new W;c=!0}else{if(!v)throw new W;g=!0}else if(E===-1)if(S){if(v)throw new W;o=!0}else{if(!v)throw new W;f=!0}else if(E===0){if(S){if(!v)throw new W;r<s?(o=!0,g=!0):(c=!0,f=!0)}else if(v)throw new W}else throw new W;if(o){if(c)throw new W;fn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&fn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new W;fn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&fn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}pt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],pt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],pt.OUTSIDE_GSUM=[0,161,961,2015,2715],pt.INSIDE_GSUM=[0,336,1036,1516],pt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],pt.INSIDE_ODD_WIDEST=[2,4,6,8],pt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class On extends Dt{constructor(n,a){super(),this.readers=[],this.verbose=a===!0;const r=n?n.get(ke.POSSIBLE_FORMATS):null,s=n&&n.get(ke.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(Ae.EAN_13)||r.includes(Ae.UPC_A)||r.includes(Ae.EAN_8)||r.includes(Ae.UPC_E))&&this.readers.push(new Nl(n)),r.includes(Ae.CODE_39)&&this.readers.push(new Jt(s)),r.includes(Ae.CODE_128)&&this.readers.push(new xe),r.includes(Ae.ITF)&&this.readers.push(new it),r.includes(Ae.RSS_14)&&this.readers.push(new pt),r.includes(Ae.RSS_EXPANDED)&&this.readers.push(new re(this.verbose))):(this.readers.push(new Nl(n)),this.readers.push(new Jt),this.readers.push(new Nl(n)),this.readers.push(new xe),this.readers.push(new it),this.readers.push(new pt),this.readers.push(new re(this.verbose)))}decodeRow(n,a,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(n,a,r)}catch{}throw new W}reset(){this.readers.forEach(n=>n.reset())}}class Xo extends Me{constructor(n=500,a){super(new On(a),n,a)}}class ft{constructor(n,a,r){this.ecCodewords=n,this.ecBlocks=[a],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ut{constructor(n,a){this.count=n,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class tt{constructor(n,a,r,s,o,c){this.versionNumber=n,this.symbolSizeRows=a,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=c;let f=0;const g=c.getECCodewords(),E=c.getECBlocks();for(let S of E)f+=S.getCount()*(S.getDataCodewords()+g);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,a){if((n&1)!==0||(a&1)!==0)throw new fe;for(let r of tt.VERSIONS)if(r.symbolSizeRows===n&&r.symbolSizeColumns===a)return r;throw new fe}toString(){return""+this.versionNumber}static buildVersions(){return[new tt(1,10,10,8,8,new ft(5,new ut(1,3))),new tt(2,12,12,10,10,new ft(7,new ut(1,5))),new tt(3,14,14,12,12,new ft(10,new ut(1,8))),new tt(4,16,16,14,14,new ft(12,new ut(1,12))),new tt(5,18,18,16,16,new ft(14,new ut(1,18))),new tt(6,20,20,18,18,new ft(18,new ut(1,22))),new tt(7,22,22,20,20,new ft(20,new ut(1,30))),new tt(8,24,24,22,22,new ft(24,new ut(1,36))),new tt(9,26,26,24,24,new ft(28,new ut(1,44))),new tt(10,32,32,14,14,new ft(36,new ut(1,62))),new tt(11,36,36,16,16,new ft(42,new ut(1,86))),new tt(12,40,40,18,18,new ft(48,new ut(1,114))),new tt(13,44,44,20,20,new ft(56,new ut(1,144))),new tt(14,48,48,22,22,new ft(68,new ut(1,174))),new tt(15,52,52,24,24,new ft(42,new ut(2,102))),new tt(16,64,64,14,14,new ft(56,new ut(2,140))),new tt(17,72,72,16,16,new ft(36,new ut(4,92))),new tt(18,80,80,18,18,new ft(48,new ut(4,114))),new tt(19,88,88,20,20,new ft(56,new ut(4,144))),new tt(20,96,96,22,22,new ft(68,new ut(4,174))),new tt(21,104,104,24,24,new ft(56,new ut(6,136))),new tt(22,120,120,18,18,new ft(68,new ut(6,175))),new tt(23,132,132,20,20,new ft(62,new ut(8,163))),new tt(24,144,144,22,22,new ft(62,new ut(8,156),new ut(2,155))),new tt(25,8,18,6,16,new ft(7,new ut(1,5))),new tt(26,8,32,6,14,new ft(11,new ut(1,10))),new tt(27,12,26,10,24,new ft(14,new ut(1,16))),new tt(28,12,36,10,16,new ft(18,new ut(1,22))),new tt(29,16,36,14,16,new ft(24,new ut(1,32))),new tt(30,16,48,14,22,new ft(28,new ut(1,49)))]}}tt.VERSIONS=tt.buildVersions();class Ca{constructor(n){const a=n.getHeight();if(a<8||a>144||(a&1)!==0)throw new fe;this.version=Ca.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new bt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const a=n.getHeight(),r=n.getWidth();return tt.getVersionForDimensions(a,r)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let a=0,r=4,s=0;const o=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let f=!1,g=!1,E=!1,S=!1;do if(r===o&&s===0&&!f)n[a++]=this.readCorner1(o,c)&255,r-=2,s+=2,f=!0;else if(r===o-2&&s===0&&(c&3)!==0&&!g)n[a++]=this.readCorner2(o,c)&255,r-=2,s+=2,g=!0;else if(r===o+4&&s===2&&(c&7)===0&&!E)n[a++]=this.readCorner3(o,c)&255,r-=2,s+=2,E=!0;else if(r===o-2&&s===0&&(c&7)===4&&!S)n[a++]=this.readCorner4(o,c)&255,r-=2,s+=2,S=!0;else{do r<o&&s>=0&&!this.readMappingMatrix.get(s,r)&&(n[a++]=this.readUtah(r,s,o,c)&255),r-=2,s+=2;while(r>=0&&s<c);r+=1,s+=3;do r>=0&&s<c&&!this.readMappingMatrix.get(s,r)&&(n[a++]=this.readUtah(r,s,o,c)&255),r+=2,s-=2;while(r<o&&s>=0);r+=3,s+=1}while(r<o||s<c);if(a!==this.version.getTotalCodewords())throw new fe;return n}readModule(n,a,r,s){return n<0&&(n+=r,a+=4-(r+4&7)),a<0&&(a+=s,n+=4-(s+4&7)),this.readMappingMatrix.set(a,n),this.mappingBitMatrix.get(a,n)}readUtah(n,a,r,s){let o=0;return this.readModule(n-2,a-2,r,s)&&(o|=1),o<<=1,this.readModule(n-2,a-1,r,s)&&(o|=1),o<<=1,this.readModule(n-1,a-2,r,s)&&(o|=1),o<<=1,this.readModule(n-1,a-1,r,s)&&(o|=1),o<<=1,this.readModule(n-1,a,r,s)&&(o|=1),o<<=1,this.readModule(n,a-2,r,s)&&(o|=1),o<<=1,this.readModule(n,a-1,r,s)&&(o|=1),o<<=1,this.readModule(n,a,r,s)&&(o|=1),o}readCorner1(n,a){let r=0;return this.readModule(n-1,0,n,a)&&(r|=1),r<<=1,this.readModule(n-1,1,n,a)&&(r|=1),r<<=1,this.readModule(n-1,2,n,a)&&(r|=1),r<<=1,this.readModule(0,a-2,n,a)&&(r|=1),r<<=1,this.readModule(0,a-1,n,a)&&(r|=1),r<<=1,this.readModule(1,a-1,n,a)&&(r|=1),r<<=1,this.readModule(2,a-1,n,a)&&(r|=1),r<<=1,this.readModule(3,a-1,n,a)&&(r|=1),r}readCorner2(n,a){let r=0;return this.readModule(n-3,0,n,a)&&(r|=1),r<<=1,this.readModule(n-2,0,n,a)&&(r|=1),r<<=1,this.readModule(n-1,0,n,a)&&(r|=1),r<<=1,this.readModule(0,a-4,n,a)&&(r|=1),r<<=1,this.readModule(0,a-3,n,a)&&(r|=1),r<<=1,this.readModule(0,a-2,n,a)&&(r|=1),r<<=1,this.readModule(0,a-1,n,a)&&(r|=1),r<<=1,this.readModule(1,a-1,n,a)&&(r|=1),r}readCorner3(n,a){let r=0;return this.readModule(n-1,0,n,a)&&(r|=1),r<<=1,this.readModule(n-1,a-1,n,a)&&(r|=1),r<<=1,this.readModule(0,a-3,n,a)&&(r|=1),r<<=1,this.readModule(0,a-2,n,a)&&(r|=1),r<<=1,this.readModule(0,a-1,n,a)&&(r|=1),r<<=1,this.readModule(1,a-3,n,a)&&(r|=1),r<<=1,this.readModule(1,a-2,n,a)&&(r|=1),r<<=1,this.readModule(1,a-1,n,a)&&(r|=1),r}readCorner4(n,a){let r=0;return this.readModule(n-3,0,n,a)&&(r|=1),r<<=1,this.readModule(n-2,0,n,a)&&(r|=1),r<<=1,this.readModule(n-1,0,n,a)&&(r|=1),r<<=1,this.readModule(0,a-2,n,a)&&(r|=1),r<<=1,this.readModule(0,a-1,n,a)&&(r|=1),r<<=1,this.readModule(1,a-1,n,a)&&(r|=1),r<<=1,this.readModule(2,a-1,n,a)&&(r|=1),r<<=1,this.readModule(3,a-1,n,a)&&(r|=1),r}extractDataRegion(n){const a=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(n.getHeight()!==a)throw new U("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),c=a/s|0,f=r/o|0,g=c*s,E=f*o,S=new bt(E,g);for(let v=0;v<c;++v){const N=v*s;for(let D=0;D<f;++D){const k=D*o;for(let z=0;z<s;++z){const j=v*(s+2)+1+z,Q=N+z;for(let ce=0;ce<o;++ce){const he=D*(o+2)+1+ce;if(n.get(he,j)){const se=k+ce;S.set(se,Q)}}}}}return S}}class wa{constructor(n,a){this.numDataCodewords=n,this.codewords=a}static getDataBlocks(n,a){const r=a.getECBlocks();let s=0;const o=r.getECBlocks();for(let z of o)s+=z.getCount();const c=new Array(s);let f=0;for(let z of o)for(let j=0;j<z.getCount();j++){const Q=z.getDataCodewords(),ce=r.getECCodewords()+Q;c[f++]=new wa(Q,new Uint8Array(ce))}const E=c[0].codewords.length-r.getECCodewords(),S=E-1;let v=0;for(let z=0;z<S;z++)for(let j=0;j<f;j++)c[j].codewords[z]=n[v++];const N=a.getVersionNumber()===24,D=N?8:f;for(let z=0;z<D;z++)c[z].codewords[E-1]=n[v++];const k=c[0].codewords.length;for(let z=E;z<k;z++)for(let j=0;j<f;j++){const Q=N?(j+8)%f:j,ce=N&&Q>7?z-1:z;c[Q].codewords[ce]=n[v++]}if(v!==n.length)throw new U;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Qn{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new U(""+n);let a=0,r=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(r>0){const c=8-r,f=n<c?n:c,g=c-f,E=255>>8-f<<g;a=(o[s]&E)>>g,n-=f,r+=f,r===8&&(r=0,s++)}if(n>0){for(;n>=8;)a=a<<8|o[s]&255,s++,n-=8;if(n>0){const c=8-n,f=255>>c<<c;a=a<<n|(o[s]&f)>>c,r+=n}}return this.bitOffset=r,this.byteOffset=s,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ht;(function(T){T[T.PAD_ENCODE=0]="PAD_ENCODE",T[T.ASCII_ENCODE=1]="ASCII_ENCODE",T[T.C40_ENCODE=2]="C40_ENCODE",T[T.TEXT_ENCODE=3]="TEXT_ENCODE",T[T.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",T[T.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",T[T.BASE256_ENCODE=6]="BASE256_ENCODE"})(ht||(ht={}));class yi{static decode(n){const a=new Qn(n),r=new qe,s=new qe,o=new Array;let c=ht.ASCII_ENCODE;do if(c===ht.ASCII_ENCODE)c=this.decodeAsciiSegment(a,r,s);else{switch(c){case ht.C40_ENCODE:this.decodeC40Segment(a,r);break;case ht.TEXT_ENCODE:this.decodeTextSegment(a,r);break;case ht.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,r);break;case ht.EDIFACT_ENCODE:this.decodeEdifactSegment(a,r);break;case ht.BASE256_ENCODE:this.decodeBase256Segment(a,r,o);break;default:throw new fe}c=ht.ASCII_ENCODE}while(c!==ht.PAD_ENCODE&&a.available()>0);return s.length()>0&&r.append(s.toString()),new _t(n,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(n,a,r){let s=!1;do{let o=n.readBits(8);if(o===0)throw new fe;if(o<=128)return s&&(o+=128),a.append(String.fromCharCode(o-1)),ht.ASCII_ENCODE;if(o===129)return ht.PAD_ENCODE;if(o<=229){const c=o-130;c<10&&a.append("0"),a.append(""+c)}else switch(o){case 230:return ht.C40_ENCODE;case 231:return ht.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:a.append("[)>05"),r.insert(0,"");break;case 237:a.append("[)>06"),r.insert(0,"");break;case 238:return ht.ANSIX12_ENCODE;case 239:return ht.TEXT_ENCODE;case 240:return ht.EDIFACT_ENCODE;case 241:break;default:if(o!==254||n.available()!==0)throw new fe;break}}while(n.available()>0);return ht.ASCII_ENCODE}static decodeC40Segment(n,a){let r=!1;const s=[];let o=0;do{if(n.available()===8)return;const c=n.readBits(8);if(c===254)return;this.parseTwoBytes(c,n.readBits(8),s);for(let f=0;f<3;f++){const g=s[f];switch(o){case 0:if(g<3)o=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[g];r?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):a.append(E)}else throw new fe;break;case 1:r?(a.append(String.fromCharCode(g+128)),r=!1):a.append(String.fromCharCode(g)),o=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[g];r?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):a.append(E)}else switch(g){case 27:a.append("");break;case 30:r=!0;break;default:throw new fe}o=0;break;case 3:r?(a.append(String.fromCharCode(g+224)),r=!1):a.append(String.fromCharCode(g+96)),o=0;break;default:throw new fe}}}while(n.available()>0)}static decodeTextSegment(n,a){let r=!1,s=[],o=0;do{if(n.available()===8)return;const c=n.readBits(8);if(c===254)return;this.parseTwoBytes(c,n.readBits(8),s);for(let f=0;f<3;f++){const g=s[f];switch(o){case 0:if(g<3)o=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[g];r?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):a.append(E)}else throw new fe;break;case 1:r?(a.append(String.fromCharCode(g+128)),r=!1):a.append(String.fromCharCode(g)),o=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[g];r?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):a.append(E)}else switch(g){case 27:a.append("");break;case 30:r=!0;break;default:throw new fe}o=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[g];r?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):a.append(E),o=0}else throw new fe;break;default:throw new fe}}}while(n.available()>0)}static decodeAnsiX12Segment(n,a){const r=[];do{if(n.available()===8)return;const s=n.readBits(8);if(s===254)return;this.parseTwoBytes(s,n.readBits(8),r);for(let o=0;o<3;o++){const c=r[o];switch(c){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(c<14)a.append(String.fromCharCode(c+44));else if(c<40)a.append(String.fromCharCode(c+51));else throw new fe;break}}}while(n.available()>0)}static parseTwoBytes(n,a,r){let s=(n<<8)+a-1,o=Math.floor(s/1600);r[0]=o,s-=o*1600,o=Math.floor(s/40),r[1]=o,r[2]=s-o*40}static decodeEdifactSegment(n,a){do{if(n.available()<=16)return;for(let r=0;r<4;r++){let s=n.readBits(6);if(s===31){const o=8-n.getBitOffset();o!==8&&n.readBits(o);return}(s&32)===0&&(s|=64),a.append(String.fromCharCode(s))}}while(n.available()>0)}static decodeBase256Segment(n,a,r){let s=1+n.getByteOffset();const o=this.unrandomize255State(n.readBits(8),s++);let c;if(o===0?c=n.available()/8|0:o<250?c=o:c=250*(o-249)+this.unrandomize255State(n.readBits(8),s++),c<0)throw new fe;const f=new Uint8Array(c);for(let g=0;g<c;g++){if(n.available()<8)throw new fe;f[g]=this.unrandomize255State(n.readBits(8),s++)}r.push(f);try{a.append(mt.decode(f,Oe.ISO88591))}catch(g){throw new Ln("Platform does not support required encoding: "+g.message)}}static unrandomize255State(n,a){const r=149*a%255+1,s=n-r;return s>=0?s:s+256}}yi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],yi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],yi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],yi.TEXT_SHIFT2_SET_CHARS=yi.C40_SHIFT2_SET_CHARS,yi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Zo{constructor(){this.rsDecoder=new ai(Ze.DATA_MATRIX_FIELD_256)}decode(n){const a=new Ca(n),r=a.getVersion(),s=a.readCodewords(),o=wa.getDataBlocks(s,r);let c=0;for(let E of o)c+=E.getNumDataCodewords();const f=new Uint8Array(c),g=o.length;for(let E=0;E<g;E++){const S=o[E],v=S.getCodewords(),N=S.getNumDataCodewords();this.correctErrors(v,N);for(let D=0;D<N;D++)f[D*g+E]=v[D]}return yi.decode(f)}correctErrors(n,a){const r=new Int32Array(n);try{this.rsDecoder.decode(r,n.length-a)}catch{throw new ee}for(let s=0;s<a;s++)n[s]=r[s]}}class Rt{constructor(n){this.image=n,this.rectangleDetector=new an(this.image)}detect(){const n=this.rectangleDetector.detect();let a=this.detectSolid1(n);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new W;a=this.shiftToModuleCenter(a);const r=a[0],s=a[1],o=a[2],c=a[3];let f=this.transitionsBetween(r,c)+1,g=this.transitionsBetween(o,c)+1;(f&1)===1&&(f+=1),(g&1)===1&&(g+=1),4*f<7*g&&4*g<7*f&&(f=g=Math.max(f,g));let E=Rt.sampleGrid(this.image,r,s,o,c,f,g);return new Ur(E,[r,s,o,c])}static shiftPoint(n,a,r){let s=(a.getX()-n.getX())/(r+1),o=(a.getY()-n.getY())/(r+1);return new be(n.getX()+s,n.getY()+o)}static moveAway(n,a,r){let s=n.getX(),o=n.getY();return s<a?s-=1:s+=1,o<r?o-=1:o+=1,new be(s,o)}detectSolid1(n){let a=n[0],r=n[1],s=n[3],o=n[2],c=this.transitionsBetween(a,r),f=this.transitionsBetween(r,s),g=this.transitionsBetween(s,o),E=this.transitionsBetween(o,a),S=c,v=[o,a,r,s];return S>f&&(S=f,v[0]=a,v[1]=r,v[2]=s,v[3]=o),S>g&&(S=g,v[0]=r,v[1]=s,v[2]=o,v[3]=a),S>E&&(v[0]=s,v[1]=o,v[2]=a,v[3]=r),v}detectSolid2(n){let a=n[0],r=n[1],s=n[2],o=n[3],c=this.transitionsBetween(a,o),f=Rt.shiftPoint(r,s,(c+1)*4),g=Rt.shiftPoint(s,r,(c+1)*4),E=this.transitionsBetween(f,a),S=this.transitionsBetween(g,o);return E<S?(n[0]=a,n[1]=r,n[2]=s,n[3]=o):(n[0]=r,n[1]=s,n[2]=o,n[3]=a),n}correctTopRight(n){let a=n[0],r=n[1],s=n[2],o=n[3],c=this.transitionsBetween(a,o),f=this.transitionsBetween(r,o),g=Rt.shiftPoint(a,r,(f+1)*4),E=Rt.shiftPoint(s,r,(c+1)*4);c=this.transitionsBetween(g,o),f=this.transitionsBetween(E,o);let S=new be(o.getX()+(s.getX()-r.getX())/(c+1),o.getY()+(s.getY()-r.getY())/(c+1)),v=new be(o.getX()+(a.getX()-r.getX())/(f+1),o.getY()+(a.getY()-r.getY())/(f+1));if(!this.isValid(S))return this.isValid(v)?v:null;if(!this.isValid(v))return S;let N=this.transitionsBetween(g,S)+this.transitionsBetween(E,S),D=this.transitionsBetween(g,v)+this.transitionsBetween(E,v);return N>D?S:v}shiftToModuleCenter(n){let a=n[0],r=n[1],s=n[2],o=n[3],c=this.transitionsBetween(a,o)+1,f=this.transitionsBetween(s,o)+1,g=Rt.shiftPoint(a,r,f*4),E=Rt.shiftPoint(s,r,c*4);c=this.transitionsBetween(g,o)+1,f=this.transitionsBetween(E,o)+1,(c&1)===1&&(c+=1),(f&1)===1&&(f+=1);let S=(a.getX()+r.getX()+s.getX()+o.getX())/4,v=(a.getY()+r.getY()+s.getY()+o.getY())/4;a=Rt.moveAway(a,S,v),r=Rt.moveAway(r,S,v),s=Rt.moveAway(s,S,v),o=Rt.moveAway(o,S,v);let N,D;return g=Rt.shiftPoint(a,r,f*4),g=Rt.shiftPoint(g,o,c*4),N=Rt.shiftPoint(r,a,f*4),N=Rt.shiftPoint(N,s,c*4),E=Rt.shiftPoint(s,o,f*4),E=Rt.shiftPoint(E,r,c*4),D=Rt.shiftPoint(o,s,f*4),D=Rt.shiftPoint(D,a,c*4),[g,N,E,D]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,a,r,s,o,c,f){return Zn.getInstance().sampleGrid(n,c,f,.5,.5,c-.5,.5,c-.5,f-.5,.5,f-.5,a.getX(),a.getY(),o.getX(),o.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(n,a){let r=Math.trunc(n.getX()),s=Math.trunc(n.getY()),o=Math.trunc(a.getX()),c=Math.trunc(a.getY()),f=Math.abs(c-s)>Math.abs(o-r);if(f){let z=r;r=s,s=z,z=o,o=c,c=z}let g=Math.abs(o-r),E=Math.abs(c-s),S=-g/2,v=s<c?1:-1,N=r<o?1:-1,D=0,k=this.image.get(f?s:r,f?r:s);for(let z=r,j=s;z!==o;z+=N){let Q=this.image.get(f?j:z,f?z:j);if(Q!==k&&(D++,k=Q),S+=E,S>0){if(j===c)break;j+=v,S-=g}}return D}}class pi{constructor(){this.decoder=new Zo}decode(n,a=null){let r,s;if(a!=null&&a.has(ke.PURE_BARCODE)){const E=pi.extractPureBits(n.getBlackMatrix());r=this.decoder.decode(E),s=pi.NO_POINTS}else{const E=new Rt(n.getBlackMatrix()).detect();r=this.decoder.decode(E.getBits()),s=E.getPoints()}const o=r.getRawBytes(),c=new pe(r.getText(),o,8*o.length,s,Ae.DATA_MATRIX,le.currentTimeMillis()),f=r.getByteSegments();f!=null&&c.putMetadata(He.BYTE_SEGMENTS,f);const g=r.getECLevel();return g!=null&&c.putMetadata(He.ERROR_CORRECTION_LEVEL,g),c}reset(){}static extractPureBits(n){const a=n.getTopLeftOnBit(),r=n.getBottomRightOnBit();if(a==null||r==null)throw new W;const s=this.moduleSize(a,n);let o=a[1];const c=r[1];let f=a[0];const E=(r[0]-f+1)/s,S=(c-o+1)/s;if(E<=0||S<=0)throw new W;const v=s/2;o+=v,f+=v;const N=new bt(E,S);for(let D=0;D<S;D++){const k=o+D*s;for(let z=0;z<E;z++)n.get(f+z*s,k)&&N.set(z,D)}return N}static moduleSize(n,a){const r=a.getWidth();let s=n[0];const o=n[1];for(;s<r&&a.get(s,o);)s++;if(s===r)throw new W;const c=s-n[0];if(c===0)throw new W;return c}}pi.NO_POINTS=[];class Yr extends Me{constructor(n=500){super(new pi,n)}}var Sa;(function(T){T[T.L=0]="L",T[T.M=1]="M",T[T.Q=2]="Q",T[T.H=3]="H"})(Sa||(Sa={}));class Qe{constructor(n,a,r){this.value=n,this.stringValue=a,this.bits=r,Qe.FOR_BITS.set(r,this),Qe.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Qe.L;case"M":return Qe.M;case"Q":return Qe.Q;case"H":return Qe.H;default:throw new R(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Qe))return!1;const a=n;return this.value===a.value}static forBits(n){if(n<0||n>=Qe.FOR_BITS.size)throw new U;return Qe.FOR_BITS.get(n)}}Qe.FOR_BITS=new Map,Qe.FOR_VALUE=new Map,Qe.L=new Qe(Sa.L,"L",1),Qe.M=new Qe(Sa.M,"M",0),Qe.Q=new Qe(Sa.Q,"Q",3),Qe.H=new Qe(Sa.H,"H",2);class rn{constructor(n){this.errorCorrectionLevel=Qe.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,a){return ae.bitCount(n^a)}static decodeFormatInformation(n,a){const r=rn.doDecodeFormatInformation(n,a);return r!==null?r:rn.doDecodeFormatInformation(n^rn.FORMAT_INFO_MASK_QR,a^rn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,a){let r=Number.MAX_SAFE_INTEGER,s=0;for(const o of rn.FORMAT_INFO_DECODE_LOOKUP){const c=o[0];if(c===n||c===a)return new rn(o[1]);let f=rn.numBitsDiffering(n,c);f<r&&(s=o[1],r=f),n!==a&&(f=rn.numBitsDiffering(a,c),f<r&&(s=o[1],r=f))}return r<=3?new rn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof rn))return!1;const a=n;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}rn.FORMAT_INFO_MASK_QR=21522,rn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class G{constructor(n,...a){this.ecCodewordsPerBlock=n,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const a=this.ecBlocks;for(const r of a)n+=r.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(n,a){this.count=n,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ne{constructor(n,a,...r){this.versionNumber=n,this.alignmentPatternCenters=a,this.ecBlocks=r;let s=0;const o=r[0].getECCodewordsPerBlock(),c=r[0].getECBlocks();for(const f of c)s+=f.getCount()*(f.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new fe;try{return this.getVersionForNumber((n-17)/4)}catch{throw new fe}}static getVersionForNumber(n){if(n<1||n>40)throw new U;return Ne.VERSIONS[n-1]}static decodeVersionInformation(n){let a=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<Ne.VERSION_DECODE_INFO.length;s++){const o=Ne.VERSION_DECODE_INFO[s];if(o===n)return Ne.getVersionForNumber(s+7);const c=rn.numBitsDiffering(n,o);c<a&&(r=s+7,a=c)}return a<=3?Ne.getVersionForNumber(r):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),a=new bt(n);a.setRegion(0,0,9,9),a.setRegion(n-8,0,8,9),a.setRegion(0,n-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const o=this.alignmentPatternCenters[s]-2;for(let c=0;c<r;c++)s===0&&(c===0||c===r-1)||s===r-1&&c===0||a.setRegion(this.alignmentPatternCenters[c]-2,o,5,5)}return a.setRegion(6,9,1,n-17),a.setRegion(9,6,n-17,1),this.versionNumber>6&&(a.setRegion(n-11,0,3,6),a.setRegion(0,n-11,6,3)),a}toString(){return""+this.versionNumber}}Ne.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ne.VERSIONS=[new Ne(1,new Int32Array(0),new G(7,new _(1,19)),new G(10,new _(1,16)),new G(13,new _(1,13)),new G(17,new _(1,9))),new Ne(2,Int32Array.from([6,18]),new G(10,new _(1,34)),new G(16,new _(1,28)),new G(22,new _(1,22)),new G(28,new _(1,16))),new Ne(3,Int32Array.from([6,22]),new G(15,new _(1,55)),new G(26,new _(1,44)),new G(18,new _(2,17)),new G(22,new _(2,13))),new Ne(4,Int32Array.from([6,26]),new G(20,new _(1,80)),new G(18,new _(2,32)),new G(26,new _(2,24)),new G(16,new _(4,9))),new Ne(5,Int32Array.from([6,30]),new G(26,new _(1,108)),new G(24,new _(2,43)),new G(18,new _(2,15),new _(2,16)),new G(22,new _(2,11),new _(2,12))),new Ne(6,Int32Array.from([6,34]),new G(18,new _(2,68)),new G(16,new _(4,27)),new G(24,new _(4,19)),new G(28,new _(4,15))),new Ne(7,Int32Array.from([6,22,38]),new G(20,new _(2,78)),new G(18,new _(4,31)),new G(18,new _(2,14),new _(4,15)),new G(26,new _(4,13),new _(1,14))),new Ne(8,Int32Array.from([6,24,42]),new G(24,new _(2,97)),new G(22,new _(2,38),new _(2,39)),new G(22,new _(4,18),new _(2,19)),new G(26,new _(4,14),new _(2,15))),new Ne(9,Int32Array.from([6,26,46]),new G(30,new _(2,116)),new G(22,new _(3,36),new _(2,37)),new G(20,new _(4,16),new _(4,17)),new G(24,new _(4,12),new _(4,13))),new Ne(10,Int32Array.from([6,28,50]),new G(18,new _(2,68),new _(2,69)),new G(26,new _(4,43),new _(1,44)),new G(24,new _(6,19),new _(2,20)),new G(28,new _(6,15),new _(2,16))),new Ne(11,Int32Array.from([6,30,54]),new G(20,new _(4,81)),new G(30,new _(1,50),new _(4,51)),new G(28,new _(4,22),new _(4,23)),new G(24,new _(3,12),new _(8,13))),new Ne(12,Int32Array.from([6,32,58]),new G(24,new _(2,92),new _(2,93)),new G(22,new _(6,36),new _(2,37)),new G(26,new _(4,20),new _(6,21)),new G(28,new _(7,14),new _(4,15))),new Ne(13,Int32Array.from([6,34,62]),new G(26,new _(4,107)),new G(22,new _(8,37),new _(1,38)),new G(24,new _(8,20),new _(4,21)),new G(22,new _(12,11),new _(4,12))),new Ne(14,Int32Array.from([6,26,46,66]),new G(30,new _(3,115),new _(1,116)),new G(24,new _(4,40),new _(5,41)),new G(20,new _(11,16),new _(5,17)),new G(24,new _(11,12),new _(5,13))),new Ne(15,Int32Array.from([6,26,48,70]),new G(22,new _(5,87),new _(1,88)),new G(24,new _(5,41),new _(5,42)),new G(30,new _(5,24),new _(7,25)),new G(24,new _(11,12),new _(7,13))),new Ne(16,Int32Array.from([6,26,50,74]),new G(24,new _(5,98),new _(1,99)),new G(28,new _(7,45),new _(3,46)),new G(24,new _(15,19),new _(2,20)),new G(30,new _(3,15),new _(13,16))),new Ne(17,Int32Array.from([6,30,54,78]),new G(28,new _(1,107),new _(5,108)),new G(28,new _(10,46),new _(1,47)),new G(28,new _(1,22),new _(15,23)),new G(28,new _(2,14),new _(17,15))),new Ne(18,Int32Array.from([6,30,56,82]),new G(30,new _(5,120),new _(1,121)),new G(26,new _(9,43),new _(4,44)),new G(28,new _(17,22),new _(1,23)),new G(28,new _(2,14),new _(19,15))),new Ne(19,Int32Array.from([6,30,58,86]),new G(28,new _(3,113),new _(4,114)),new G(26,new _(3,44),new _(11,45)),new G(26,new _(17,21),new _(4,22)),new G(26,new _(9,13),new _(16,14))),new Ne(20,Int32Array.from([6,34,62,90]),new G(28,new _(3,107),new _(5,108)),new G(26,new _(3,41),new _(13,42)),new G(30,new _(15,24),new _(5,25)),new G(28,new _(15,15),new _(10,16))),new Ne(21,Int32Array.from([6,28,50,72,94]),new G(28,new _(4,116),new _(4,117)),new G(26,new _(17,42)),new G(28,new _(17,22),new _(6,23)),new G(30,new _(19,16),new _(6,17))),new Ne(22,Int32Array.from([6,26,50,74,98]),new G(28,new _(2,111),new _(7,112)),new G(28,new _(17,46)),new G(30,new _(7,24),new _(16,25)),new G(24,new _(34,13))),new Ne(23,Int32Array.from([6,30,54,78,102]),new G(30,new _(4,121),new _(5,122)),new G(28,new _(4,47),new _(14,48)),new G(30,new _(11,24),new _(14,25)),new G(30,new _(16,15),new _(14,16))),new Ne(24,Int32Array.from([6,28,54,80,106]),new G(30,new _(6,117),new _(4,118)),new G(28,new _(6,45),new _(14,46)),new G(30,new _(11,24),new _(16,25)),new G(30,new _(30,16),new _(2,17))),new Ne(25,Int32Array.from([6,32,58,84,110]),new G(26,new _(8,106),new _(4,107)),new G(28,new _(8,47),new _(13,48)),new G(30,new _(7,24),new _(22,25)),new G(30,new _(22,15),new _(13,16))),new Ne(26,Int32Array.from([6,30,58,86,114]),new G(28,new _(10,114),new _(2,115)),new G(28,new _(19,46),new _(4,47)),new G(28,new _(28,22),new _(6,23)),new G(30,new _(33,16),new _(4,17))),new Ne(27,Int32Array.from([6,34,62,90,118]),new G(30,new _(8,122),new _(4,123)),new G(28,new _(22,45),new _(3,46)),new G(30,new _(8,23),new _(26,24)),new G(30,new _(12,15),new _(28,16))),new Ne(28,Int32Array.from([6,26,50,74,98,122]),new G(30,new _(3,117),new _(10,118)),new G(28,new _(3,45),new _(23,46)),new G(30,new _(4,24),new _(31,25)),new G(30,new _(11,15),new _(31,16))),new Ne(29,Int32Array.from([6,30,54,78,102,126]),new G(30,new _(7,116),new _(7,117)),new G(28,new _(21,45),new _(7,46)),new G(30,new _(1,23),new _(37,24)),new G(30,new _(19,15),new _(26,16))),new Ne(30,Int32Array.from([6,26,52,78,104,130]),new G(30,new _(5,115),new _(10,116)),new G(28,new _(19,47),new _(10,48)),new G(30,new _(15,24),new _(25,25)),new G(30,new _(23,15),new _(25,16))),new Ne(31,Int32Array.from([6,30,56,82,108,134]),new G(30,new _(13,115),new _(3,116)),new G(28,new _(2,46),new _(29,47)),new G(30,new _(42,24),new _(1,25)),new G(30,new _(23,15),new _(28,16))),new Ne(32,Int32Array.from([6,34,60,86,112,138]),new G(30,new _(17,115)),new G(28,new _(10,46),new _(23,47)),new G(30,new _(10,24),new _(35,25)),new G(30,new _(19,15),new _(35,16))),new Ne(33,Int32Array.from([6,30,58,86,114,142]),new G(30,new _(17,115),new _(1,116)),new G(28,new _(14,46),new _(21,47)),new G(30,new _(29,24),new _(19,25)),new G(30,new _(11,15),new _(46,16))),new Ne(34,Int32Array.from([6,34,62,90,118,146]),new G(30,new _(13,115),new _(6,116)),new G(28,new _(14,46),new _(23,47)),new G(30,new _(44,24),new _(7,25)),new G(30,new _(59,16),new _(1,17))),new Ne(35,Int32Array.from([6,30,54,78,102,126,150]),new G(30,new _(12,121),new _(7,122)),new G(28,new _(12,47),new _(26,48)),new G(30,new _(39,24),new _(14,25)),new G(30,new _(22,15),new _(41,16))),new Ne(36,Int32Array.from([6,24,50,76,102,128,154]),new G(30,new _(6,121),new _(14,122)),new G(28,new _(6,47),new _(34,48)),new G(30,new _(46,24),new _(10,25)),new G(30,new _(2,15),new _(64,16))),new Ne(37,Int32Array.from([6,28,54,80,106,132,158]),new G(30,new _(17,122),new _(4,123)),new G(28,new _(29,46),new _(14,47)),new G(30,new _(49,24),new _(10,25)),new G(30,new _(24,15),new _(46,16))),new Ne(38,Int32Array.from([6,32,58,84,110,136,162]),new G(30,new _(4,122),new _(18,123)),new G(28,new _(13,46),new _(32,47)),new G(30,new _(48,24),new _(14,25)),new G(30,new _(42,15),new _(32,16))),new Ne(39,Int32Array.from([6,26,54,82,110,138,166]),new G(30,new _(20,117),new _(4,118)),new G(28,new _(40,47),new _(7,48)),new G(30,new _(43,24),new _(22,25)),new G(30,new _(10,15),new _(67,16))),new Ne(40,Int32Array.from([6,30,58,86,114,142,170]),new G(30,new _(19,118),new _(6,119)),new G(28,new _(18,47),new _(31,48)),new G(30,new _(34,24),new _(34,25)),new G(30,new _(20,15),new _(61,16)))];var en;(function(T){T[T.DATA_MASK_000=0]="DATA_MASK_000",T[T.DATA_MASK_001=1]="DATA_MASK_001",T[T.DATA_MASK_010=2]="DATA_MASK_010",T[T.DATA_MASK_011=3]="DATA_MASK_011",T[T.DATA_MASK_100=4]="DATA_MASK_100",T[T.DATA_MASK_101=5]="DATA_MASK_101",T[T.DATA_MASK_110=6]="DATA_MASK_110",T[T.DATA_MASK_111=7]="DATA_MASK_111"})(en||(en={}));class Un{constructor(n,a){this.value=n,this.isMasked=a}unmaskBitMatrix(n,a){for(let r=0;r<a;r++)for(let s=0;s<a;s++)this.isMasked(r,s)&&n.flip(s,r)}}Un.values=new Map([[en.DATA_MASK_000,new Un(en.DATA_MASK_000,(T,n)=>(T+n&1)===0)],[en.DATA_MASK_001,new Un(en.DATA_MASK_001,(T,n)=>(T&1)===0)],[en.DATA_MASK_010,new Un(en.DATA_MASK_010,(T,n)=>n%3===0)],[en.DATA_MASK_011,new Un(en.DATA_MASK_011,(T,n)=>(T+n)%3===0)],[en.DATA_MASK_100,new Un(en.DATA_MASK_100,(T,n)=>(Math.floor(T/2)+Math.floor(n/3)&1)===0)],[en.DATA_MASK_101,new Un(en.DATA_MASK_101,(T,n)=>T*n%6===0)],[en.DATA_MASK_110,new Un(en.DATA_MASK_110,(T,n)=>T*n%6<3)],[en.DATA_MASK_111,new Un(en.DATA_MASK_111,(T,n)=>(T+n+T*n%3&1)===0)]]);class ba{constructor(n){const a=n.getHeight();if(a<21||(a&3)!==1)throw new fe;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let o=0;o<6;o++)n=this.copyBit(o,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let o=5;o>=0;o--)n=this.copyBit(8,o,n);const a=this.bitMatrix.getHeight();let r=0;const s=a-7;for(let o=a-1;o>=s;o--)r=this.copyBit(8,o,r);for(let o=a-8;o<a;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=rn.decodeFormatInformation(n,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new fe}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),a=Math.floor((n-17)/4);if(a<=6)return Ne.getVersionForNumber(a);let r=0;const s=n-11;for(let c=5;c>=0;c--)for(let f=n-9;f>=s;f--)r=this.copyBit(f,c,r);let o=Ne.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===n)return this.parsedVersion=o,o;r=0;for(let c=5;c>=0;c--)for(let f=n-9;f>=s;f--)r=this.copyBit(c,f,r);if(o=Ne.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===n)return this.parsedVersion=o,o;throw new fe}copyBit(n,a,r){return(this.isMirror?this.bitMatrix.get(a,n):this.bitMatrix.get(n,a))?r<<1|1:r<<1}readCodewords(){const n=this.readFormatInformation(),a=this.readVersion(),r=Un.values.get(n.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const o=a.buildFunctionPattern();let c=!0;const f=new Uint8Array(a.getTotalCodewords());let g=0,E=0,S=0;for(let v=s-1;v>0;v-=2){v===6&&v--;for(let N=0;N<s;N++){const D=c?s-1-N:N;for(let k=0;k<2;k++)o.get(v-k,D)||(S++,E<<=1,this.bitMatrix.get(v-k,D)&&(E|=1),S===8&&(f[g++]=E,S=0,E=0))}c=!c}if(g!==a.getTotalCodewords())throw new fe;return f}remask(){if(this.parsedFormatInfo===null)return;const n=Un.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let a=0,r=n.getWidth();a<r;a++)for(let s=a+1,o=n.getHeight();s<o;s++)n.get(a,s)!==n.get(s,a)&&(n.flip(s,a),n.flip(a,s))}}class Il{constructor(n,a){this.numDataCodewords=n,this.codewords=a}static getDataBlocks(n,a,r){if(n.length!==a.getTotalCodewords())throw new U;const s=a.getECBlocksForLevel(r);let o=0;const c=s.getECBlocks();for(const k of c)o+=k.getCount();const f=new Array(o);let g=0;for(const k of c)for(let z=0;z<k.getCount();z++){const j=k.getDataCodewords(),Q=s.getECCodewordsPerBlock()+j;f[g++]=new Il(j,new Uint8Array(Q))}const E=f[0].codewords.length;let S=f.length-1;for(;S>=0&&f[S].codewords.length!==E;)S--;S++;const v=E-s.getECCodewordsPerBlock();let N=0;for(let k=0;k<v;k++)for(let z=0;z<g;z++)f[z].codewords[k]=n[N++];for(let k=S;k<g;k++)f[k].codewords[v]=n[N++];const D=f[0].codewords.length;for(let k=v;k<D;k++)for(let z=0;z<g;z++){const j=z<S?k:k+1;f[z].codewords[j]=n[N++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var kn;(function(T){T[T.TERMINATOR=0]="TERMINATOR",T[T.NUMERIC=1]="NUMERIC",T[T.ALPHANUMERIC=2]="ALPHANUMERIC",T[T.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",T[T.BYTE=4]="BYTE",T[T.ECI=5]="ECI",T[T.KANJI=6]="KANJI",T[T.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",T[T.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",T[T.HANZI=9]="HANZI"})(kn||(kn={}));class _e{constructor(n,a,r,s){this.value=n,this.stringValue=a,this.characterCountBitsForVersions=r,this.bits=s,_e.FOR_BITS.set(s,this),_e.FOR_VALUE.set(n,this)}static forBits(n){const a=_e.FOR_BITS.get(n);if(a===void 0)throw new U;return a}getCharacterCountBits(n){const a=n.getVersionNumber();let r;return a<=9?r=0:a<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof _e))return!1;const a=n;return this.value===a.value}toString(){return this.stringValue}}_e.FOR_BITS=new Map,_e.FOR_VALUE=new Map,_e.TERMINATOR=new _e(kn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),_e.NUMERIC=new _e(kn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),_e.ALPHANUMERIC=new _e(kn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),_e.STRUCTURED_APPEND=new _e(kn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),_e.BYTE=new _e(kn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),_e.ECI=new _e(kn.ECI,"ECI",Int32Array.from([0,0,0]),7),_e.KANJI=new _e(kn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),_e.FNC1_FIRST_POSITION=new _e(kn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),_e.FNC1_SECOND_POSITION=new _e(kn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),_e.HANZI=new _e(kn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Mt{static decode(n,a,r,s){const o=new Qn(n);let c=new qe;const f=new Array;let g=-1,E=-1;try{let S=null,v=!1,N;do{if(o.available()<4)N=_e.TERMINATOR;else{const D=o.readBits(4);N=_e.forBits(D)}switch(N){case _e.TERMINATOR:break;case _e.FNC1_FIRST_POSITION:case _e.FNC1_SECOND_POSITION:v=!0;break;case _e.STRUCTURED_APPEND:if(o.available()<16)throw new fe;g=o.readBits(8),E=o.readBits(8);break;case _e.ECI:const D=Mt.parseECIValue(o);if(S=X.getCharacterSetECIByValue(D),S===null)throw new fe;break;case _e.HANZI:const k=o.readBits(4),z=o.readBits(N.getCharacterCountBits(a));k===Mt.GB2312_SUBSET&&Mt.decodeHanziSegment(o,c,z);break;default:const j=o.readBits(N.getCharacterCountBits(a));switch(N){case _e.NUMERIC:Mt.decodeNumericSegment(o,c,j);break;case _e.ALPHANUMERIC:Mt.decodeAlphanumericSegment(o,c,j,v);break;case _e.BYTE:Mt.decodeByteSegment(o,c,j,S,f,s);break;case _e.KANJI:Mt.decodeKanjiSegment(o,c,j);break;default:throw new fe}break}}while(N!==_e.TERMINATOR)}catch{throw new fe}return new _t(n,c.toString(),f.length===0?null:f,r===null?null:r.toString(),g,E)}static decodeHanziSegment(n,a,r){if(r*13>n.available())throw new fe;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const c=n.readBits(13);let f=c/96<<8&4294967295|c%96;f<959?f+=41377:f+=42657,s[o]=f>>8&255,s[o+1]=f&255,o+=2,r--}try{a.append(mt.decode(s,Oe.GB2312))}catch(c){throw new fe(c)}}static decodeKanjiSegment(n,a,r){if(r*13>n.available())throw new fe;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const c=n.readBits(13);let f=c/192<<8&4294967295|c%192;f<7936?f+=33088:f+=49472,s[o]=f>>8,s[o+1]=f,o+=2,r--}try{a.append(mt.decode(s,Oe.SHIFT_JIS))}catch(c){throw new fe(c)}}static decodeByteSegment(n,a,r,s,o,c){if(8*r>n.available())throw new fe;const f=new Uint8Array(r);for(let E=0;E<r;E++)f[E]=n.readBits(8);let g;s===null?g=Oe.guessEncoding(f,c):g=s.getName();try{a.append(mt.decode(f,g))}catch(E){throw new fe(E)}o.push(f)}static toAlphaNumericChar(n){if(n>=Mt.ALPHANUMERIC_CHARS.length)throw new fe;return Mt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,a,r,s){const o=a.length();for(;r>1;){if(n.available()<11)throw new fe;const c=n.readBits(11);a.append(Mt.toAlphaNumericChar(Math.floor(c/45))),a.append(Mt.toAlphaNumericChar(c%45)),r-=2}if(r===1){if(n.available()<6)throw new fe;a.append(Mt.toAlphaNumericChar(n.readBits(6)))}if(s)for(let c=o;c<a.length();c++)a.charAt(c)==="%"&&(c<a.length()-1&&a.charAt(c+1)==="%"?a.deleteCharAt(c+1):a.setCharAt(c,""))}static decodeNumericSegment(n,a,r){for(;r>=3;){if(n.available()<10)throw new fe;const s=n.readBits(10);if(s>=1e3)throw new fe;a.append(Mt.toAlphaNumericChar(Math.floor(s/100))),a.append(Mt.toAlphaNumericChar(Math.floor(s/10)%10)),a.append(Mt.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(n.available()<7)throw new fe;const s=n.readBits(7);if(s>=100)throw new fe;a.append(Mt.toAlphaNumericChar(Math.floor(s/10))),a.append(Mt.toAlphaNumericChar(s%10))}else if(r===1){if(n.available()<4)throw new fe;const s=n.readBits(4);if(s>=10)throw new fe;a.append(Mt.toAlphaNumericChar(s))}}static parseECIValue(n){const a=n.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const r=n.readBits(8);return(a&63)<<8&4294967295|r}if((a&224)===192){const r=n.readBits(16);return(a&31)<<16&4294967295|r}throw new fe}}Mt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Mt.GB2312_SUBSET=1;class Os{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const a=n[0];n[0]=n[2],n[2]=a}}class qo{constructor(){this.rsDecoder=new ai(Ze.QR_CODE_FIELD_256)}decodeBooleanArray(n,a){return this.decodeBitMatrix(bt.parseFromBooleanArray(n),a)}decodeBitMatrix(n,a){const r=new ba(n);let s=null;try{return this.decodeBitMatrixParser(r,a)}catch(o){s=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,a);return o.setOther(new Os(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(n,a){const r=n.readVersion(),s=n.readFormatInformation().getErrorCorrectionLevel(),o=n.readCodewords(),c=Il.getDataBlocks(o,r,s);let f=0;for(const S of c)f+=S.getNumDataCodewords();const g=new Uint8Array(f);let E=0;for(const S of c){const v=S.getCodewords(),N=S.getNumDataCodewords();this.correctErrors(v,N);for(let D=0;D<N;D++)g[E++]=v[D]}return Mt.decode(g,r,s,a)}correctErrors(n,a){const r=new Int32Array(n);try{this.rsDecoder.decode(r,n.length-a)}catch{throw new ee}for(let s=0;s<a;s++)n[s]=r[s]}}class Ta extends be{constructor(n,a,r){super(n,a),this.estimatedModuleSize=r}aboutEquals(n,a,r){if(Math.abs(a-this.getY())<=n&&Math.abs(r-this.getX())<=n){const s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(n,a,r){const s=(this.getX()+a)/2,o=(this.getY()+n)/2,c=(this.estimatedModuleSize+r)/2;return new Ta(s,o,c)}}class va{constructor(n,a,r,s,o,c,f){this.image=n,this.startX=a,this.startY=r,this.width=s,this.height=o,this.moduleSize=c,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,a=this.height,r=this.width,s=n+r,o=this.startY+a/2,c=new Int32Array(3),f=this.image;for(let g=0;g<a;g++){const E=o+((g&1)===0?Math.floor((g+1)/2):-Math.floor((g+1)/2));c[0]=0,c[1]=0,c[2]=0;let S=n;for(;S<s&&!f.get(S,E);)S++;let v=0;for(;S<s;){if(f.get(S,E))if(v===1)c[1]++;else if(v===2){if(this.foundPatternCross(c)){const N=this.handlePossibleCenter(c,E,S);if(N!==null)return N}c[0]=c[2],c[1]=1,c[2]=0,v=1}else c[++v]++;else v===1&&v++,c[v]++;S++}if(this.foundPatternCross(c)){const N=this.handlePossibleCenter(c,E,s);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(n,a){return a-n[2]-n[1]/2}foundPatternCross(n){const a=this.moduleSize,r=a/2;for(let s=0;s<3;s++)if(Math.abs(a-n[s])>=r)return!1;return!0}crossCheckVertical(n,a,r,s){const o=this.image,c=o.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let g=n;for(;g>=0&&o.get(a,g)&&f[1]<=r;)f[1]++,g--;if(g<0||f[1]>r)return NaN;for(;g>=0&&!o.get(a,g)&&f[0]<=r;)f[0]++,g--;if(f[0]>r)return NaN;for(g=n+1;g<c&&o.get(a,g)&&f[1]<=r;)f[1]++,g++;if(g===c||f[1]>r)return NaN;for(;g<c&&!o.get(a,g)&&f[2]<=r;)f[2]++,g++;if(f[2]>r)return NaN;const E=f[0]+f[1]+f[2];return 5*Math.abs(E-s)>=2*s?NaN:this.foundPatternCross(f)?va.centerFromEnd(f,g):NaN}handlePossibleCenter(n,a,r){const s=n[0]+n[1]+n[2],o=va.centerFromEnd(n,r),c=this.crossCheckVertical(a,o,2*n[1],s);if(!isNaN(c)){const f=(n[0]+n[1]+n[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(f,c,o))return E.combineEstimate(c,o,f);const g=new Ta(o,c,f);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class ur extends be{constructor(n,a,r,s){super(n,a),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,a,r){if(Math.abs(a-this.getY())<=n&&Math.abs(r-this.getX())<=n){const s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(n,a,r){const s=this.count+1,o=(this.count*this.getX()+a)/s,c=(this.count*this.getY()+n)/s,f=(this.count*this.estimatedModuleSize+r)/s;return new ur(o,c,f,s)}}class Na{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class kt{constructor(n,a){this.image=n,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const a=n!=null&&n.get(ke.TRY_HARDER)!==void 0,r=n!=null&&n.get(ke.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),c=s.getWidth();let f=Math.floor(3*o/(4*kt.MAX_MODULES));(f<kt.MIN_SKIP||a)&&(f=kt.MIN_SKIP);let g=!1;const E=new Int32Array(5);for(let v=f-1;v<o&&!g;v+=f){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let N=0;for(let D=0;D<c;D++)if(s.get(D,v))(N&1)===1&&N++,E[N]++;else if((N&1)===0)if(N===4)if(kt.foundPatternCross(E)){if(this.handlePossibleCenter(E,v,D,r)===!0)if(f=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const z=this.findRowSkip();z>E[2]&&(v+=z-E[2]-f,D=c-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,N=3;continue}N=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,N=3;else E[++N]++;else E[N]++;kt.foundPatternCross(E)&&this.handlePossibleCenter(E,v,c,r)===!0&&(f=E[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return be.orderBestPatterns(S),new Na(S)}static centerFromEnd(n,a){return a-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let a=0;for(let o=0;o<5;o++){const c=n[o];if(c===0)return!1;a+=c}if(a<7)return!1;const r=a/7,s=r/2;return Math.abs(r-n[0])<s&&Math.abs(r-n[1])<s&&Math.abs(3*r-n[2])<3*s&&Math.abs(r-n[3])<s&&Math.abs(r-n[4])<s}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,a,r,s){const o=this.getCrossCheckStateCount();let c=0;const f=this.image;for(;n>=c&&a>=c&&f.get(a-c,n-c);)o[2]++,c++;if(n<c||a<c)return!1;for(;n>=c&&a>=c&&!f.get(a-c,n-c)&&o[1]<=r;)o[1]++,c++;if(n<c||a<c||o[1]>r)return!1;for(;n>=c&&a>=c&&f.get(a-c,n-c)&&o[0]<=r;)o[0]++,c++;if(o[0]>r)return!1;const g=f.getHeight(),E=f.getWidth();for(c=1;n+c<g&&a+c<E&&f.get(a+c,n+c);)o[2]++,c++;if(n+c>=g||a+c>=E)return!1;for(;n+c<g&&a+c<E&&!f.get(a+c,n+c)&&o[3]<r;)o[3]++,c++;if(n+c>=g||a+c>=E||o[3]>=r)return!1;for(;n+c<g&&a+c<E&&f.get(a+c,n+c)&&o[4]<r;)o[4]++,c++;if(o[4]>=r)return!1;const S=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(S-s)<2*s&&kt.foundPatternCross(o)}crossCheckVertical(n,a,r,s){const o=this.image,c=o.getHeight(),f=this.getCrossCheckStateCount();let g=n;for(;g>=0&&o.get(a,g);)f[2]++,g--;if(g<0)return NaN;for(;g>=0&&!o.get(a,g)&&f[1]<=r;)f[1]++,g--;if(g<0||f[1]>r)return NaN;for(;g>=0&&o.get(a,g)&&f[0]<=r;)f[0]++,g--;if(f[0]>r)return NaN;for(g=n+1;g<c&&o.get(a,g);)f[2]++,g++;if(g===c)return NaN;for(;g<c&&!o.get(a,g)&&f[3]<r;)f[3]++,g++;if(g===c||f[3]>=r)return NaN;for(;g<c&&o.get(a,g)&&f[4]<r;)f[4]++,g++;if(f[4]>=r)return NaN;const E=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(E-s)>=2*s?NaN:kt.foundPatternCross(f)?kt.centerFromEnd(f,g):NaN}crossCheckHorizontal(n,a,r,s){const o=this.image,c=o.getWidth(),f=this.getCrossCheckStateCount();let g=n;for(;g>=0&&o.get(g,a);)f[2]++,g--;if(g<0)return NaN;for(;g>=0&&!o.get(g,a)&&f[1]<=r;)f[1]++,g--;if(g<0||f[1]>r)return NaN;for(;g>=0&&o.get(g,a)&&f[0]<=r;)f[0]++,g--;if(f[0]>r)return NaN;for(g=n+1;g<c&&o.get(g,a);)f[2]++,g++;if(g===c)return NaN;for(;g<c&&!o.get(g,a)&&f[3]<r;)f[3]++,g++;if(g===c||f[3]>=r)return NaN;for(;g<c&&o.get(g,a)&&f[4]<r;)f[4]++,g++;if(f[4]>=r)return NaN;const E=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(E-s)>=s?NaN:kt.foundPatternCross(f)?kt.centerFromEnd(f,g):NaN}handlePossibleCenter(n,a,r,s){const o=n[0]+n[1]+n[2]+n[3]+n[4];let c=kt.centerFromEnd(n,r),f=this.crossCheckVertical(a,Math.floor(c),n[2],o);if(!isNaN(f)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(f),n[2],o),!isNaN(c)&&(!s||this.crossCheckDiagonal(Math.floor(f),Math.floor(c),n[2],o)))){const g=o/7;let E=!1;const S=this.possibleCenters;for(let v=0,N=S.length;v<N;v++){const D=S[v];if(D.aboutEquals(g,f,c)){S[v]=D.combineEstimate(f,c,g),E=!0;break}}if(!E){const v=new ur(c,f,g);S.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const r of this.possibleCenters)if(r.getCount()>=kt.CENTER_QUORUM)if(a==null)a=r;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-r.getX())-Math.abs(a.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,a=0;const r=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=kt.CENTER_QUORUM&&(n++,a+=c.getEstimatedModuleSize());if(n<3)return!1;const s=a/r;let o=0;for(const c of this.possibleCenters)o+=Math.abs(c.getEstimatedModuleSize()-s);return o<=.05*a}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new W;const a=this.possibleCenters;let r;if(n>3){let s=0,o=0;for(const g of this.possibleCenters){const E=g.getEstimatedModuleSize();s+=E,o+=E*E}r=s/n;let c=Math.sqrt(o/n-r*r);a.sort((g,E)=>{const S=Math.abs(E.getEstimatedModuleSize()-r),v=Math.abs(g.getEstimatedModuleSize()-r);return S<v?-1:S>v?1:0});const f=Math.max(.2*r,c);for(let g=0;g<a.length&&a.length>3;g++){const E=a[g];Math.abs(E.getEstimatedModuleSize()-r)>f&&(a.splice(g,1),g--)}}if(a.length>3){let s=0;for(const o of a)s+=o.getEstimatedModuleSize();r=s/a.length,a.sort((o,c)=>{if(c.getCount()===o.getCount()){const f=Math.abs(c.getEstimatedModuleSize()-r),g=Math.abs(o.getEstimatedModuleSize()-r);return f<g?1:f>g?-1:0}else return c.getCount()-o.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}kt.CENTER_QUORUM=2,kt.MIN_SKIP=3,kt.MAX_MODULES=57;class Ma{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(ke.NEED_RESULT_POINT_CALLBACK);const r=new kt(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(r)}processFinderPatternInfo(n){const a=n.getTopLeft(),r=n.getTopRight(),s=n.getBottomLeft(),o=this.calculateModuleSize(a,r,s);if(o<1)throw new W("No pattern found in proccess finder.");const c=Ma.computeDimension(a,r,s,o),f=Ne.getProvisionalVersionForDimension(c),g=f.getDimensionForVersion()-7;let E=null;if(f.getAlignmentPatternCenters().length>0){const D=r.getX()-a.getX()+s.getX(),k=r.getY()-a.getY()+s.getY(),z=1-3/g,j=Math.floor(a.getX()+z*(D-a.getX())),Q=Math.floor(a.getY()+z*(k-a.getY()));for(let ce=4;ce<=16;ce<<=1)try{E=this.findAlignmentInRegion(o,j,Q,ce);break}catch(he){if(!(he instanceof W))throw he}}const S=Ma.createTransform(a,r,s,E,c),v=Ma.sampleGrid(this.image,S,c);let N;return E===null?N=[s,a,r]:N=[s,a,r,E],new Ur(v,N)}static createTransform(n,a,r,s,o){const c=o-3.5;let f,g,E,S;return s!==null?(f=s.getX(),g=s.getY(),E=c-3,S=E):(f=a.getX()-n.getX()+r.getX(),g=a.getY()-n.getY()+r.getY(),E=c,S=c),Yn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,E,S,3.5,c,n.getX(),n.getY(),a.getX(),a.getY(),f,g,r.getX(),r.getY())}static sampleGrid(n,a,r){return Zn.getInstance().sampleGridWithTransform(n,r,r,a)}static computeDimension(n,a,r,s){const o=et.round(be.distance(n,a)/s),c=et.round(be.distance(n,r)/s);let f=Math.floor((o+c)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new W("Dimensions could be not found.")}return f}calculateModuleSize(n,a,r){return(this.calculateModuleSizeOneWay(n,a)+this.calculateModuleSizeOneWay(n,r))/2}calculateModuleSizeOneWay(n,a){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(a.getX()),Math.floor(a.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(n,a,r,s){let o=this.sizeOfBlackWhiteBlackRun(n,a,r,s),c=1,f=n-(r-n);f<0?(c=n/(n-f),f=0):f>=this.image.getWidth()&&(c=(this.image.getWidth()-1-n)/(f-n),f=this.image.getWidth()-1);let g=Math.floor(a-(s-a)*c);return c=1,g<0?(c=a/(a-g),g=0):g>=this.image.getHeight()&&(c=(this.image.getHeight()-1-a)/(g-a),g=this.image.getHeight()-1),f=Math.floor(n+(f-n)*c),o+=this.sizeOfBlackWhiteBlackRun(n,a,f,g),o-1}sizeOfBlackWhiteBlackRun(n,a,r,s){const o=Math.abs(s-a)>Math.abs(r-n);if(o){let D=n;n=a,a=D,D=r,r=s,s=D}const c=Math.abs(r-n),f=Math.abs(s-a);let g=-c/2;const E=n<r?1:-1,S=a<s?1:-1;let v=0;const N=r+E;for(let D=n,k=a;D!==N;D+=E){const z=o?k:D,j=o?D:k;if(v===1===this.image.get(z,j)){if(v===2)return et.distance(D,k,n,a);v++}if(g+=f,g>0){if(k===s)break;k+=S,g-=c}}return v===2?et.distance(r+E,s,n,a):NaN}findAlignmentInRegion(n,a,r,s){const o=Math.floor(s*n),c=Math.max(0,a-o),f=Math.min(this.image.getWidth()-1,a+o);if(f-c<n*3)throw new W("Alignment top exceeds estimated module size.");const g=Math.max(0,r-o),E=Math.min(this.image.getHeight()-1,r+o);if(E-g<n*3)throw new W("Alignment bottom exceeds estimated module size.");return new va(this.image,c,g,f-c,E-g,n,this.resultPointCallback).find()}}class li{constructor(){this.decoder=new qo}getDecoder(){return this.decoder}decode(n,a){let r,s;if(a!=null&&a.get(ke.PURE_BARCODE)!==void 0){const g=li.extractPureBits(n.getBlackMatrix());r=this.decoder.decodeBitMatrix(g,a),s=li.NO_POINTS}else{const g=new Ma(n.getBlackMatrix()).detect(a);r=this.decoder.decodeBitMatrix(g.getBits(),a),s=g.getPoints()}r.getOther()instanceof Os&&r.getOther().applyMirroredCorrection(s);const o=new pe(r.getText(),r.getRawBytes(),void 0,s,Ae.QR_CODE,void 0),c=r.getByteSegments();c!==null&&o.putMetadata(He.BYTE_SEGMENTS,c);const f=r.getECLevel();return f!==null&&o.putMetadata(He.ERROR_CORRECTION_LEVEL,f),r.hasStructuredAppend()&&(o.putMetadata(He.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(He.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(n){const a=n.getTopLeftOnBit(),r=n.getBottomRightOnBit();if(a===null||r===null)throw new W;const s=this.moduleSize(a,n);let o=a[1],c=r[1],f=a[0],g=r[0];if(f>=g||o>=c)throw new W;if(c-o!==g-f&&(g=f+(c-o),g>=n.getWidth()))throw new W;const E=Math.round((g-f+1)/s),S=Math.round((c-o+1)/s);if(E<=0||S<=0)throw new W;if(S!==E)throw new W;const v=Math.floor(s/2);o+=v,f+=v;const N=f+Math.floor((E-1)*s)-g;if(N>0){if(N>v)throw new W;f-=N}const D=o+Math.floor((S-1)*s)-c;if(D>0){if(D>v)throw new W;o-=D}const k=new bt(E,S);for(let z=0;z<S;z++){const j=o+Math.floor(z*s);for(let Q=0;Q<E;Q++)n.get(f+Math.floor(Q*s),j)&&k.set(Q,z)}return k}static moduleSize(n,a){const r=a.getHeight(),s=a.getWidth();let o=n[0],c=n[1],f=!0,g=0;for(;o<s&&c<r;){if(f!==a.get(o,c)){if(++g===5)break;f=!f}o++,c++}if(o===s||c===r)throw new W;return(o-n[0])/7}}li.NO_POINTS=new Array;class Ue{PDF417Common(){}static getBitCountSum(n){return et.sum(n)}static toIntArray(n){if(n==null||!n.length)return Ue.EMPTY_INT_ARRAY;const a=new Int32Array(n.length);let r=0;for(const s of n)a[r++]=s;return a}static getCodeword(n){const a=Ee.binarySearch(Ue.SYMBOL_TABLE,n&262143);return a<0?-1:(Ue.CODEWORD_TABLE[a]-1)%Ue.NUMBER_OF_CODEWORDS}}Ue.NUMBER_OF_CODEWORDS=929,Ue.MAX_CODEWORDS_IN_BARCODE=Ue.NUMBER_OF_CODEWORDS-1,Ue.MIN_ROWS_IN_BARCODE=3,Ue.MAX_ROWS_IN_BARCODE=90,Ue.MODULES_IN_CODEWORD=17,Ue.MODULES_IN_STOP_PATTERN=18,Ue.BARS_IN_MODULE=8,Ue.EMPTY_INT_ARRAY=new Int32Array([]),Ue.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ue.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class cr{constructor(n,a){this.bits=n,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class je{static detectMultiple(n,a,r){let s=n.getBlackMatrix(),o=je.detect(r,s);return o.length||(s=s.clone(),s.rotate180(),o=je.detect(r,s)),new cr(s,o)}static detect(n,a){const r=new Array;let s=0,o=0,c=!1;for(;s<a.getHeight();){const f=je.findVertices(a,s,o);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,o=0;for(const g of r)g[1]!=null&&(s=Math.trunc(Math.max(s,g[1].getY()))),g[3]!=null&&(s=Math.max(s,Math.trunc(g[3].getY())));s+=je.ROW_STEP;continue}if(c=!0,r.push(f),!n)break;f[2]!=null?(o=Math.trunc(f[2].getX()),s=Math.trunc(f[2].getY())):(o=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY()))}return r}static findVertices(n,a,r){const s=n.getHeight(),o=n.getWidth(),c=new Array(8);return je.copyToResult(c,je.findRowsWithPattern(n,s,o,a,r,je.START_PATTERN),je.INDEXES_START_PATTERN),c[4]!=null&&(r=Math.trunc(c[4].getX()),a=Math.trunc(c[4].getY())),je.copyToResult(c,je.findRowsWithPattern(n,s,o,a,r,je.STOP_PATTERN),je.INDEXES_STOP_PATTERN),c}static copyToResult(n,a,r){for(let s=0;s<r.length;s++)n[r[s]]=a[s]}static findRowsWithPattern(n,a,r,s,o,c){const f=new Array(4);let g=!1;const E=new Int32Array(c.length);for(;s<a;s+=je.ROW_STEP){let v=je.findGuardPattern(n,o,s,r,!1,c,E);if(v!=null){for(;s>0;){const N=je.findGuardPattern(n,o,--s,r,!1,c,E);if(N!=null)v=N;else{s++;break}}f[0]=new be(v[0],s),f[1]=new be(v[1],s),g=!0;break}}let S=s+1;if(g){let v=0,N=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;S<a;S++){const D=je.findGuardPattern(n,N[0],S,r,!1,c,E);if(D!=null&&Math.abs(N[0]-D[0])<je.MAX_PATTERN_DRIFT&&Math.abs(N[1]-D[1])<je.MAX_PATTERN_DRIFT)N=D,v=0;else{if(v>je.SKIPPED_ROW_COUNT_MAX)break;v++}}S-=v+1,f[2]=new be(N[0],S),f[3]=new be(N[1],S)}return S-s<je.BARCODE_MIN_HEIGHT&&Ee.fill(f,null),f}static findGuardPattern(n,a,r,s,o,c,f){Ee.fillWithin(f,0,f.length,0);let g=a,E=0;for(;n.get(g,r)&&g>0&&E++<je.MAX_PIXEL_DRIFT;)g--;let S=g,v=0,N=c.length;for(let D=o;S<s;S++)if(n.get(S,r)!==D)f[v]++;else{if(v===N-1){if(je.patternMatchVariance(f,c,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return new Int32Array([g,S]);g+=f[0]+f[1],le.arraycopy(f,2,f,0,v-1),f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,D=!D}return v===N-1&&je.patternMatchVariance(f,c,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE?new Int32Array([g,S-1]):null}static patternMatchVariance(n,a,r){let s=n.length,o=0,c=0;for(let E=0;E<s;E++)o+=n[E],c+=a[E];if(o<c)return 1/0;let f=o/c;r*=f;let g=0;for(let E=0;E<s;E++){let S=n[E],v=a[E]*f,N=S>v?S-v:v-S;if(N>r)return 1/0;g+=N}return g/o}}je.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),je.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),je.MAX_AVG_VARIANCE=.42,je.MAX_INDIVIDUAL_VARIANCE=.8,je.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),je.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),je.MAX_PIXEL_DRIFT=3,je.MAX_PATTERN_DRIFT=5,je.SKIPPED_ROW_COUNT_MAX=25,je.ROW_STEP=5,je.BARCODE_MIN_HEIGHT=10;class Yt{constructor(n,a){if(a.length===0)throw new U;this.field=n;let r=a.length;if(r>1&&a[0]===0){let s=1;for(;s<r&&a[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),le.arraycopy(a,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let a=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)a=this.field.add(this.field.multiply(n,a),this.coefficients[s]);return a}add(n){if(!this.field.equals(n.field))throw new U("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let a=this.coefficients,r=n.coefficients;if(a.length>r.length){let c=a;a=r,r=c}let s=new Int32Array(r.length),o=r.length-a.length;le.arraycopy(r,0,s,0,o);for(let c=o;c<r.length;c++)s[c]=this.field.add(a[c-o],r[c]);return new Yt(this.field,s)}subtract(n){if(!this.field.equals(n.field))throw new U("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof Yt?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new U("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new Yt(this.field,new Int32Array([0]));let a=this.coefficients,r=a.length,s=n.coefficients,o=s.length,c=new Int32Array(r+o-1);for(let f=0;f<r;f++){let g=a[f];for(let E=0;E<o;E++)c[f+E]=this.field.add(c[f+E],this.field.multiply(g,s[E]))}return new Yt(this.field,c)}negative(){let n=this.coefficients.length,a=new Int32Array(n);for(let r=0;r<n;r++)a[r]=this.field.subtract(0,this.coefficients[r]);return new Yt(this.field,a)}multiplyScalar(n){if(n===0)return new Yt(this.field,new Int32Array([0]));if(n===1)return this;let a=this.coefficients.length,r=new Int32Array(a);for(let s=0;s<a;s++)r[s]=this.field.multiply(this.coefficients[s],n);return new Yt(this.field,r)}multiplyByMonomial(n,a){if(n<0)throw new U;if(a===0)return new Yt(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+n);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],a);return new Yt(this.field,s)}toString(){let n=new qe;for(let a=this.getDegree();a>=0;a--){let r=this.getCoefficient(a);r!==0&&(r<0?(n.append(" - "),r=-r):n.length()>0&&n.append(" + "),(a===0||r!==1)&&n.append(r),a!==0&&(a===1?n.append("x"):(n.append("x^"),n.append(a))))}return n.toString()}}class _i{add(n,a){return(n+a)%this.modulus}subtract(n,a){return(this.modulus+n-a)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new U;return this.logTable[n]}inverse(n){if(n===0)throw new vi;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class fr extends _i{constructor(n,a){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let r=1;for(let s=0;s<n;s++)this.expTable[s]=r,r=r*a%n;for(let s=0;s<n-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Yt(this,new Int32Array([0])),this.one=new Yt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,a){if(n<0)throw new U;if(a===0)return this.zero;let r=new Int32Array(n+1);return r[0]=a,new Yt(this,r)}}fr.PDF417_GF=new fr(Ue.NUMBER_OF_CODEWORDS,3);class hr{constructor(){this.field=fr.PDF417_GF}decode(n,a,r){let s=new Yt(this.field,n),o=new Int32Array(a),c=!1;for(let k=a;k>0;k--){let z=s.evaluateAt(this.field.exp(k));o[a-k]=z,z!==0&&(c=!0)}if(!c)return 0;let f=this.field.getOne();if(r!=null)for(const k of r){let z=this.field.exp(n.length-1-k),j=new Yt(this.field,new Int32Array([this.field.subtract(0,z),1]));f=f.multiply(j)}let g=new Yt(this.field,o),E=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),g,a),S=E[0],v=E[1],N=this.findErrorLocations(S),D=this.findErrorMagnitudes(v,S,N);for(let k=0;k<N.length;k++){let z=n.length-1-this.field.log(N[k]);if(z<0)throw ee.getChecksumInstance();n[z]=this.field.subtract(n[z],D[k])}return N.length}runEuclideanAlgorithm(n,a,r){if(n.getDegree()<a.getDegree()){let N=n;n=a,a=N}let s=n,o=a,c=this.field.getZero(),f=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let N=s,D=c;if(s=o,c=f,s.isZero())throw ee.getChecksumInstance();o=N;let k=this.field.getZero(),z=s.getCoefficient(s.getDegree()),j=this.field.inverse(z);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let Q=o.getDegree()-s.getDegree(),ce=this.field.multiply(o.getCoefficient(o.getDegree()),j);k=k.add(this.field.buildMonomial(Q,ce)),o=o.subtract(s.multiplyByMonomial(Q,ce))}f=k.multiply(c).subtract(D).negative()}let g=f.getCoefficient(0);if(g===0)throw ee.getChecksumInstance();let E=this.field.inverse(g),S=f.multiply(E),v=o.multiply(E);return[S,v]}findErrorLocations(n){let a=n.getDegree(),r=new Int32Array(a),s=0;for(let o=1;o<this.field.getSize()&&s<a;o++)n.evaluateAt(o)===0&&(r[s]=this.field.inverse(o),s++);if(s!==a)throw ee.getChecksumInstance();return r}findErrorMagnitudes(n,a,r){let s=a.getDegree(),o=new Int32Array(s);for(let E=1;E<=s;E++)o[s-E]=this.field.multiply(E,a.getCoefficient(E));let c=new Yt(this.field,o),f=r.length,g=new Int32Array(f);for(let E=0;E<f;E++){let S=this.field.inverse(r[E]),v=this.field.subtract(0,n.evaluateAt(S)),N=this.field.inverse(c.evaluateAt(S));g[E]=this.field.multiply(v,N)}return g}}class Di{constructor(n,a,r,s,o){n instanceof Di?this.constructor_2(n):this.constructor_1(n,a,r,s,o)}constructor_1(n,a,r,s,o){const c=a==null||r==null,f=s==null||o==null;if(c&&f)throw new W;c?(a=new be(0,s.getY()),r=new be(0,o.getY())):f&&(s=new be(n.getWidth()-1,a.getY()),o=new be(n.getWidth()-1,r.getY())),this.image=n,this.topLeft=a,this.bottomLeft=r,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(a.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(a.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,a){return n==null?a:a==null?n:new Di(n.image,n.topLeft,n.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(n,a,r){let s=this.topLeft,o=this.bottomLeft,c=this.topRight,f=this.bottomRight;if(n>0){let g=r?this.topLeft:this.topRight,E=Math.trunc(g.getY()-n);E<0&&(E=0);let S=new be(g.getX(),E);r?s=S:c=S}if(a>0){let g=r?this.bottomLeft:this.bottomRight,E=Math.trunc(g.getY()+a);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let S=new be(g.getX(),E);r?o=S:f=S}return new Di(this.image,s,o,c,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class jr{constructor(n,a,r,s){this.columnCount=n,this.errorCorrectionLevel=s,this.rowCountUpperPart=a,this.rowCountLowerPart=r,this.rowCount=a+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ri{constructor(){this.buffer=""}static form(n,a){let r=-1;function s(c,f,g,E,S,v){if(c==="%%")return"%";if(a[++r]===void 0)return;c=E?parseInt(E.substr(1)):void 0;let N=S?parseInt(S.substr(1)):void 0,D;switch(v){case"s":D=a[r];break;case"c":D=a[r][0];break;case"f":D=parseFloat(a[r]).toFixed(c);break;case"p":D=parseFloat(a[r]).toPrecision(c);break;case"e":D=parseFloat(a[r]).toExponential(c);break;case"x":D=parseInt(a[r]).toString(N||16);break;case"d":D=parseFloat(parseInt(a[r],N||10).toPrecision(c)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(N);let k=parseInt(g),z=g&&g[0]+""=="0"?"0":" ";for(;D.length<k;)D=f!==void 0?D+z:z+D;return D}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(o,s)}format(n,...a){this.buffer+=Ri.form(n,a)}toString(){return this.buffer}}class Ia{constructor(n){this.boundingBox=new Di(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let a=this.getCodeword(n);if(a!=null)return a;for(let r=1;r<Ia.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(n)-r;if(s>=0&&(a=this.codewords[s],a!=null)||(s=this.imageRowToCodewordIndex(n)+r,s<this.codewords.length&&(a=this.codewords[s],a!=null)))return a}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,a){this.codewords[this.imageRowToCodewordIndex(n)]=a}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Ri;let a=0;for(const r of this.codewords){if(r==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,r.getRowNumber(),r.getValue())}return n.toString()}}Ia.MAX_NEARBY_DISTANCE=5;class ln{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let a=this.values.get(n);a==null&&(a=0),a++,this.values.set(n,a)}getValue(){let n=-1,a=new Array;for(const[r,s]of this.values.entries()){const o={getKey:()=>r,getValue:()=>s};o.getValue()>n?(n=o.getValue(),a=[],a.push(o.getKey())):o.getValue()===n&&a.push(o.getKey())}return Ue.toIntArray(a)}getConfidence(n){return this.values.get(n)}}class Bi extends Ia{constructor(n,a){super(n),this._isLeft=a}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,n);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.imageRowToCodewordIndex(Math.trunc(o.getY())),g=-1,E=1,S=0;for(let v=c;v<f;v++){if(a[v]==null)continue;let N=a[v],D=N.getRowNumber()-g;if(D===0)S++;else if(D===1)E=Math.max(E,S),S=1,g=N.getRowNumber();else if(D<0||N.getRowNumber()>=n.getRowCount()||D>v)a[v]=null;else{let k;E>2?k=(E-2)*D:k=D;let z=k>=v;for(let j=1;j<=k&&!z;j++)z=a[v-j]!=null;z?a[v]=null:(g=N.getRowNumber(),S=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let a=new Int32Array(n.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=a.length)continue;a[s]++}return a}adjustIncompleteIndicatorColumnRowNumbers(n){let a=this.getBoundingBox(),r=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.getCodewords(),g=-1;for(let E=o;E<c;E++){if(f[E]==null)continue;let S=f[E];S.setRowNumberAsRowIndicatorColumn();let v=S.getRowNumber()-g;v===0||(v===1?g=S.getRowNumber():S.getRowNumber()>=n.getRowCount()?f[E]=null:g=S.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),a=new ln,r=new ln,s=new ln,o=new ln;for(let f of n){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let g=f.getValue()%30,E=f.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:r.setValue(g*3+1);break;case 1:o.setValue(g/3),s.setValue(g%3);break;case 2:a.setValue(g+1);break}}if(a.getValue().length===0||r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||a.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Ue.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Ue.MAX_ROWS_IN_BARCODE)return null;let c=new jr(a.getValue()[0],r.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(n,c),c}removeIncorrectCodewords(n,a){for(let r=0;r<n.length;r++){let s=n[r];if(n[r]==null)continue;let o=s.getValue()%30,c=s.getRowNumber();if(c>a.getRowCount()){n[r]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:o*3+1!==a.getRowCountUpperPart()&&(n[r]=null);break;case 1:(Math.trunc(o/3)!==a.getErrorCorrectionLevel()||o%3!==a.getRowCountLowerPart())&&(n[r]=null);break;case 2:o+1!==a.getColumnCount()&&(n[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Li{constructor(n,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Ue.MAX_CODEWORDS_IN_BARCODE,a;do a=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let r=this.detectionResultColumns[a].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(a,s,r))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++)if(n[r]!=null&&a[r]!=null&&n[r].getRowNumber()===a[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[r];o!=null&&(o.setRowNumber(n[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<a.length;r++){if(a[r]==null)continue;let s=a[r].getRowNumber(),o=0;for(let c=this.barcodeColumnCount+1;c>0&&o<this.ADJUST_ROW_NUMBER_SKIP;c--){let f=this.detectionResultColumns[c].getCodewords()[r];f!=null&&(o=Li.adjustRowNumberIfValid(s,o,f),f.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,a=this.detectionResultColumns[0].getCodewords();for(let r=0;r<a.length;r++){if(a[r]==null)continue;let s=a[r].getRowNumber(),o=0;for(let c=1;c<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;c++){let f=this.detectionResultColumns[c].getCodewords()[r];f!=null&&(o=Li.adjustRowNumberIfValid(s,o,f),f.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,a,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(n)?(r.setRowNumber(n),a=0):++a),a}adjustRowNumbers(n,a,r){if(!this.detectionResultColumns[n-1])return;let s=r[a],o=this.detectionResultColumns[n-1].getCodewords(),c=o;this.detectionResultColumns[n+1]!=null&&(c=this.detectionResultColumns[n+1].getCodewords());let f=new Array(14);f[2]=o[a],f[3]=c[a],a>0&&(f[0]=r[a-1],f[4]=o[a-1],f[5]=c[a-1]),a>1&&(f[8]=r[a-2],f[10]=o[a-2],f[11]=c[a-2]),a<r.length-1&&(f[1]=r[a+1],f[6]=o[a+1],f[7]=c[a+1]),a<r.length-2&&(f[9]=r[a+2],f[12]=o[a+2],f[13]=c[a+2]);for(let g of f)if(Li.adjustRowNumber(s,g))return}static adjustRowNumber(n,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===n.getBucket()?(n.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,a){this.detectionResultColumns[n]=a}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Ri;for(let r=0;r<n.getCodewords().length;r++){a.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){a.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[r];if(o==null){a.format("    |   ");continue}a.format(" %3d|%3d",o.getRowNumber(),o.getValue())}a.format("%n")}return a.toString()}}class Ci{constructor(n,a,r,s){this.rowNumber=Ci.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(a),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Ci.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Ci.BARCODE_ROW_UNKNOWN=-1;class _n{static initialize(){for(let n=0;n<Ue.SYMBOL_TABLE.length;n++){let a=Ue.SYMBOL_TABLE[n],r=a&1;for(let s=0;s<Ue.BARS_IN_MODULE;s++){let o=0;for(;(a&1)===r;)o+=1,a>>=1;r=a&1,_n.RATIOS_TABLE[n]||(_n.RATIOS_TABLE[n]=new Array(Ue.BARS_IN_MODULE)),_n.RATIOS_TABLE[n][Ue.BARS_IN_MODULE-s-1]=Math.fround(o/Ue.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let a=_n.getDecodedCodewordValue(_n.sampleBitCounts(n));return a!==-1?a:_n.getClosestDecodedValue(n)}static sampleBitCounts(n){let a=et.sum(n),r=new Int32Array(Ue.BARS_IN_MODULE),s=0,o=0;for(let c=0;c<Ue.MODULES_IN_CODEWORD;c++){let f=a/(2*Ue.MODULES_IN_CODEWORD)+c*a/Ue.MODULES_IN_CODEWORD;o+n[s]<=f&&(o+=n[s],s++),r[s]++}return r}static getDecodedCodewordValue(n){let a=_n.getBitValue(n);return Ue.getCodeword(a)===-1?-1:a}static getBitValue(n){let a=0;for(let r=0;r<n.length;r++)for(let s=0;s<n[r];s++)a=a<<1|(r%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(n){let a=et.sum(n),r=new Array(Ue.BARS_IN_MODULE);if(a>1)for(let c=0;c<r.length;c++)r[c]=Math.fround(n[c]/a);let s=ya.MAX_VALUE,o=-1;this.bSymbolTableReady||_n.initialize();for(let c=0;c<_n.RATIOS_TABLE.length;c++){let f=0,g=_n.RATIOS_TABLE[c];for(let E=0;E<Ue.BARS_IN_MODULE;E++){let S=Math.fround(g[E]-r[E]);if(f+=Math.fround(S*S),f>=s)break}f<s&&(s=f,o=Ue.SYMBOL_TABLE[c])}return o}}_n.bSymbolTableReady=!1,_n.RATIOS_TABLE=new Array(Ue.SYMBOL_TABLE.length).map(T=>new Array(Ue.BARS_IN_MODULE));class Gr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class Vr{static parseLong(n,a=void 0){return parseInt(n,a)}}class Oa extends w{}Oa.kind="NullPointerException";class Xr{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,a,r){if(n==null)throw new Oa;if(a<0||a>n.length||r<0||a+r>n.length||a+r<0)throw new ge;if(r===0)return;for(let s=0;s<r;s++)this.write(n[a+s])}flush(){}close(){}}class _s extends w{}class Qo extends Xr{constructor(n=32){if(super(),this.count=0,n<0)throw new U("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let r=this.buf.length<<1;if(r-n<0&&(r=n),r<0){if(n<0)throw new _s;r=ae.MAX_VALUE}this.buf=Ee.copyOfUint8Array(this.buf,r)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,a,r){if(a<0||a>n.length||r<0||a+r-n.length>0)throw new ge;this.ensureCapacity(this.count+r),le.arraycopy(n,a,this.buf,this.count,r),this.count+=r}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Ee.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var yt;(function(T){T[T.ALPHA=0]="ALPHA",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.PUNCT=3]="PUNCT",T[T.ALPHA_SHIFT=4]="ALPHA_SHIFT",T[T.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(yt||(yt={}));function Ds(){if(typeof window<"u")return window.BigInt||null;if(typeof Bo<"u")return Bo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _a;function Ui(T){if(typeof _a>"u"&&(_a=Ds()),_a===null)throw new Error("BigInt is not supported!");return _a(T)}function Wo(){let T=[];T[0]=Ui(1);let n=Ui(900);T[1]=n;for(let a=2;a<16;a++)T[a]=T[a-1]*n;return T}class q{static decode(n,a){let r=new qe(""),s=X.ISO8859_1;r.enableDecoding(s);let o=1,c=n[o++],f=new Gr;for(;o<n[0];){switch(c){case q.TEXT_COMPACTION_MODE_LATCH:o=q.textCompaction(n,o,r);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:o=q.byteCompaction(c,n,s,o,r);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(n[o++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:o=q.numericCompaction(n,o,r);break;case q.ECI_CHARSET:X.getCharacterSetECIByValue(n[o++]);break;case q.ECI_GENERAL_PURPOSE:o+=2;break;case q.ECI_USER_DEFINED:o++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=q.decodeMacroBlock(n,o,f);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new fe;default:o--,o=q.textCompaction(n,o,r);break}if(o<n.length)c=n[o++];else throw fe.getFormatInstance()}if(r.length()===0)throw fe.getFormatInstance();let g=new _t(null,r.toString(),null,a);return g.setOther(f),g}static decodeMacroBlock(n,a,r){if(a+q.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw fe.getFormatInstance();let s=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<q.NUMBER_OF_SEQUENCE_CODEWORDS;f++,a++)s[f]=n[a];r.setSegmentIndex(ae.parseInt(q.decodeBase900toBase10(s,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new qe;a=q.textCompaction(n,a,o),r.setFileId(o.toString());let c=-1;for(n[a]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=a+1);a<n[0];)switch(n[a]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,n[a]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new qe;a=q.textCompaction(n,a+1,f),r.setFileName(f.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new qe;a=q.textCompaction(n,a+1,g),r.setSender(g.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new qe;a=q.textCompaction(n,a+1,E),r.setAddressee(E.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new qe;a=q.numericCompaction(n,a+1,S),r.setSegmentCount(ae.parseInt(S.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let v=new qe;a=q.numericCompaction(n,a+1,v),r.setTimestamp(Vr.parseLong(v.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new qe;a=q.numericCompaction(n,a+1,N),r.setChecksum(ae.parseInt(N.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let D=new qe;a=q.numericCompaction(n,a+1,D),r.setFileSize(Vr.parseLong(D.toString()));break;default:throw fe.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:a++,r.setLastSegment(!0);break;default:throw fe.getFormatInstance()}if(c!==-1){let f=a-c;r.isLastSegment()&&f--,r.setOptionalData(Ee.copyOfRange(n,c,c+f))}return a}static textCompaction(n,a,r){let s=new Int32Array((n[0]-a)*2),o=new Int32Array((n[0]-a)*2),c=0,f=!1;for(;a<n[0]&&!f;){let g=n[a++];if(g<q.TEXT_COMPACTION_MODE_LATCH)s[c]=g/30,s[c+1]=g%30,c+=2;else switch(g){case q.TEXT_COMPACTION_MODE_LATCH:s[c++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:a--,f=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[c]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=n[a++],o[c]=g,c++;break}}return q.decodeTextCompaction(s,o,c,r),a}static decodeTextCompaction(n,a,r,s){let o=yt.ALPHA,c=yt.ALPHA,f=0;for(;f<r;){let g=n[f],E="";switch(o){case yt.ALPHA:if(g<26)E=String.fromCharCode(65+g);else switch(g){case 26:E=" ";break;case q.LL:o=yt.LOWER;break;case q.ML:o=yt.MIXED;break;case q.PS:c=o,o=yt.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[f]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=yt.ALPHA;break}break;case yt.LOWER:if(g<26)E=String.fromCharCode(97+g);else switch(g){case 26:E=" ";break;case q.AS:c=o,o=yt.ALPHA_SHIFT;break;case q.ML:o=yt.MIXED;break;case q.PS:c=o,o=yt.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[f]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=yt.ALPHA;break}break;case yt.MIXED:if(g<q.PL)E=q.MIXED_CHARS[g];else switch(g){case q.PL:o=yt.PUNCT;break;case 26:E=" ";break;case q.LL:o=yt.LOWER;break;case q.AL:o=yt.ALPHA;break;case q.PS:c=o,o=yt.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[f]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=yt.ALPHA;break}break;case yt.PUNCT:if(g<q.PAL)E=q.PUNCT_CHARS[g];else switch(g){case q.PAL:o=yt.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[f]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=yt.ALPHA;break}break;case yt.ALPHA_SHIFT:if(o=c,g<26)E=String.fromCharCode(65+g);else switch(g){case 26:E=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:o=yt.ALPHA;break}break;case yt.PUNCT_SHIFT:if(o=c,g<q.PAL)E=q.PUNCT_CHARS[g];else switch(g){case q.PAL:o=yt.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(a[f]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=yt.ALPHA;break}break}E!==""&&s.append(E),f++}}static byteCompaction(n,a,r,s,o){let c=new Qo,f=0,g=0,E=!1;switch(n){case q.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),v=a[s++];for(;s<a[0]&&!E;)switch(S[f++]=v,g=900*g+v,v=a[s++],v){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:s--,E=!0;break;default:if(f%5===0&&f>0){for(let N=0;N<6;++N)c.write(Number(Ui(g)>>Ui(8*(5-N))));g=0,f=0}break}s===a[0]&&v<q.TEXT_COMPACTION_MODE_LATCH&&(S[f++]=v);for(let N=0;N<f;N++)c.write(S[N]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;s<a[0]&&!E;){let N=a[s++];if(N<q.TEXT_COMPACTION_MODE_LATCH)f++,g=900*g+N;else switch(N){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:s--,E=!0;break}if(f%5===0&&f>0){for(let D=0;D<6;++D)c.write(Number(Ui(g)>>Ui(8*(5-D))));g=0,f=0}}break}return o.append(mt.decode(c.toByteArray(),r)),s}static numericCompaction(n,a,r){let s=0,o=!1,c=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;a<n[0]&&!o;){let f=n[a++];if(a===n[0]&&(o=!0),f<q.TEXT_COMPACTION_MODE_LATCH)c[s]=f,s++;else switch(f){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:a--,o=!0;break}(s%q.MAX_NUMERIC_CODEWORDS===0||f===q.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(r.append(q.decodeBase900toBase10(c,s)),s=0)}return a}static decodeBase900toBase10(n,a){let r=Ui(0);for(let o=0;o<a;o++)r+=q.EXP900[a-o-1]*Ui(n[o]);let s=r.toString();if(s.charAt(0)!=="1")throw new fe;return s.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=Ds()?Wo():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ve{constructor(){}static decode(n,a,r,s,o,c,f){let g=new Di(n,a,r,s,o),E=null,S=null,v;for(let k=!0;;k=!1){if(a!=null&&(E=Ve.getRowIndicatorColumn(n,g,a,!0,c,f)),s!=null&&(S=Ve.getRowIndicatorColumn(n,g,s,!1,c,f)),v=Ve.merge(E,S),v==null)throw W.getNotFoundInstance();let z=v.getBoundingBox();if(k&&z!=null&&(z.getMinY()<g.getMinY()||z.getMaxY()>g.getMaxY()))g=z;else break}v.setBoundingBox(g);let N=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,E),v.setDetectionResultColumn(N,S);let D=E!=null;for(let k=1;k<=N;k++){let z=D?k:N-k;if(v.getDetectionResultColumn(z)!==void 0)continue;let j;z===0||z===N?j=new Bi(g,z===0):j=new Ia(g),v.setDetectionResultColumn(z,j);let Q=-1,ce=Q;for(let he=g.getMinY();he<=g.getMaxY();he++){if(Q=Ve.getStartColumn(v,z,he,D),Q<0||Q>g.getMaxX()){if(ce===-1)continue;Q=ce}let se=Ve.detectCodeword(n,g.getMinX(),g.getMaxX(),D,Q,he,c,f);se!=null&&(j.setCodeword(he,se),ce=Q,c=Math.min(c,se.getWidth()),f=Math.max(f,se.getWidth()))}}return Ve.createDecoderResult(v)}static merge(n,a){if(n==null&&a==null)return null;let r=Ve.getBarcodeMetadata(n,a);if(r==null)return null;let s=Di.merge(Ve.adjustBoundingBox(n),Ve.adjustBoundingBox(a));return new Li(r,s)}static adjustBoundingBox(n){if(n==null)return null;let a=n.getRowHeights();if(a==null)return null;let r=Ve.getMax(a),s=0;for(let f of a)if(s+=r-f,f>0)break;let o=n.getCodewords();for(let f=0;s>0&&o[f]==null;f++)s--;let c=0;for(let f=a.length-1;f>=0&&(c+=r-a[f],!(a[f]>0));f--);for(let f=o.length-1;c>0&&o[f]==null;f--)c--;return n.getBoundingBox().addMissingRows(s,c,n.isLeft())}static getMax(n){let a=-1;for(let r of n)a=Math.max(a,r);return a}static getBarcodeMetadata(n,a){let r;if(n==null||(r=n.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let s;return a==null||(s=a.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(n,a,r,s,o,c){let f=new Bi(a,s);for(let g=0;g<2;g++){let E=g===0?1:-1,S=Math.trunc(Math.trunc(r.getX()));for(let v=Math.trunc(Math.trunc(r.getY()));v<=a.getMaxY()&&v>=a.getMinY();v+=E){let N=Ve.detectCodeword(n,0,n.getWidth(),s,S,v,o,c);N!=null&&(f.setCodeword(v,N),s?S=N.getStartX():S=N.getEndX())}}return f}static adjustCodewordCount(n,a){let r=a[0][1],s=r.getValue(),o=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Ve.getNumberOfECCodeWords(n.getBarcodeECLevel());if(s.length===0){if(o<1||o>Ue.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();r.setValue(o)}else s[0]!==o&&r.setValue(o)}static createDecoderResult(n){let a=Ve.createBarcodeMatrix(n);Ve.adjustCodewordCount(n,a);let r=new Array,s=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),o=[],c=new Array;for(let g=0;g<n.getBarcodeRowCount();g++)for(let E=0;E<n.getBarcodeColumnCount();E++){let S=a[g][E+1].getValue(),v=g*n.getBarcodeColumnCount()+E;S.length===0?r.push(v):S.length===1?s[v]=S[0]:(c.push(v),o.push(S))}let f=new Array(o.length);for(let g=0;g<f.length;g++)f[g]=o[g];return Ve.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),s,Ue.toIntArray(r),Ue.toIntArray(c),f)}static createDecoderResultFromAmbiguousValues(n,a,r,s,o){let c=new Int32Array(s.length),f=100;for(;f-- >0;){for(let g=0;g<c.length;g++)a[s[g]]=o[g][c[g]];try{return Ve.decodeCodewords(a,n,r)}catch(g){if(!(g instanceof ee))throw g}if(c.length===0)throw ee.getChecksumInstance();for(let g=0;g<c.length;g++)if(c[g]<o[g].length-1){c[g]++;break}else if(c[g]=0,g===c.length-1)throw ee.getChecksumInstance()}throw ee.getChecksumInstance()}static createBarcodeMatrix(n){let a=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let s=0;s<a.length;s++)for(let o=0;o<a[s].length;o++)a[s][o]=new ln;let r=0;for(let s of n.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let c=o.getRowNumber();if(c>=0){if(c>=a.length)continue;a[c][r].setValue(o.getValue())}}}r++}return a}static isValidBarcodeColumn(n,a){return a>=0&&a<=n.getBarcodeColumnCount()+1}static getStartColumn(n,a,r,s){let o=s?1:-1,c=null;if(Ve.isValidBarcodeColumn(n,a-o)&&(c=n.getDetectionResultColumn(a-o).getCodeword(r)),c!=null)return s?c.getEndX():c.getStartX();if(c=n.getDetectionResultColumn(a).getCodewordNearby(r),c!=null)return s?c.getStartX():c.getEndX();if(Ve.isValidBarcodeColumn(n,a-o)&&(c=n.getDetectionResultColumn(a-o).getCodewordNearby(r)),c!=null)return s?c.getEndX():c.getStartX();let f=0;for(;Ve.isValidBarcodeColumn(n,a-o);){a-=o;for(let g of n.getDetectionResultColumn(a).getCodewords())if(g!=null)return(s?g.getEndX():g.getStartX())+o*f*(g.getEndX()-g.getStartX());f++}return s?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,a,r,s,o,c,f,g){o=Ve.adjustCodewordStartColumn(n,a,r,s,o,c);let E=Ve.getModuleBitCount(n,a,r,s,o,c);if(E==null)return null;let S,v=et.sum(E);if(s)S=o+v;else{for(let k=0;k<E.length/2;k++){let z=E[k];E[k]=E[E.length-1-k],E[E.length-1-k]=z}S=o,o=S-v}if(!Ve.checkCodewordSkew(v,f,g))return null;let N=_n.getDecodedValue(E),D=Ue.getCodeword(N);return D===-1?null:new Ci(o,S,Ve.getCodewordBucketNumber(N),D)}static getModuleBitCount(n,a,r,s,o,c){let f=o,g=new Int32Array(8),E=0,S=s?1:-1,v=s;for(;(s?f<r:f>=a)&&E<g.length;)n.get(f,c)===v?(g[E]++,f+=S):(E++,v=!v);return E===g.length||f===(s?r:a)&&E===g.length-1?g:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,a,r,s,o,c){let f=o,g=s?-1:1;for(let E=0;E<2;E++){for(;(s?f>=a:f<r)&&s===n.get(f,c);){if(Math.abs(o-f)>Ve.CODEWORD_SKEW_SIZE)return o;f+=g}g=-g,s=!s}return f}static checkCodewordSkew(n,a,r){return a-Ve.CODEWORD_SKEW_SIZE<=n&&n<=r+Ve.CODEWORD_SKEW_SIZE}static decodeCodewords(n,a,r){if(n.length===0)throw fe.getFormatInstance();let s=1<<a+1,o=Ve.correctErrors(n,r,s);Ve.verifyCodewordCount(n,s);let c=q.decode(n,""+a);return c.setErrorsCorrected(o),c.setErasures(r.length),c}static correctErrors(n,a,r){if(a!=null&&a.length>r/2+Ve.MAX_ERRORS||r<0||r>Ve.MAX_EC_CODEWORDS)throw ee.getChecksumInstance();return Ve.errorCorrection.decode(n,r,a)}static verifyCodewordCount(n,a){if(n.length<4)throw fe.getFormatInstance();let r=n[0];if(r>n.length)throw fe.getFormatInstance();if(r===0)if(a<n.length)n[0]=n.length-a;else throw fe.getFormatInstance()}static getBitCountForCodeword(n){let a=new Int32Array(8),r=0,s=a.length-1;for(;!((n&1)!==r&&(r=n&1,s--,s<0));)a[s]++,n>>=1;return a}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Ve.getCodewordBucketNumber(Ve.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let a=new Ri;for(let r=0;r<n.length;r++){a.format("Row %2d: ",r);for(let s=0;s<n[r].length;s++){let o=n[r][s];o.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}a.format("%n")}return a.toString()}}Ve.CODEWORD_SKEW_SIZE=2,Ve.MAX_ERRORS=3,Ve.MAX_EC_CODEWORDS=512,Ve.errorCorrection=new hr;class hn{decode(n,a=null){let r=hn.decode(n,a,!1);if(r==null||r.length===0||r[0]==null)throw W.getNotFoundInstance();return r[0]}decodeMultiple(n,a=null){try{return hn.decode(n,a,!0)}catch(r){throw r instanceof fe||r instanceof ee?W.getNotFoundInstance():r}}static decode(n,a,r){const s=new Array,o=je.detectMultiple(n,a,r);for(const c of o.getPoints()){const f=Ve.decode(o.getBits(),c[4],c[5],c[6],c[7],hn.getMinCodewordWidth(c),hn.getMaxCodewordWidth(c)),g=new pe(f.getText(),f.getRawBytes(),void 0,c,Ae.PDF_417);g.putMetadata(He.ERROR_CORRECTION_LEVEL,f.getECLevel());const E=f.getOther();E!=null&&g.putMetadata(He.PDF417_EXTRA_METADATA,E),s.push(g)}return s.map(c=>c)}static getMaxWidth(n,a){return n==null||a==null?0:Math.trunc(Math.abs(n.getX()-a.getX()))}static getMinWidth(n,a){return n==null||a==null?ae.MAX_VALUE:Math.trunc(Math.abs(n.getX()-a.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(hn.getMaxWidth(n[0],n[4]),hn.getMaxWidth(n[6],n[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.max(hn.getMaxWidth(n[1],n[5]),hn.getMaxWidth(n[7],n[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(hn.getMinWidth(n[0],n[4]),hn.getMinWidth(n[6],n[2])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN),Math.min(hn.getMinWidth(n[1],n[5]),hn.getMinWidth(n[7],n[3])*Ue.MODULES_IN_CODEWORD/Ue.MODULES_IN_STOP_PATTERN)))}reset(){}}class dr extends w{}dr.kind="ReaderException";class Rs{constructor(n,a){this.verbose=n===!0,a&&this.setHints(a)}decode(n,a){return a&&this.setHints(a),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const a=!y(n)&&n.get(ke.TRY_HARDER)===!0,r=y(n)?null:n.get(ke.POSSIBLE_FORMATS),s=new Array;if(!y(r)){const o=r.some(c=>c===Ae.UPC_A||c===Ae.UPC_E||c===Ae.EAN_13||c===Ae.EAN_8||c===Ae.CODABAR||c===Ae.CODE_39||c===Ae.CODE_93||c===Ae.CODE_128||c===Ae.ITF||c===Ae.RSS_14||c===Ae.RSS_EXPANDED);o&&!a&&s.push(new On(n,this.verbose)),r.includes(Ae.QR_CODE)&&s.push(new li),r.includes(Ae.DATA_MATRIX)&&s.push(new pi),r.includes(Ae.AZTEC)&&s.push(new kr),r.includes(Ae.PDF_417)&&s.push(new hn),o&&a&&s.push(new On(n,this.verbose))}s.length===0&&(a||s.push(new On(n,this.verbose)),s.push(new li),s.push(new pi),s.push(new kr),s.push(new hn),a&&s.push(new On(n,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new dr("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(n,this.hints)}catch(r){if(r instanceof dr)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class Ko extends Me{constructor(n=null,a=500){const r=new Rs;r.setHints(n),super(r,a)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class Jo extends Me{constructor(n=500){super(new hn,n)}}class $o extends Me{constructor(n=500){super(new li,n)}}var gr;(function(T){T[T.ERROR_CORRECTION=0]="ERROR_CORRECTION",T[T.CHARACTER_SET=1]="CHARACTER_SET",T[T.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",T[T.MIN_SIZE=3]="MIN_SIZE",T[T.MAX_SIZE=4]="MAX_SIZE",T[T.MARGIN=5]="MARGIN",T[T.PDF417_COMPACT=6]="PDF417_COMPACT",T[T.PDF417_COMPACTION=7]="PDF417_COMPACTION",T[T.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",T[T.AZTEC_LAYERS=9]="AZTEC_LAYERS",T[T.QR_VERSION=10]="QR_VERSION"})(gr||(gr={}));var tn=gr;class Ol{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Ut(n,Int32Array.from([1])))}buildGenerator(n){const a=this.cachedGenerators;if(n>=a.length){let r=a[a.length-1];const s=this.field;for(let o=a.length;o<=n;o++){const c=r.multiply(new Ut(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));a.push(c),r=c}}return a[n]}encode(n,a){if(a===0)throw new U("No error correction bytes");const r=n.length-a;if(r<=0)throw new U("No data bytes provided");const s=this.buildGenerator(a),o=new Int32Array(r);le.arraycopy(n,0,o,0,r);let c=new Ut(this.field,o);c=c.multiplyByMonomial(a,1);const g=c.divide(s)[1].getCoefficients(),E=a-g.length;for(let S=0;S<E;S++)n[r+S]=0;le.arraycopy(g,0,n,r+E,g.length)}}class Ft{constructor(){}static applyMaskPenaltyRule1(n){return Ft.applyMaskPenaltyRule1Internal(n,!0)+Ft.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let a=0;const r=n.getArray(),s=n.getWidth(),o=n.getHeight();for(let c=0;c<o-1;c++){const f=r[c];for(let g=0;g<s-1;g++){const E=f[g];E===f[g+1]&&E===r[c+1][g]&&E===r[c+1][g+1]&&a++}}return Ft.N2*a}static applyMaskPenaltyRule3(n){let a=0;const r=n.getArray(),s=n.getWidth(),o=n.getHeight();for(let c=0;c<o;c++)for(let f=0;f<s;f++){const g=r[c];f+6<s&&g[f]===1&&g[f+1]===0&&g[f+2]===1&&g[f+3]===1&&g[f+4]===1&&g[f+5]===0&&g[f+6]===1&&(Ft.isWhiteHorizontal(g,f-4,f)||Ft.isWhiteHorizontal(g,f+7,f+11))&&a++,c+6<o&&r[c][f]===1&&r[c+1][f]===0&&r[c+2][f]===1&&r[c+3][f]===1&&r[c+4][f]===1&&r[c+5][f]===0&&r[c+6][f]===1&&(Ft.isWhiteVertical(r,f,c-4,c)||Ft.isWhiteVertical(r,f,c+7,c+11))&&a++}return a*Ft.N3}static isWhiteHorizontal(n,a,r){a=Math.max(a,0),r=Math.min(r,n.length);for(let s=a;s<r;s++)if(n[s]===1)return!1;return!0}static isWhiteVertical(n,a,r,s){r=Math.max(r,0),s=Math.min(s,n.length);for(let o=r;o<s;o++)if(n[o][a]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let a=0;const r=n.getArray(),s=n.getWidth(),o=n.getHeight();for(let g=0;g<o;g++){const E=r[g];for(let S=0;S<s;S++)E[S]===1&&a++}const c=n.getHeight()*n.getWidth();return Math.floor(Math.abs(a*2-c)*10/c)*Ft.N4}static getDataMaskBit(n,a,r){let s,o;switch(n){case 0:s=r+a&1;break;case 1:s=r&1;break;case 2:s=a%3;break;case 3:s=(r+a)%3;break;case 4:s=Math.floor(r/2)+Math.floor(a/3)&1;break;case 5:o=r*a,s=(o&1)+o%3;break;case 6:o=r*a,s=(o&1)+o%3&1;break;case 7:o=r*a,s=o%3+(r+a&1)&1;break;default:throw new U("Invalid mask pattern: "+n)}return s===0}static applyMaskPenaltyRule1Internal(n,a){let r=0;const s=a?n.getHeight():n.getWidth(),o=a?n.getWidth():n.getHeight(),c=n.getArray();for(let f=0;f<s;f++){let g=0,E=-1;for(let S=0;S<o;S++){const v=a?c[f][S]:c[S][f];v===E?g++:(g>=5&&(r+=Ft.N1+(g-5)),g=1,E=v)}g>=5&&(r+=Ft.N1+(g-5))}return r}}Ft.N1=3,Ft.N2=3,Ft.N3=40,Ft.N4=10;class xr{constructor(n,a){this.width=n,this.height=a;const r=new Array(a);for(let s=0;s!==a;s++)r[s]=new Uint8Array(n);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(n,a){return this.bytes[a][n]}getArray(){return this.bytes}setNumber(n,a,r){this.bytes[a][n]=r}setBoolean(n,a,r){this.bytes[a][n]=r?1:0}clear(n){for(const a of this.bytes)Ee.fill(a,n)}equals(n){if(!(n instanceof xr))return!1;const a=n;if(this.width!==a.width||this.height!==a.height)return!1;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r],c=a.bytes[r];for(let f=0,g=this.width;f<g;++f)if(o[f]!==c[f])return!1}return!0}toString(){const n=new qe;for(let a=0,r=this.height;a<r;++a){const s=this.bytes[a];for(let o=0,c=this.width;o<c;++o)switch(s[o]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class Qi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new qe;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<Qi.NUM_MASK_PATTERNS}}Qi.NUM_MASK_PATTERNS=8;class Ct extends w{}Ct.kind="WriterException";class Le{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,a,r,s,o){Le.clearMatrix(o),Le.embedBasicPatterns(r,o),Le.embedTypeInfo(a,s,o),Le.maybeEmbedVersionInfo(r,o),Le.embedDataBits(n,s,o)}static embedBasicPatterns(n,a){Le.embedPositionDetectionPatternsAndSeparators(a),Le.embedDarkDotAtLeftBottomCorner(a),Le.maybeEmbedPositionAdjustmentPatterns(n,a),Le.embedTimingPatterns(a)}static embedTypeInfo(n,a,r){const s=new ve;Le.makeTypeInfoBits(n,a,s);for(let o=0,c=s.getSize();o<c;++o){const f=s.get(s.getSize()-1-o),g=Le.TYPE_INFO_COORDINATES[o],E=g[0],S=g[1];if(r.setBoolean(E,S,f),o<8){const v=r.getWidth()-o-1;r.setBoolean(v,8,f)}else{const N=r.getHeight()-7+(o-8);r.setBoolean(8,N,f)}}}static maybeEmbedVersionInfo(n,a){if(n.getVersionNumber()<7)return;const r=new ve;Le.makeVersionInfoBits(n,r);let s=6*3-1;for(let o=0;o<6;++o)for(let c=0;c<3;++c){const f=r.get(s);s--,a.setBoolean(o,a.getHeight()-11+c,f),a.setBoolean(a.getHeight()-11+c,o,f)}}static embedDataBits(n,a,r){let s=0,o=-1,c=r.getWidth()-1,f=r.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);f>=0&&f<r.getHeight();){for(let g=0;g<2;++g){const E=c-g;if(!Le.isEmpty(r.get(E,f)))continue;let S;s<n.getSize()?(S=n.get(s),++s):S=!1,a!==255&&Ft.getDataMaskBit(a,E,f)&&(S=!S),r.setBoolean(E,f,S)}f+=o}o=-o,f+=o,c-=2}if(s!==n.getSize())throw new Ct("Not all bits consumed: "+s+"/"+n.getSize())}static findMSBSet(n){return 32-ae.numberOfLeadingZeros(n)}static calculateBCHCode(n,a){if(a===0)throw new U("0 polynomial");const r=Le.findMSBSet(a);for(n<<=r-1;Le.findMSBSet(n)>=r;)n^=a<<Le.findMSBSet(n)-r;return n}static makeTypeInfoBits(n,a,r){if(!Qi.isValidMaskPattern(a))throw new Ct("Invalid mask pattern");const s=n.getBits()<<3|a;r.appendBits(s,5);const o=Le.calculateBCHCode(s,Le.TYPE_INFO_POLY);r.appendBits(o,10);const c=new ve;if(c.appendBits(Le.TYPE_INFO_MASK_PATTERN,15),r.xor(c),r.getSize()!==15)throw new Ct("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(n,a){a.appendBits(n.getVersionNumber(),6);const r=Le.calculateBCHCode(n.getVersionNumber(),Le.VERSION_INFO_POLY);if(a.appendBits(r,12),a.getSize()!==18)throw new Ct("should not happen but we got: "+a.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let a=8;a<n.getWidth()-8;++a){const r=(a+1)%2;Le.isEmpty(n.get(a,6))&&n.setNumber(a,6,r),Le.isEmpty(n.get(6,a))&&n.setNumber(6,a,r)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Ct;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,a,r){for(let s=0;s<8;++s){if(!Le.isEmpty(r.get(n+s,a)))throw new Ct;r.setNumber(n+s,a,0)}}static embedVerticalSeparationPattern(n,a,r){for(let s=0;s<7;++s){if(!Le.isEmpty(r.get(n,a+s)))throw new Ct;r.setNumber(n,a+s,0)}}static embedPositionAdjustmentPattern(n,a,r){for(let s=0;s<5;++s){const o=Le.POSITION_ADJUSTMENT_PATTERN[s];for(let c=0;c<5;++c)r.setNumber(n+c,a+s,o[c])}}static embedPositionDetectionPattern(n,a,r){for(let s=0;s<7;++s){const o=Le.POSITION_DETECTION_PATTERN[s];for(let c=0;c<7;++c)r.setNumber(n+c,a+s,o[c])}}static embedPositionDetectionPatternsAndSeparators(n){const a=Le.POSITION_DETECTION_PATTERN[0].length;Le.embedPositionDetectionPattern(0,0,n),Le.embedPositionDetectionPattern(n.getWidth()-a,0,n),Le.embedPositionDetectionPattern(0,n.getWidth()-a,n);const r=8;Le.embedHorizontalSeparationPattern(0,r-1,n),Le.embedHorizontalSeparationPattern(n.getWidth()-r,r-1,n),Le.embedHorizontalSeparationPattern(0,n.getWidth()-r,n);const s=7;Le.embedVerticalSeparationPattern(s,0,n),Le.embedVerticalSeparationPattern(n.getHeight()-s-1,0,n),Le.embedVerticalSeparationPattern(s,n.getHeight()-s,n)}static maybeEmbedPositionAdjustmentPatterns(n,a){if(n.getVersionNumber()<2)return;const r=n.getVersionNumber()-1,s=Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,c=s.length;o!==c;o++){const f=s[o];if(f>=0)for(let g=0;g!==c;g++){const E=s[g];E>=0&&Le.isEmpty(a.get(E,f))&&Le.embedPositionAdjustmentPattern(E-2,f-2,a)}}}}Le.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Le.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Le.VERSION_INFO_POLY=7973,Le.TYPE_INFO_POLY=1335,Le.TYPE_INFO_MASK_PATTERN=21522;class eu{constructor(n,a){this.dataBytes=n,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class It{constructor(){}static calculateMaskPenalty(n){return Ft.applyMaskPenaltyRule1(n)+Ft.applyMaskPenaltyRule2(n)+Ft.applyMaskPenaltyRule3(n)+Ft.applyMaskPenaltyRule4(n)}static encode(n,a,r=null){let s=It.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(tn.CHARACTER_SET)!==void 0;o&&(s=r.get(tn.CHARACTER_SET).toString());const c=this.chooseMode(n,s),f=new ve;if(c===_e.BYTE&&(o||It.DEFAULT_BYTE_MODE_ENCODING!==s)){const he=X.getCharacterSetECIByName(s);he!==void 0&&this.appendECI(he,f)}this.appendModeInfo(c,f);const g=new ve;this.appendBytes(n,c,g,s);let E;if(r!==null&&r.get(tn.QR_VERSION)!==void 0){const he=Number.parseInt(r.get(tn.QR_VERSION).toString(),10);E=Ne.getVersionForNumber(he);const se=this.calculateBitsNeeded(c,f,g,E);if(!this.willFit(se,E,a))throw new Ct("Data too big for requested version")}else E=this.recommendVersion(a,c,f,g);const S=new ve;S.appendBitArray(f);const v=c===_e.BYTE?g.getSizeInBytes():n.length;this.appendLengthInfo(v,E,c,S),S.appendBitArray(g);const N=E.getECBlocksForLevel(a),D=E.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(D,S);const k=this.interleaveWithECBytes(S,E.getTotalCodewords(),D,N.getNumBlocks()),z=new Qi;z.setECLevel(a),z.setMode(c),z.setVersion(E);const j=E.getDimensionForVersion(),Q=new xr(j,j),ce=this.chooseMaskPattern(k,a,E,Q);return z.setMaskPattern(ce),Le.buildMatrix(k,a,E,ce,Q),z.setMatrix(Q),z}static recommendVersion(n,a,r,s){const o=this.calculateBitsNeeded(a,r,s,Ne.getVersionForNumber(1)),c=this.chooseVersion(o,n),f=this.calculateBitsNeeded(a,r,s,c);return this.chooseVersion(f,n)}static calculateBitsNeeded(n,a,r,s){return a.getSize()+n.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(n){return n<It.ALPHANUMERIC_TABLE.length?It.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,a=null){if(X.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(n))return _e.KANJI;let r=!1,s=!1;for(let o=0,c=n.length;o<c;++o){const f=n.charAt(o);if(It.isDigit(f))r=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)s=!0;else return _e.BYTE}return s?_e.ALPHANUMERIC:r?_e.NUMERIC:_e.BYTE}static isOnlyDoubleByteKanji(n){let a;try{a=mt.encode(n,X.SJIS)}catch{return!1}const r=a.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const o=a[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(n,a,r,s){let o=Number.MAX_SAFE_INTEGER,c=-1;for(let f=0;f<Qi.NUM_MASK_PATTERNS;f++){Le.buildMatrix(n,a,r,f,s);let g=this.calculateMaskPenalty(s);g<o&&(o=g,c=f)}return c}static chooseVersion(n,a){for(let r=1;r<=40;r++){const s=Ne.getVersionForNumber(r);if(It.willFit(n,s,a))return s}throw new Ct("Data too big")}static willFit(n,a,r){const s=a.getTotalCodewords(),c=a.getECBlocksForLevel(r).getTotalECCodewords(),f=s-c,g=(n+7)/8;return f>=g}static terminateBits(n,a){const r=n*8;if(a.getSize()>r)throw new Ct("data bits cannot fit in the QR Code"+a.getSize()+" > "+r);for(let c=0;c<4&&a.getSize()<r;++c)a.appendBit(!1);const s=a.getSize()&7;if(s>0)for(let c=s;c<8;c++)a.appendBit(!1);const o=n-a.getSizeInBytes();for(let c=0;c<o;++c)a.appendBits((c&1)===0?236:17,8);if(a.getSize()!==r)throw new Ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,a,r,s,o,c){if(s>=r)throw new Ct("Block ID too large");const f=n%r,g=r-f,E=Math.floor(n/r),S=E+1,v=Math.floor(a/r),N=v+1,D=E-v,k=S-N;if(D!==k)throw new Ct("EC bytes mismatch");if(r!==g+f)throw new Ct("RS blocks mismatch");if(n!==(v+D)*g+(N+k)*f)throw new Ct("Total bytes mismatch");s<g?(o[0]=v,c[0]=D):(o[0]=N,c[0]=k)}static interleaveWithECBytes(n,a,r,s){if(n.getSizeInBytes()!==r)throw new Ct("Number of bits and data bytes does not match");let o=0,c=0,f=0;const g=new Array;for(let S=0;S<s;++S){const v=new Int32Array(1),N=new Int32Array(1);It.getNumDataBytesAndNumECBytesForBlockID(a,r,s,S,v,N);const D=v[0],k=new Uint8Array(D);n.toBytes(8*o,k,0,D);const z=It.generateECBytes(k,N[0]);g.push(new eu(k,z)),c=Math.max(c,D),f=Math.max(f,z.length),o+=v[0]}if(r!==o)throw new Ct("Data bytes does not match offset");const E=new ve;for(let S=0;S<c;++S)for(const v of g){const N=v.getDataBytes();S<N.length&&E.appendBits(N[S],8)}for(let S=0;S<f;++S)for(const v of g){const N=v.getErrorCorrectionBytes();S<N.length&&E.appendBits(N[S],8)}if(a!==E.getSizeInBytes())throw new Ct("Interleaving error: "+a+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(n,a){const r=n.length,s=new Int32Array(r+a);for(let c=0;c<r;c++)s[c]=n[c]&255;new Ol(Ze.QR_CODE_FIELD_256).encode(s,a);const o=new Uint8Array(a);for(let c=0;c<a;c++)o[c]=s[r+c];return o}static appendModeInfo(n,a){a.appendBits(n.getBits(),4)}static appendLengthInfo(n,a,r,s){const o=r.getCharacterCountBits(a);if(n>=1<<o)throw new Ct(n+" is bigger than "+((1<<o)-1));s.appendBits(n,o)}static appendBytes(n,a,r,s){switch(a){case _e.NUMERIC:It.appendNumericBytes(n,r);break;case _e.ALPHANUMERIC:It.appendAlphanumericBytes(n,r);break;case _e.BYTE:It.append8BitBytes(n,r,s);break;case _e.KANJI:It.appendKanjiBytes(n,r);break;default:throw new Ct("Invalid mode: "+a)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const a=It.getDigit(n);return a>=0&&a<=9}static appendNumericBytes(n,a){const r=n.length;let s=0;for(;s<r;){const o=It.getDigit(n.charAt(s));if(s+2<r){const c=It.getDigit(n.charAt(s+1)),f=It.getDigit(n.charAt(s+2));a.appendBits(o*100+c*10+f,10),s+=3}else if(s+1<r){const c=It.getDigit(n.charAt(s+1));a.appendBits(o*10+c,7),s+=2}else a.appendBits(o,4),s++}}static appendAlphanumericBytes(n,a){const r=n.length;let s=0;for(;s<r;){const o=It.getAlphanumericCode(n.charCodeAt(s));if(o===-1)throw new Ct;if(s+1<r){const c=It.getAlphanumericCode(n.charCodeAt(s+1));if(c===-1)throw new Ct;a.appendBits(o*45+c,11),s+=2}else a.appendBits(o,6),s++}}static append8BitBytes(n,a,r){let s;try{s=mt.encode(n,r)}catch(o){throw new Ct(o)}for(let o=0,c=s.length;o!==c;o++){const f=s[o];a.appendBits(f,8)}}static appendKanjiBytes(n,a){let r;try{r=mt.encode(n,X.SJIS)}catch(o){throw new Ct(o)}const s=r.length;for(let o=0;o<s;o+=2){const c=r[o]&255,f=r[o+1]&255,g=c<<8&4294967295|f;let E=-1;if(g>=33088&&g<=40956?E=g-33088:g>=57408&&g<=60351&&(E=g-49472),E===-1)throw new Ct("Invalid byte sequence");const S=(E>>8)*192+(E&255);a.appendBits(S,13)}}static appendECI(n,a){a.appendBits(_e.ECI.getBits(),4),a.appendBits(n.getValue(),8)}}It.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),It.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class Wi{write(n,a,r,s=null){if(n.length===0)throw new U("Found empty contents");if(a<0||r<0)throw new U("Requested dimensions are too small: "+a+"x"+r);let o=Qe.L,c=Wi.QUIET_ZONE_SIZE;s!==null&&(s.get(tn.ERROR_CORRECTION)!==void 0&&(o=Qe.fromString(s.get(tn.ERROR_CORRECTION).toString())),s.get(tn.MARGIN)!==void 0&&(c=Number.parseInt(s.get(tn.MARGIN).toString(),10)));const f=It.encode(n,o,s);return this.renderResult(f,a,r,c)}writeToDom(n,a,r,s,o=null){typeof n=="string"&&(n=document.querySelector(n));const c=this.write(a,r,s,o);n&&n.appendChild(c)}renderResult(n,a,r,s){const o=n.getMatrix();if(o===null)throw new Ln;const c=o.getWidth(),f=o.getHeight(),g=c+s*2,E=f+s*2,S=Math.max(a,g),v=Math.max(r,E),N=Math.min(Math.floor(S/g),Math.floor(v/E)),D=Math.floor((S-c*N)/2),k=Math.floor((v-f*N)/2),z=this.createSVGElement(S,v);for(let j=0,Q=k;j<f;j++,Q+=N)for(let ce=0,he=D;ce<c;ce++,he+=N)if(o.get(ce,j)===1){const se=this.createSvgRectElement(he,Q,N,N);z.appendChild(se)}return z}createSVGElement(n,a){const r=document.createElementNS(Wi.SVG_NS,"svg");return r.setAttributeNS(null,"height",n.toString()),r.setAttributeNS(null,"width",a.toString()),r}createSvgRectElement(n,a,r,s){const o=document.createElementNS(Wi.SVG_NS,"rect");return o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",a.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}Wi.QUIET_ZONE_SIZE=4,Wi.SVG_NS="http://www.w3.org/2000/svg";class Da{encode(n,a,r,s,o){if(n.length===0)throw new U("Found empty contents");if(a!==Ae.QR_CODE)throw new U("Can only encode QR_CODE, but got "+a);if(r<0||s<0)throw new U(`Requested dimensions are too small: ${r}x${s}`);let c=Qe.L,f=Da.QUIET_ZONE_SIZE;o!==null&&(o.get(tn.ERROR_CORRECTION)!==void 0&&(c=Qe.fromString(o.get(tn.ERROR_CORRECTION).toString())),o.get(tn.MARGIN)!==void 0&&(f=Number.parseInt(o.get(tn.MARGIN).toString(),10)));const g=It.encode(n,c,o);return Da.renderResult(g,r,s,f)}static renderResult(n,a,r,s){const o=n.getMatrix();if(o===null)throw new Ln;const c=o.getWidth(),f=o.getHeight(),g=c+s*2,E=f+s*2,S=Math.max(a,g),v=Math.max(r,E),N=Math.min(Math.floor(S/g),Math.floor(v/E)),D=Math.floor((S-c*N)/2),k=Math.floor((v-f*N)/2),z=new bt(S,v);for(let j=0,Q=k;j<f;j++,Q+=N)for(let ce=0,he=D;ce<c;ce++,he+=N)o.get(ce,j)===1&&z.setRegion(he,Q,N,N);return z}}Da.QUIET_ZONE_SIZE=4;class tu{encode(n,a,r,s,o){let c;switch(a){case Ae.QR_CODE:c=new Da;break;default:throw new U("No encoder available for format "+a)}return c.encode(n,a,r,s,o)}}class si extends Be{constructor(n,a,r,s,o,c,f,g){if(super(c,f),this.yuvData=n,this.dataWidth=a,this.dataHeight=r,this.left=s,this.top=o,s+c>a||o+f>r)throw new U("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(c,f)}getRow(n,a){if(n<0||n>=this.getHeight())throw new U("Requested row is outside the image: "+n);const r=this.getWidth();(a==null||a.length<r)&&(a=new Uint8ClampedArray(r));const s=(n+this.top)*this.dataWidth+this.left;return le.arraycopy(this.yuvData,s,a,0,r),a}getMatrix(){const n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.yuvData;const r=n*a,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return le.arraycopy(this.yuvData,o,s,0,r),s;for(let c=0;c<a;c++){const f=c*n;le.arraycopy(this.yuvData,o,s,f,n),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(n,a,r,s){return new si(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+a,r,s,!1)}renderThumbnail(){const n=this.getWidth()/si.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/si.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(n*a),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let c=0;c<a;c++){const f=c*n;for(let g=0;g<n;g++){const E=s[o+g*si.THUMBNAIL_SCALE_FACTOR]&255;r[f+g]=4278190080|E*65793}o+=this.dataWidth*si.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/si.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/si.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,a){const r=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<a;s++,o+=this.dataWidth){const c=o+n/2;for(let f=o,g=o+n-1;f<c;f++,g--){const E=r[f];r[f]=r[g],r[g]=E}}}invert(){return new st(this)}}si.THUMBNAIL_SCALE_FACTOR=2;class mr extends Be{constructor(n,a,r,s,o,c,f){if(super(a,r),this.dataWidth=s,this.dataHeight=o,this.left=c,this.top=f,n.BYTES_PER_ELEMENT===4){const g=a*r,E=new Uint8ClampedArray(g);for(let S=0;S<g;S++){const v=n[S],N=v>>16&255,D=v>>7&510,k=v&255;E[S]=(N+D+k)/4&255}this.luminances=E}else this.luminances=n;if(s===void 0&&(this.dataWidth=a),o===void 0&&(this.dataHeight=r),c===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+r>this.dataHeight)throw new U("Crop rectangle does not fit within image data.")}getRow(n,a){if(n<0||n>=this.getHeight())throw new U("Requested row is outside the image: "+n);const r=this.getWidth();(a==null||a.length<r)&&(a=new Uint8ClampedArray(r));const s=(n+this.top)*this.dataWidth+this.left;return le.arraycopy(this.luminances,s,a,0,r),a}getMatrix(){const n=this.getWidth(),a=this.getHeight();if(n===this.dataWidth&&a===this.dataHeight)return this.luminances;const r=n*a,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return le.arraycopy(this.luminances,o,s,0,r),s;for(let c=0;c<a;c++){const f=c*n;le.arraycopy(this.luminances,o,s,f,n),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(n,a,r,s){return new mr(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+n,this.top+a)}invert(){return new st(this)}}class Ra extends X{static forName(n){return this.getCharacterSetECIByName(n)}}class _l{}_l.ISO_8859_1=X.ISO8859_1;class Dl{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class Rl{static singletonList(n){return[n]}static min(n,a){return n.sort(a)[0]}}class Bs{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Ki extends Bs{constructor(n,a,r){super(n),this.value=a,this.bitCount=r}appendTo(n,a){n.appendBits(this.value,this.bitCount)}add(n,a){return new Ki(this,n,a)}addBinaryShift(n,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ki(this,n,a)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+ae.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class Zr extends Ki{constructor(n,a,r){super(n,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=r}appendTo(n,a){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):r===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(a[this.binaryShiftStart+r],8)}addBinaryShift(n,a){return new Zr(this,n,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ba(T,n,a){return new Zr(T,n,a)}function Ar(T,n,a){return new Ki(T,n,a)}const nu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ki=0,Er=1,zn=2,La=3,Dn=4,iu=new Ki(null,0,0),Ua=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ls(T){for(let n of T)Ee.fill(n,-1);return T[ki][Dn]=0,T[Er][Dn]=0,T[Er][ki]=28,T[La][Dn]=0,T[zn][Dn]=0,T[zn][ki]=15,T}const Bl=Ls(Ee.createInt32Array(6,6));class Gn{constructor(n,a,r,s){this.token=n,this.mode=a,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,a){let r=this.bitCount,s=this.token;if(n!==this.mode){let c=Ua[this.mode][n];s=Ar(s,c&65535,c>>16),r+=c>>16}let o=n===zn?4:5;return s=Ar(s,a,o),new Gn(s,n,0,r+o)}shiftAndAppend(n,a){let r=this.token,s=this.mode===zn?4:5;return r=Ar(r,Bl[this.mode][n],s),r=Ar(r,a,5),new Gn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(n){let a=this.token,r=this.mode,s=this.bitCount;if(this.mode===Dn||this.mode===zn){let f=Ua[r][ki];a=Ar(a,f&65535,f>>16),s+=f>>16,r=ki}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Gn(a,r,this.binaryShiftByteCount+1,s+o);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(n+1)),c}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Ba(a,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new Gn(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let a=this.bitCount+(Ua[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?a+=Gn.calculateBinaryShiftCost(n)-Gn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(a+=10),a<=n.bitCount}toBitArray(n){let a=[];for(let s=this.endBinaryShift(n.length).token;s!==null;s=s.getPrevious())a.unshift(s);let r=new ve;for(const s of a)s.appendTo(r,n);return r}toString(){return Oe.format("%s bits=%d bytes=%d",nu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}Gn.INITIAL_STATE=new Gn(iu,ki,0,0);function Ll(T){const n=Oe.getCharCode(" "),a=Oe.getCharCode("."),r=Oe.getCharCode(",");T[ki][n]=1;const s=Oe.getCharCode("Z"),o=Oe.getCharCode("A");for(let N=o;N<=s;N++)T[ki][N]=N-o+2;T[Er][n]=1;const c=Oe.getCharCode("z"),f=Oe.getCharCode("a");for(let N=f;N<=c;N++)T[Er][N]=N-f+2;T[zn][n]=1;const g=Oe.getCharCode("9"),E=Oe.getCharCode("0");for(let N=E;N<=g;N++)T[zn][N]=N-E+2;T[zn][r]=12,T[zn][a]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<S.length;N++)T[La][Oe.getCharCode(S[N])]=N;const v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<v.length;N++)Oe.getCharCode(v[N])>0&&(T[Dn][Oe.getCharCode(v[N])]=N);return T}const qr=Ll(Ee.createInt32Array(5,256));class ka{constructor(n){this.text=n}encode(){const n=Oe.getCharCode(" "),a=Oe.getCharCode(`
`);let r=Rl.singletonList(Gn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let c,f=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case Oe.getCharCode("\r"):c=f===a?2:0;break;case Oe.getCharCode("."):c=f===n?3:0;break;case Oe.getCharCode(","):c=f===n?4:0;break;case Oe.getCharCode(":"):c=f===n?5:0;break;default:c=0}c>0?(r=ka.updateStateListForPair(r,o,c),o++):r=this.updateStateListForChar(r,o)}return Rl.min(r,(o,c)=>o.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,a){const r=[];for(let s of n)this.updateStateForChar(s,a,r);return ka.simplifyStates(r)}updateStateForChar(n,a,r){let s=this.text[a]&255,o=qr[n.getMode()][s]>0,c=null;for(let f=0;f<=Dn;f++){let g=qr[f][s];if(g>0){if(c==null&&(c=n.endBinaryShift(a)),!o||f===n.getMode()||f===zn){const E=c.latchAndAppend(f,g);r.push(E)}if(!o&&Bl[n.getMode()][f]>=0){const E=c.shiftAndAppend(f,g);r.push(E)}}}if(n.getBinaryShiftByteCount()>0||qr[n.getMode()][s]===0){let f=n.addBinaryShiftChar(a);r.push(f)}}static updateStateListForPair(n,a,r){const s=[];for(let o of n)this.updateStateForPair(o,a,r,s);return this.simplifyStates(s)}static updateStateForPair(n,a,r,s){let o=n.endBinaryShift(a);if(s.push(o.latchAndAppend(Dn,r)),n.getMode()!==Dn&&s.push(o.shiftAndAppend(Dn,r)),r===3||r===4){let c=o.latchAndAppend(zn,16-r).latchAndAppend(zn,1);s.push(c)}if(n.getBinaryShiftByteCount()>0){let c=n.addBinaryShiftChar(a).addBinaryShiftChar(a+1);s.push(c)}}static simplifyStates(n){let a=[];for(const r of n){let s=!0;for(const o of a){if(o.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(o)&&(a=a.filter(c=>c!==o))}s&&a.push(r)}return a}}class lt{constructor(){}static encodeBytes(n){return lt.encode(n,lt.DEFAULT_EC_PERCENT,lt.DEFAULT_AZTEC_LAYERS)}static encode(n,a,r){let s=new ka(n).encode(),o=ae.truncDivision(s.getSize()*a,100)+11,c=s.getSize()+o,f,g,E,S,v;if(r!==lt.DEFAULT_AZTEC_LAYERS){if(f=r<0,g=Math.abs(r),g>(f?lt.MAX_NB_BITS_COMPACT:lt.MAX_NB_BITS))throw new U(Oe.format("Illegal value %s for layers",r));E=lt.totalBitsInLayer(g,f),S=lt.WORD_SIZE[g];let se=E-E%S;if(v=lt.stuffBits(s,S),v.getSize()+o>se)throw new U("Data to large for user specified layer");if(f&&v.getSize()>S*64)throw new U("Data to large for user specified layer")}else{S=0,v=null;for(let se=0;;se++){if(se>lt.MAX_NB_BITS)throw new U("Data too large for an Aztec code");if(f=se<=3,g=f?se+1:se,E=lt.totalBitsInLayer(g,f),c>E)continue;(v==null||S!==lt.WORD_SIZE[g])&&(S=lt.WORD_SIZE[g],v=lt.stuffBits(s,S));let We=E-E%S;if(!(f&&v.getSize()>S*64)&&v.getSize()+o<=We)break}}let N=lt.generateCheckWords(v,E,S),D=v.getSize()/S,k=lt.generateModeMessage(f,g,D),z=(f?11:14)+g*4,j=new Int32Array(z),Q;if(f){Q=z;for(let se=0;se<j.length;se++)j[se]=se}else{Q=z+1+2*ae.truncDivision(ae.truncDivision(z,2)-1,15);let se=ae.truncDivision(z,2),We=ae.truncDivision(Q,2);for(let ze=0;ze<se;ze++){let bn=ze+ae.truncDivision(ze,15);j[se-ze-1]=We-bn-1,j[se+ze]=We+bn+1}}let ce=new bt(Q);for(let se=0,We=0;se<g;se++){let ze=(g-se)*4+(f?9:12);for(let bn=0;bn<ze;bn++){let Vn=bn*2;for(let Tn=0;Tn<2;Tn++)N.get(We+Vn+Tn)&&ce.set(j[se*2+Tn],j[se*2+bn]),N.get(We+ze*2+Vn+Tn)&&ce.set(j[se*2+bn],j[z-1-se*2-Tn]),N.get(We+ze*4+Vn+Tn)&&ce.set(j[z-1-se*2-Tn],j[z-1-se*2-bn]),N.get(We+ze*6+Vn+Tn)&&ce.set(j[z-1-se*2-bn],j[se*2+Tn])}We+=ze*8}if(lt.drawModeMessage(ce,f,Q,k),f)lt.drawBullsEye(ce,ae.truncDivision(Q,2),5);else{lt.drawBullsEye(ce,ae.truncDivision(Q,2),7);for(let se=0,We=0;se<ae.truncDivision(z,2)-1;se+=15,We+=16)for(let ze=ae.truncDivision(Q,2)&1;ze<Q;ze+=2)ce.set(ae.truncDivision(Q,2)-We,ze),ce.set(ae.truncDivision(Q,2)+We,ze),ce.set(ze,ae.truncDivision(Q,2)-We),ce.set(ze,ae.truncDivision(Q,2)+We)}let he=new Dl;return he.setCompact(f),he.setSize(Q),he.setLayers(g),he.setCodeWords(D),he.setMatrix(ce),he}static drawBullsEye(n,a,r){for(let s=0;s<r;s+=2)for(let o=a-s;o<=a+s;o++)n.set(o,a-s),n.set(o,a+s),n.set(a-s,o),n.set(a+s,o);n.set(a-r,a-r),n.set(a-r+1,a-r),n.set(a-r,a-r+1),n.set(a+r,a-r),n.set(a+r,a-r+1),n.set(a+r,a+r-1)}static generateModeMessage(n,a,r){let s=new ve;return n?(s.appendBits(a-1,2),s.appendBits(r-1,6),s=lt.generateCheckWords(s,28,4)):(s.appendBits(a-1,5),s.appendBits(r-1,11),s=lt.generateCheckWords(s,40,4)),s}static drawModeMessage(n,a,r,s){let o=ae.truncDivision(r,2);if(a)for(let c=0;c<7;c++){let f=o-3+c;s.get(c)&&n.set(f,o-5),s.get(c+7)&&n.set(o+5,f),s.get(20-c)&&n.set(f,o+5),s.get(27-c)&&n.set(o-5,f)}else for(let c=0;c<10;c++){let f=o-5+c+ae.truncDivision(c,5);s.get(c)&&n.set(f,o-7),s.get(c+10)&&n.set(o+7,f),s.get(29-c)&&n.set(f,o+7),s.get(39-c)&&n.set(o-7,f)}}static generateCheckWords(n,a,r){let s=n.getSize()/r,o=new Ol(lt.getGF(r)),c=ae.truncDivision(a,r),f=lt.bitsToWords(n,r,c);o.encode(f,c-s);let g=a%r,E=new ve;E.appendBits(0,g);for(const S of Array.from(f))E.appendBits(S,r);return E}static bitsToWords(n,a,r){let s=new Int32Array(r),o,c;for(o=0,c=n.getSize()/a;o<c;o++){let f=0;for(let g=0;g<a;g++)f|=n.get(o*a+g)?1<<a-g-1:0;s[o]=f}return s}static getGF(n){switch(n){case 4:return Ze.AZTEC_PARAM;case 6:return Ze.AZTEC_DATA_6;case 8:return Ze.AZTEC_DATA_8;case 10:return Ze.AZTEC_DATA_10;case 12:return Ze.AZTEC_DATA_12;default:throw new U("Unsupported word size "+n)}}static stuffBits(n,a){let r=new ve,s=n.getSize(),o=(1<<a)-2;for(let c=0;c<s;c+=a){let f=0;for(let g=0;g<a;g++)(c+g>=s||n.get(c+g))&&(f|=1<<a-1-g);(f&o)===o?(r.appendBits(f&o,a),c--):(f&o)===0?(r.appendBits(f|1,a),c--):r.appendBits(f,a)}return r}static totalBitsInLayer(n,a){return((a?88:112)+16*n)*n}}lt.DEFAULT_EC_PERCENT=33,lt.DEFAULT_AZTEC_LAYERS=0,lt.MAX_NB_BITS=32,lt.MAX_NB_BITS_COMPACT=4,lt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Qr{encode(n,a,r,s){return this.encodeWithHints(n,a,r,s,null)}encodeWithHints(n,a,r,s,o){let c=_l.ISO_8859_1,f=lt.DEFAULT_EC_PERCENT,g=lt.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(tn.CHARACTER_SET)&&(c=Ra.forName(o.get(tn.CHARACTER_SET).toString())),o.has(tn.ERROR_CORRECTION)&&(f=ae.parseInt(o.get(tn.ERROR_CORRECTION).toString())),o.has(tn.AZTEC_LAYERS)&&(g=ae.parseInt(o.get(tn.AZTEC_LAYERS).toString()))),Qr.encodeLayers(n,a,r,s,c,f,g)}static encodeLayers(n,a,r,s,o,c,f){if(a!==Ae.AZTEC)throw new U("Can only encode AZTEC, but got "+a);let g=lt.encode(Oe.getBytes(n,o),c,f);return Qr.renderResult(g,r,s)}static renderResult(n,a,r){let s=n.getMatrix();if(s==null)throw new Ln;let o=s.getWidth(),c=s.getHeight(),f=Math.max(a,o),g=Math.max(r,c),E=Math.min(f/o,g/c),S=(f-o*E)/2,v=(g-c*E)/2,N=new bt(f,g);for(let D=0,k=v;D<c;D++,k+=E)for(let z=0,j=S;z<o;z++,j+=E)s.get(z,D)&&N.setRegion(j,k,E,E);return N}}x.AbstractExpandedDecoder=mn,x.ArgumentException=R,x.ArithmeticException=vi,x.AztecCode=Dl,x.AztecCodeReader=kr,x.AztecCodeWriter=Qr,x.AztecDecoder=xt,x.AztecDetector=Tl,x.AztecDetectorResult=Ms,x.AztecEncoder=lt,x.AztecHighLevelEncoder=ka,x.AztecPoint=Cn,x.BarcodeFormat=Ae,x.Binarizer=te,x.BinaryBitmap=K,x.BitArray=ve,x.BitMatrix=bt,x.BitSource=Qn,x.BrowserAztecCodeReader=Go,x.BrowserBarcodeReader=Xo,x.BrowserCodeReader=Me,x.BrowserDatamatrixCodeReader=Yr,x.BrowserMultiFormatReader=Ko,x.BrowserPDF417Reader=Jo,x.BrowserQRCodeReader=$o,x.BrowserQRCodeSvgWriter=Wi,x.CharacterSetECI=X,x.ChecksumException=ee,x.Code128Reader=xe,x.Code39Reader=Jt,x.DataMatrixDecodedBitStreamParser=yi,x.DataMatrixReader=pi,x.DecodeHintType=ke,x.DecoderResult=_t,x.DefaultGridSampler=bl,x.DetectorResult=Ur,x.EAN13Reader=ri,x.EncodeHintType=tn,x.Exception=w,x.FormatException=fe,x.GenericGF=Ze,x.GenericGFPoly=Ut,x.GlobalHistogramBinarizer=me,x.GridSampler=Sl,x.GridSamplerInstance=Zn,x.HTMLCanvasElementLuminanceSource=F,x.HybridBinarizer=ye,x.ITFReader=it,x.IllegalArgumentException=U,x.IllegalStateException=Ln,x.InvertedLuminanceSource=st,x.LuminanceSource=Be,x.MathUtils=et,x.MultiFormatOneDReader=On,x.MultiFormatReader=Rs,x.MultiFormatWriter=tu,x.NotFoundException=W,x.OneDReader=Dt,x.PDF417DecodedBitStreamParser=q,x.PDF417DecoderErrorCorrection=hr,x.PDF417Reader=hn,x.PDF417ResultMetadata=Gr,x.PerspectiveTransform=Yn,x.PlanarYUVLuminanceSource=si,x.QRCodeByteMatrix=xr,x.QRCodeDataMask=Un,x.QRCodeDecodedBitStreamParser=Mt,x.QRCodeDecoderErrorCorrectionLevel=Qe,x.QRCodeDecoderFormatInformation=rn,x.QRCodeEncoder=It,x.QRCodeEncoderQRCode=Qi,x.QRCodeMaskUtil=Ft,x.QRCodeMatrixUtil=Le,x.QRCodeMode=_e,x.QRCodeReader=li,x.QRCodeVersion=Ne,x.QRCodeWriter=Da,x.RGBLuminanceSource=mr,x.RSS14Reader=pt,x.RSSExpandedReader=re,x.ReaderException=dr,x.ReedSolomonDecoder=ai,x.ReedSolomonEncoder=Ol,x.ReedSolomonException=Ei,x.Result=pe,x.ResultMetadataType=He,x.ResultPoint=be,x.StringUtils=Oe,x.UnsupportedOperationException=Pe,x.VideoInputDevice=de,x.WhiteRectangleDetector=an,x.WriterException=Ct,x.ZXingArrays=Ee,x.ZXingCharset=Ra,x.ZXingInteger=ae,x.ZXingStandardCharsets=_l,x.ZXingStringBuilder=qe,x.ZXingStringEncoding=mt,x.ZXingSystem=le,x.createAbstractExpandedDecoder=Zi,Object.defineProperty(x,"__esModule",{value:!0})})}(Ss,Ss.exports)),Ss.exports}var zt=Wg();const Kg=f2(zt),Jg=c2({__proto__:null,default:Kg},[zt]);var gh=function(){function d(m,x,y){if(this.formatMap=new Map([[we.QR_CODE,zt.BarcodeFormat.QR_CODE],[we.AZTEC,zt.BarcodeFormat.AZTEC],[we.CODABAR,zt.BarcodeFormat.CODABAR],[we.CODE_39,zt.BarcodeFormat.CODE_39],[we.CODE_93,zt.BarcodeFormat.CODE_93],[we.CODE_128,zt.BarcodeFormat.CODE_128],[we.DATA_MATRIX,zt.BarcodeFormat.DATA_MATRIX],[we.MAXICODE,zt.BarcodeFormat.MAXICODE],[we.ITF,zt.BarcodeFormat.ITF],[we.EAN_13,zt.BarcodeFormat.EAN_13],[we.EAN_8,zt.BarcodeFormat.EAN_8],[we.PDF_417,zt.BarcodeFormat.PDF_417],[we.RSS_14,zt.BarcodeFormat.RSS_14],[we.RSS_EXPANDED,zt.BarcodeFormat.RSS_EXPANDED],[we.UPC_A,zt.BarcodeFormat.UPC_A],[we.UPC_E,zt.BarcodeFormat.UPC_E],[we.UPC_EAN_EXTENSION,zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Jg)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=x,this.logger=y;var C=this.createZXingFormats(m),p=new Map;p.set(zt.DecodeHintType.POSSIBLE_FORMATS,C),p.set(zt.DecodeHintType.TRY_HARDER,!1),this.hints=p}return d.prototype.decodeAsync=function(m){var x=this;return new Promise(function(y,C){try{y(x.decode(m))}catch(p){C(p)}})},d.prototype.decode=function(m){var x=new zt.MultiFormatReader(this.verbose,this.hints),y=new zt.HTMLCanvasElementLuminanceSource(m),C=new zt.BinaryBitmap(new zt.HybridBinarizer(y)),p=x.decode(C);return{text:p.text,format:jh.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},d.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(x,y,C){m.set(x,y)}),m},d.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},d.prototype.createZXingFormats=function(m){for(var x=[],y=0,C=m;y<C.length;y++){var p=C[y];this.formatMap.has(p)?x.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return x},d.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},d}(),$g=function(d,m,x,y){function C(p){return p instanceof x?p:new x(function(I){I(p)})}return new(x||(x=Promise))(function(p,I){function B(R){try{w(y.next(R))}catch(U){I(U)}}function O(R){try{w(y.throw(R))}catch(U){I(U)}}function w(R){R.done?p(R.value):C(R.value).then(B,O)}w((y=y.apply(d,m||[])).next())})},ex=function(d,m){var x={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},y,C,p,I;return I={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function B(w){return function(R){return O([w,R])}}function O(w){if(y)throw new TypeError("Generator is already executing.");for(;I&&(I=0,w[0]&&(x=0)),x;)try{if(y=1,C&&(p=w[0]&2?C.return:w[0]?C.throw||((p=C.return)&&p.call(C),0):C.next)&&!(p=p.call(C,w[1])).done)return p;switch(C=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return x.label++,{value:w[1],done:!1};case 5:x.label++,C=w[1],w=[0];continue;case 7:w=x.ops.pop(),x.trys.pop();continue;default:if(p=x.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){x=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){x.label=w[1];break}if(w[0]===6&&x.label<p[1]){x.label=p[1],p=w;break}if(p&&x.label<p[2]){x.label=p[2],x.ops.push(w);break}p[2]&&x.ops.pop(),x.trys.pop();continue}w=m.call(d,x)}catch(R){w=[6,R],C=0}finally{y=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},xh=function(){function d(m,x,y){if(this.formatMap=new Map([[we.QR_CODE,"qr_code"],[we.AZTEC,"aztec"],[we.CODABAR,"codabar"],[we.CODE_39,"code_39"],[we.CODE_93,"code_93"],[we.CODE_128,"code_128"],[we.DATA_MATRIX,"data_matrix"],[we.ITF,"itf"],[we.EAN_13,"ean_13"],[we.EAN_8,"ean_8"],[we.PDF_417,"pdf417"],[we.UPC_A,"upc_a"],[we.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!d.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=x,this.logger=y;var C=this.createBarcodeDetectorFormats(m);if(this.detector=new BarcodeDetector(C),!this.detector)throw"BarcodeDetector detector not supported"}return d.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var m=new BarcodeDetector({formats:["qr_code"]});return typeof m<"u"},d.prototype.decodeAsync=function(m){return $g(this,void 0,void 0,function(){var x,y;return ex(this,function(C){switch(C.label){case 0:return[4,this.detector.detect(m)];case 1:if(x=C.sent(),!x||x.length===0)throw"No barcode or QR code detected.";return y=this.selectLargestBarcode(x),[2,{text:y.rawValue,format:jh.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}]}})})},d.prototype.selectLargestBarcode=function(m){for(var x=null,y=0,C=0,p=m;C<p.length;C++){var I=p[C],B=I.boundingBox.width*I.boundingBox.height;B>y&&(y=B,x=I)}if(!x)throw"No largest barcode found";return x},d.prototype.createBarcodeDetectorFormats=function(m){for(var x=[],y=0,C=m;y<C.length;y++){var p=C[y];this.formatMap.has(p)?x.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:x}},d.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},d.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(x,y,C){m.set(x,y)}),m},d.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},d}(),mh=function(d,m,x,y){function C(p){return p instanceof x?p:new x(function(I){I(p)})}return new(x||(x=Promise))(function(p,I){function B(R){try{w(y.next(R))}catch(U){I(U)}}function O(R){try{w(y.throw(R))}catch(U){I(U)}}function w(R){R.done?p(R.value):C(R.value).then(B,O)}w((y=y.apply(d,m||[])).next())})},Ah=function(d,m){var x={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},y,C,p,I;return I={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function B(w){return function(R){return O([w,R])}}function O(w){if(y)throw new TypeError("Generator is already executing.");for(;I&&(I=0,w[0]&&(x=0)),x;)try{if(y=1,C&&(p=w[0]&2?C.return:w[0]?C.throw||((p=C.return)&&p.call(C),0):C.next)&&!(p=p.call(C,w[1])).done)return p;switch(C=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return x.label++,{value:w[1],done:!1};case 5:x.label++,C=w[1],w=[0];continue;case 7:w=x.ops.pop(),x.trys.pop();continue;default:if(p=x.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){x=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){x.label=w[1];break}if(w[0]===6&&x.label<p[1]){x.label=p[1],p=w;break}if(p&&x.label<p[2]){x.label=p[2],x.ops.push(w);break}p[2]&&x.ops.pop(),x.trys.pop();continue}w=m.call(d,x)}catch(R){w=[6,R],C=0}finally{y=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},tx=function(){function d(m,x,y,C){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=y,x&&xh.isSupported()?(this.primaryDecoder=new xh(m,y,C),this.secondaryDecoder=new gh(m,y,C)):this.primaryDecoder=new gh(m,y,C)}return d.prototype.decodeAsync=function(m){return mh(this,void 0,void 0,function(){var x;return Ah(this,function(y){switch(y.label){case 0:x=performance.now(),y.label=1;case 1:return y.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(m)];case 2:return[2,y.sent()];case 3:return this.possiblyLogPerformance(x),[7];case 4:return[2]}})})},d.prototype.decodeRobustlyAsync=function(m){return mh(this,void 0,void 0,function(){var x,y;return Ah(this,function(C){switch(C.label){case 0:x=performance.now(),C.label=1;case 1:return C.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(m)];case 2:return[2,C.sent()];case 3:if(y=C.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(m)];throw y;case 4:return this.possiblyLogPerformance(x),[7];case 5:return[2]}})})},d.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},d.prototype.possiblyLogPerformance=function(m){if(this.verbose){var x=performance.now()-m;this.executionResults.push(x),this.executions++,this.possiblyFlushPerformanceReport()}},d.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var m=0,x=0,y=this.executionResults;x<y.length;x++){var C=y[x];m+=C}var p=m/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},d}(),r1=function(){var d=function(m,x){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var p in C)Object.prototype.hasOwnProperty.call(C,p)&&(y[p]=C[p])},d(m,x)};return function(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");d(m,x);function y(){this.constructor=m}m.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)}}(),Ho=function(d,m,x,y){function C(p){return p instanceof x?p:new x(function(I){I(p)})}return new(x||(x=Promise))(function(p,I){function B(R){try{w(y.next(R))}catch(U){I(U)}}function O(R){try{w(y.throw(R))}catch(U){I(U)}}function w(R){R.done?p(R.value):C(R.value).then(B,O)}w((y=y.apply(d,m||[])).next())})},Po=function(d,m){var x={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},y,C,p,I;return I={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function B(w){return function(R){return O([w,R])}}function O(w){if(y)throw new TypeError("Generator is already executing.");for(;I&&(I=0,w[0]&&(x=0)),x;)try{if(y=1,C&&(p=w[0]&2?C.return:w[0]?C.throw||((p=C.return)&&p.call(C),0):C.next)&&!(p=p.call(C,w[1])).done)return p;switch(C=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return x.label++,{value:w[1],done:!1};case 5:x.label++,C=w[1],w=[0];continue;case 7:w=x.ops.pop(),x.trys.pop();continue;default:if(p=x.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){x=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){x.label=w[1];break}if(w[0]===6&&x.label<p[1]){x.label=p[1],p=w;break}if(p&&x.label<p[2]){x.label=p[2],x.ops.push(w);break}p[2]&&x.ops.pop(),x.trys.pop();continue}w=m.call(d,x)}catch(R){w=[6,R],C=0}finally{y=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Zh=function(){function d(m,x){this.name=m,this.track=x}return d.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},d.prototype.apply=function(m){var x={};x[this.name]=m;var y={advanced:[x]};return this.track.applyConstraints(y)},d.prototype.value=function(){var m=this.track.getSettings();if(this.name in m){var x=m[this.name];return x}return null},d}(),nx=function(d){r1(m,d);function m(x,y){return d.call(this,x,y)||this}return m.prototype.min=function(){return this.getCapabilities().min},m.prototype.max=function(){return this.getCapabilities().max},m.prototype.step=function(){return this.getCapabilities().step},m.prototype.apply=function(x){var y={};y[this.name]=x;var C={advanced:[y]};return this.track.applyConstraints(C)},m.prototype.getCapabilities=function(){this.failIfNotSupported();var x=this.track.getCapabilities(),y=x[this.name];return{min:y.min,max:y.max,step:y.step}},m.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},m}(Zh),ix=function(d){r1(m,d);function m(x){return d.call(this,"zoom",x)||this}return m}(nx),ax=function(d){r1(m,d);function m(x){return d.call(this,"torch",x)||this}return m}(Zh),rx=function(){function d(m){this.track=m}return d.prototype.zoomFeature=function(){return new ix(this.track)},d.prototype.torchFeature=function(){return new ax(this.track)},d}(),lx=function(){function d(m,x,y){this.isClosed=!1,this.parentElement=m,this.mediaStream=x,this.callbacks=y,this.surface=this.createVideoElement(this.parentElement.clientWidth),m.append(this.surface)}return d.prototype.createVideoElement=function(m){var x=document.createElement("video");return x.style.width="".concat(m,"px"),x.style.display="block",x.muted=!0,x.setAttribute("muted","true"),x.playsInline=!0,x},d.prototype.setupSurface=function(){var m=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var x=function(){var y=m.surface.clientWidth,C=m.surface.clientHeight;m.callbacks.onRenderSurfaceReady(y,C),m.surface.removeEventListener("playing",x)};this.surface.addEventListener("playing",x),this.surface.srcObject=this.mediaStream,this.surface.play()},d.create=function(m,x,y,C){return Ho(this,void 0,void 0,function(){var p,I;return Po(this,function(B){switch(B.label){case 0:return p=new d(m,x,C),y.aspectRatio?(I={aspectRatio:y.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(I)]):[3,2];case 1:B.sent(),B.label=2;case 2:return p.setupSurface(),[2,p]}})})},d.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},d.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},d.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},d.prototype.resume=function(m){this.failIfClosed();var x=this,y=function(){setTimeout(m,200),x.surface.removeEventListener("playing",y)};this.surface.addEventListener("playing",y),this.surface.play()},d.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},d.prototype.getSurface=function(){return this.failIfClosed(),this.surface},d.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},d.prototype.applyVideoConstraints=function(m){return Ho(this,void 0,void 0,function(){return Po(this,function(x){if("aspectRatio"in m)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(m)]})})},d.prototype.close=function(){if(this.isClosed)return Promise.resolve();var m=this;return new Promise(function(x,y){var C=m.mediaStream.getVideoTracks(),p=C.length,I=0;m.mediaStream.getVideoTracks().forEach(function(B){m.mediaStream.removeTrack(B),B.stop(),++I,I>=p&&(m.isClosed=!0,m.parentElement.removeChild(m.surface),x())})})},d.prototype.getCapabilities=function(){return new rx(this.getFirstTrackOrFail())},d}(),sx=function(){function d(m){this.mediaStream=m}return d.prototype.render=function(m,x,y){return Ho(this,void 0,void 0,function(){return Po(this,function(C){return[2,lx.create(m,this.mediaStream,x,y)]})})},d.create=function(m){return Ho(this,void 0,void 0,function(){var x,y;return Po(this,function(C){switch(C.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return x={audio:!1,video:m},[4,navigator.mediaDevices.getUserMedia(x)];case 1:return y=C.sent(),[2,new d(y)]}})})},d}(),Eh=function(d,m,x,y){function C(p){return p instanceof x?p:new x(function(I){I(p)})}return new(x||(x=Promise))(function(p,I){function B(R){try{w(y.next(R))}catch(U){I(U)}}function O(R){try{w(y.throw(R))}catch(U){I(U)}}function w(R){R.done?p(R.value):C(R.value).then(B,O)}w((y=y.apply(d,m||[])).next())})},yh=function(d,m){var x={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},y,C,p,I;return I={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function B(w){return function(R){return O([w,R])}}function O(w){if(y)throw new TypeError("Generator is already executing.");for(;I&&(I=0,w[0]&&(x=0)),x;)try{if(y=1,C&&(p=w[0]&2?C.return:w[0]?C.throw||((p=C.return)&&p.call(C),0):C.next)&&!(p=p.call(C,w[1])).done)return p;switch(C=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return x.label++,{value:w[1],done:!1};case 5:x.label++,C=w[1],w=[0];continue;case 7:w=x.ops.pop(),x.trys.pop();continue;default:if(p=x.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){x=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){x.label=w[1];break}if(w[0]===6&&x.label<p[1]){x.label=p[1],p=w;break}if(p&&x.label<p[2]){x.label=p[2],x.ops.push(w);break}p[2]&&x.ops.pop(),x.trys.pop();continue}w=m.call(d,x)}catch(R){w=[6,R],C=0}finally{y=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ox=function(){function d(){}return d.failIfNotSupported=function(){return Eh(this,void 0,void 0,function(){return yh(this,function(m){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new d]})})},d.prototype.create=function(m){return Eh(this,void 0,void 0,function(){return yh(this,function(x){return[2,sx.create(m)]})})},d}(),ux=function(d,m,x,y){function C(p){return p instanceof x?p:new x(function(I){I(p)})}return new(x||(x=Promise))(function(p,I){function B(R){try{w(y.next(R))}catch(U){I(U)}}function O(R){try{w(y.throw(R))}catch(U){I(U)}}function w(R){R.done?p(R.value):C(R.value).then(B,O)}w((y=y.apply(d,m||[])).next())})},cx=function(d,m){var x={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},y,C,p,I;return I={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function B(w){return function(R){return O([w,R])}}function O(w){if(y)throw new TypeError("Generator is already executing.");for(;I&&(I=0,w[0]&&(x=0)),x;)try{if(y=1,C&&(p=w[0]&2?C.return:w[0]?C.throw||((p=C.return)&&p.call(C),0):C.next)&&!(p=p.call(C,w[1])).done)return p;switch(C=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return x.label++,{value:w[1],done:!1};case 5:x.label++,C=w[1],w=[0];continue;case 7:w=x.ops.pop(),x.trys.pop();continue;default:if(p=x.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){x=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){x.label=w[1];break}if(w[0]===6&&x.label<p[1]){x.label=p[1],p=w;break}if(p&&x.label<p[2]){x.label=p[2],x.ops.push(w);break}p[2]&&x.ops.pop(),x.trys.pop();continue}w=m.call(d,x)}catch(R){w=[6,R],C=0}finally{y=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},fx=function(){function d(){}return d.retrieve=function(){if(navigator.mediaDevices)return d.getCamerasFromMediaDevices();var m=MediaStreamTrack;return MediaStreamTrack&&m.getSources?d.getCamerasFromMediaStreamTrack():d.rejectWithError()},d.rejectWithError=function(){var m=pl.unableToQuerySupportedDevices();return d.isHttpsOrLocalhost()||(m=pl.insecureContextCameraQueryError()),Promise.reject(m)},d.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var m=location.host.split(":")[0];return m==="127.0.0.1"||m==="localhost"},d.getCamerasFromMediaDevices=function(){return ux(this,void 0,void 0,function(){var m,x,y,C,p,I,B;return cx(this,function(O){switch(O.label){case 0:return m=function(w){for(var R=w.getVideoTracks(),U=0,K=R;U<K.length;U++){var ee=K[U];ee.enabled=!1,ee.stop(),w.removeTrack(ee)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return x=O.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(y=O.sent(),C=[],p=0,I=y;p<I.length;p++)B=I[p],B.kind==="videoinput"&&C.push({id:B.deviceId,label:B.label});return m(x),[2,C]}})})},d.getCamerasFromMediaStreamTrack=function(){return new Promise(function(m,x){var y=function(p){for(var I=[],B=0,O=p;B<O.length;B++){var w=O[B];w.kind==="video"&&I.push({id:w.id,label:w.label})}m(I)},C=MediaStreamTrack;C.getSources(y)})},d}(),Wt;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.NOT_STARTED=1]="NOT_STARTED",d[d.SCANNING=2]="SCANNING",d[d.PAUSED=3]="PAUSED"})(Wt||(Wt={}));var hx=function(){function d(){this.state=Wt.NOT_STARTED,this.onGoingTransactionNewState=Wt.UNKNOWN}return d.prototype.directTransition=function(m){this.failIfTransitionOngoing(),this.validateTransition(m),this.state=m},d.prototype.startTransition=function(m){return this.failIfTransitionOngoing(),this.validateTransition(m),this.onGoingTransactionNewState=m,this},d.prototype.execute=function(){if(this.onGoingTransactionNewState===Wt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var m=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Wt.UNKNOWN,this.directTransition(m)},d.prototype.cancel=function(){if(this.onGoingTransactionNewState===Wt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Wt.UNKNOWN},d.prototype.getState=function(){return this.state},d.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Wt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},d.prototype.validateTransition=function(m){switch(this.state){case Wt.UNKNOWN:throw"Transition from unknown is not allowed";case Wt.NOT_STARTED:this.failIfNewStateIs(m,[Wt.PAUSED]);break;case Wt.SCANNING:break;case Wt.PAUSED:break}},d.prototype.failIfNewStateIs=function(m,x){for(var y=0,C=x;y<C.length;y++){var p=C[y];if(m===p)throw"Cannot transition from ".concat(this.state," to ").concat(m)}},d}(),dx=function(){function d(m){this.stateManager=m}return d.prototype.startTransition=function(m){return this.stateManager.startTransition(m)},d.prototype.directTransition=function(m){this.stateManager.directTransition(m)},d.prototype.getState=function(){return this.stateManager.getState()},d.prototype.canScanFile=function(){return this.stateManager.getState()===Wt.NOT_STARTED},d.prototype.isScanning=function(){return this.stateManager.getState()!==Wt.NOT_STARTED},d.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Wt.SCANNING},d.prototype.isPaused=function(){return this.stateManager.getState()===Wt.PAUSED},d}(),gx=function(){function d(){}return d.create=function(){return new dx(new hx)},d}(),xx=function(){var d=function(m,x){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var p in C)Object.prototype.hasOwnProperty.call(C,p)&&(y[p]=C[p])},d(m,x)};return function(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");d(m,x);function y(){this.constructor=m}m.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)}}(),ti=function(d){xx(m,d);function m(){return d!==null&&d.apply(this,arguments)||this}return m.DEFAULT_WIDTH=300,m.DEFAULT_WIDTH_OFFSET=2,m.FILE_SCAN_MIN_HEIGHT=300,m.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,m.MIN_QR_BOX_SIZE=50,m.SHADED_LEFT=1,m.SHADED_RIGHT=2,m.SHADED_TOP=3,m.SHADED_BOTTOM=4,m.SHADED_REGION_ELEMENT_ID="qr-shaded-region",m.VERBOSE=!1,m.BORDER_SHADER_DEFAULT_COLOR="#ffffff",m.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",m}(Ti),mx=function(){function d(m,x){this.logger=x,this.fps=ti.SCAN_DEFAULT_FPS,m?(m.fps&&(this.fps=m.fps),this.disableFlip=m.disableFlip===!0,this.qrbox=m.qrbox,this.aspectRatio=m.aspectRatio,this.videoConstraints=m.videoConstraints):this.disableFlip=ti.DEFAULT_DISABLE_FLIP}return d.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Xh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},d.prototype.isShadedBoxEnabled=function(){return!ji(this.qrbox)},d.create=function(m,x){return new d(m,x)},d}(),ph=function(){function d(m,x){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(m))throw"HTML Element with id=".concat(m," not found");this.elementId=m,this.verbose=!1;var y;typeof x=="boolean"?this.verbose=x===!0:x&&(y=x,this.verbose=y.verbose===!0,y.experimentalFeatures),this.logger=new Vh(this.verbose),this.qrcode=new tx(this.getSupportedFormats(x),this.getUseBarCodeDetectorIfSupported(y),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=gx.create()}return d.prototype.start=function(m,x,y,C){var p=this;if(!m)throw"cameraIdOrConfig is required";if(!y||typeof y!="function")throw"qrCodeSuccessCallback is required and should be a function.";var I;C?I=C:I=this.verbose?this.logger.log:function(){};var B=mx.create(x,this.logger);this.clearElement();var O=!1;B.videoConstraints&&(B.isMediaStreamConstraintsValid()?O=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=O,R=document.getElementById(this.elementId);R.clientWidth?R.clientWidth:ti.DEFAULT_WIDTH,R.style.position="relative",this.shouldScan=!0,this.element=R;var U=this,K=this.stateManagerProxy.startTransition(Wt.SCANNING);return new Promise(function(ee,te){var le=w?B.videoConstraints:U.createVideoConstraints(m);if(!le){K.cancel(),te("videoConstraints should be defined");return}var ge={};(!w||B.aspectRatio)&&(ge.aspectRatio=B.aspectRatio);var ue={onRenderSurfaceReady:function(Ee,ae){U.setupUi(Ee,ae,B),U.isScanning=!0,U.foreverScan(B,y,I)}};ox.failIfNotSupported().then(function(Ee){Ee.create(le).then(function(ae){return ae.render(p.element,ge,ue).then(function(ve){U.renderedCamera=ve,K.execute(),ee(null)}).catch(function(ve){K.cancel(),te(ve)})}).catch(function(ae){K.cancel(),te(pl.errorGettingUserMedia(ae))})}).catch(function(Ee){K.cancel(),te(pl.cameraStreamingNotSupported())})})},d.prototype.pause=function(m){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Wt.PAUSED),this.showPausedState(),(ji(m)||m!==!0)&&(m=!1),m&&this.renderedCamera&&this.renderedCamera.pause()},d.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var m=this,x=function(){m.stateManagerProxy.directTransition(Wt.SCANNING),m.hidePausedState()};if(!this.renderedCamera.isPaused()){x();return}this.renderedCamera.resume(function(){x()})},d.prototype.getState=function(){return this.stateManagerProxy.getState()},d.prototype.stop=function(){var m=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var x=this.stateManagerProxy.startTransition(Wt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var y=function(){if(m.element){var p=document.getElementById(ti.SHADED_REGION_ELEMENT_ID);p&&m.element.removeChild(p)}},C=this;return this.renderedCamera.close().then(function(){return C.renderedCamera=null,C.element&&(C.element.removeChild(C.canvasElement),C.canvasElement=null),y(),C.qrRegion&&(C.qrRegion=null),C.context&&(C.context=null),x.execute(),C.hidePausedState(),C.isScanning=!1,Promise.resolve()})},d.prototype.scanFile=function(m,x){return this.scanFileV2(m,x).then(function(y){return y.decodedText})},d.prototype.scanFileV2=function(m,x){var y=this;if(!m||!(m instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ji(x)&&(x=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(C,p){y.possiblyCloseLastScanImageFile(),y.clearElement(),y.lastScanImageFile=URL.createObjectURL(m);var I=new Image;I.onload=function(){var B=I.width,O=I.height,w=document.getElementById(y.elementId),R=w.clientWidth?w.clientWidth:ti.DEFAULT_WIDTH,U=Math.max(w.clientHeight?w.clientHeight:O,ti.FILE_SCAN_MIN_HEIGHT),K=y.computeCanvasDrawConfig(B,O,R,U);if(x){var ee=y.createCanvasElement(R,U,"qr-canvas-visible");ee.style.display="inline-block",w.appendChild(ee);var te=ee.getContext("2d");if(!te)throw"Unable to get 2d context from canvas";te.canvas.width=R,te.canvas.height=U,te.drawImage(I,0,0,B,O,K.x,K.y,K.width,K.height)}var le=ti.FILE_SCAN_HIDDEN_CANVAS_PADDING,ge=Math.max(I.width,K.width),ue=Math.max(I.height,K.height),Ee=ge+2*le,ae=ue+2*le,ve=y.createCanvasElement(Ee,ae);w.appendChild(ve);var Re=ve.getContext("2d");if(!Re)throw"Unable to get 2d context from canvas";Re.canvas.width=Ee,Re.canvas.height=ae,Re.drawImage(I,0,0,B,O,le,le,ge,ue);try{y.qrcode.decodeRobustlyAsync(ve).then(function(ke){C(fh.createFromQrcodeResult(ke))}).catch(p)}catch(ke){p("QR code parse error, error = ".concat(ke))}},I.onerror=p,I.onabort=p,I.onstalled=p,I.onsuspend=p,I.src=URL.createObjectURL(m)})},d.prototype.clear=function(){this.clearElement()},d.getCameras=function(){return fx.retrieve()},d.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},d.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},d.prototype.applyVideoConstraints=function(m){if(m){if(!Xh.isMediaStreamConstraintsValid(m,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(m)},d.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},d.prototype.getSupportedFormats=function(m){var x=[we.QR_CODE,we.AZTEC,we.CODABAR,we.CODE_39,we.CODE_93,we.CODE_128,we.DATA_MATRIX,we.MAXICODE,we.ITF,we.EAN_13,we.EAN_8,we.PDF_417,we.RSS_14,we.RSS_EXPANDED,we.UPC_A,we.UPC_E,we.UPC_EAN_EXTENSION];if(!m||typeof m=="boolean"||!m.formatsToSupport)return x;if(!Array.isArray(m.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(m.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var y=[],C=0,p=m.formatsToSupport;C<p.length;C++){var I=p[C];Zg(I)?y.push(I):this.logger.warn("Invalid format: ".concat(I," passed in config, ignoring."))}if(y.length===0)throw"None of formatsToSupport match supported values.";return y},d.prototype.getUseBarCodeDetectorIfSupported=function(m){if(ji(m))return!0;if(!ji(m.useBarCodeDetectorIfSupported))return m.useBarCodeDetectorIfSupported!==!1;if(ji(m.experimentalFeatures))return!0;var x=m.experimentalFeatures;return ji(x.useBarCodeDetectorIfSupported)?!0:x.useBarCodeDetectorIfSupported!==!1},d.prototype.validateQrboxSize=function(m,x,y){var C=this,p=y.qrbox;this.validateQrboxConfig(p);var I=this.toQrdimensions(m,x,p),B=function(w){if(w<ti.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ti.MIN_QR_BOX_SIZE,"px.")},O=function(w){return w>m&&(C.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=m),w};B(I.width),B(I.height),I.width=O(I.width)},d.prototype.validateQrboxConfig=function(m){if(typeof m!="number"&&typeof m!="function"&&(m.width===void 0||m.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},d.prototype.toQrdimensions=function(m,x,y){if(typeof y=="number")return{width:y,height:y};if(typeof y=="function")try{return y(m,x)}catch(C){throw new Error("qrbox config was passed as a function but it failed with unknown error"+C)}return y},d.prototype.setupUi=function(m,x,y){y.isShadedBoxEnabled()&&this.validateQrboxSize(m,x,y);var C=ji(y.qrbox)?{width:m,height:x}:y.qrbox;this.validateQrboxConfig(C);var p=this.toQrdimensions(m,x,C);p.height>x&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var I=y.isShadedBoxEnabled()&&p.height<=x,B={x:0,y:0,width:m,height:x},O=I?this.getShadedRegionBounds(m,x,p):B,w=this.createCanvasElement(O.width,O.height),R={willReadFrequently:!0},U=w.getContext("2d",R);U.canvas.width=O.width,U.canvas.height=O.height,this.element.append(w),I&&this.possiblyInsertShadingElement(this.element,m,x,p),this.createScannerPausedUiElement(this.element),this.qrRegion=O,this.context=U,this.canvasElement=w},d.prototype.createScannerPausedUiElement=function(m){var x=document.createElement("div");x.innerText=pl.scannerPaused(),x.style.display="none",x.style.position="absolute",x.style.top="0px",x.style.zIndex="1",x.style.background="rgba(9, 9, 9, 0.46)",x.style.color="#FFECEC",x.style.textAlign="center",x.style.width="100%",m.appendChild(x),this.scannerPausedUiElement=x},d.prototype.scanContext=function(m,x){var y=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(C){return m(C.text,fh.createFromQrcodeResult(C)),y.possiblyUpdateShaders(!0),!0}).catch(function(C){y.possiblyUpdateShaders(!1);var p=pl.codeParseError(C);return x(p,Gh.createFrom(p)),!1})},d.prototype.foreverScan=function(m,x,y){var C=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),I=p.videoWidth/p.clientWidth,B=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var O=this.qrRegion.width*I,w=this.qrRegion.height*B,R=this.qrRegion.x*I,U=this.qrRegion.y*B;this.context.drawImage(p,R,U,O,w,0,0,this.qrRegion.width,this.qrRegion.height);var K=function(){C.foreverScanTimeout=setTimeout(function(){C.foreverScan(m,x,y)},C.getTimeoutFps(m.fps))};this.scanContext(x,y).then(function(ee){!ee&&m.disableFlip!==!0?(C.context.translate(C.context.canvas.width,0),C.context.scale(-1,1),C.scanContext(x,y).finally(function(){K()})):K()}).catch(function(ee){C.logger.logError("Error happend while scanning context",ee),K()})}},d.prototype.createVideoConstraints=function(m){if(typeof m=="string")return{deviceId:{exact:m}};if(typeof m=="object"){var x="facingMode",y="deviceId",C={user:!0,environment:!0},p="exact",I=function(te){if(te in C)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(te,"'")},B=Object.keys(m);if(B.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(B.length," keys");var O=Object.keys(m)[0];if(O!==x&&O!==y)throw"Only '".concat(x,"' and '").concat(y,"' ")+" are supported for 'cameraIdOrConfig'";if(O===x){var w=m.facingMode;if(typeof w=="string"){if(I(w))return{facingMode:w}}else if(typeof w=="object")if(p in w){if(I(w["".concat(p)]))return{facingMode:{exact:w["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var R=typeof w;throw"Invalid type of 'facingMode' = ".concat(R)}}else{var U=m.deviceId;if(typeof U=="string")return{deviceId:U};if(typeof U=="object"){if(p in U)return{deviceId:{exact:U["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var K=typeof U;throw"Invalid type of 'deviceId' = ".concat(K)}}}var ee=typeof m;throw"Invalid type of 'cameraIdOrConfig' = ".concat(ee)},d.prototype.computeCanvasDrawConfig=function(m,x,y,C){if(m<=y&&x<=C){var p=(y-m)/2,I=(C-x)/2;return{x:p,y:I,width:m,height:x}}else{var B=m,O=x;return m>y&&(x=y/m*x,m=y),x>C&&(m=C/x*m,x=C),this.logger.log("Image downsampled from "+"".concat(B,"X").concat(O)+" to ".concat(m,"X").concat(x,".")),this.computeCanvasDrawConfig(m,x,y,C)}},d.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var m=document.getElementById(this.elementId);m&&(m.innerHTML="")},d.prototype.possiblyUpdateShaders=function(m){this.qrMatch!==m&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(x){x.style.backgroundColor=m?ti.BORDER_SHADER_MATCH_COLOR:ti.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=m)},d.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},d.prototype.createCanvasElement=function(m,x,y){var C=m,p=x,I=document.createElement("canvas");return I.style.width="".concat(C,"px"),I.style.height="".concat(p,"px"),I.style.display="none",I.id=ji(y)?"qr-canvas":y,I},d.prototype.getShadedRegionBounds=function(m,x,y){if(y.width>m||y.height>x)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(m-y.width)/2,y:(x-y.height)/2,width:y.width,height:y.height}},d.prototype.possiblyInsertShadingElement=function(m,x,y,C){if(!(x-C.width<1||y-C.height<1)){var p=document.createElement("div");p.style.position="absolute";var I=(x-C.width)/2,B=(y-C.height)/2;if(p.style.borderLeft="".concat(I,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(I,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(B,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(B,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(ti.SHADED_REGION_ELEMENT_ID),x-C.width<11||y-C.height<11)this.hasBorderShaders=!1;else{var O=5,w=40;this.insertShaderBorders(p,w,O,-O,null,0,!0),this.insertShaderBorders(p,w,O,-O,null,0,!1),this.insertShaderBorders(p,w,O,null,-O,0,!0),this.insertShaderBorders(p,w,O,null,-O,0,!1),this.insertShaderBorders(p,O,w+O,-O,null,-O,!0),this.insertShaderBorders(p,O,w+O,null,-O,-O,!0),this.insertShaderBorders(p,O,w+O,-O,null,-O,!1),this.insertShaderBorders(p,O,w+O,null,-O,-O,!1),this.hasBorderShaders=!0}m.append(p)}},d.prototype.insertShaderBorders=function(m,x,y,C,p,I,B){var O=document.createElement("div");O.style.position="absolute",O.style.backgroundColor=ti.BORDER_SHADER_DEFAULT_COLOR,O.style.width="".concat(x,"px"),O.style.height="".concat(y,"px"),C!==null&&(O.style.top="".concat(C,"px")),p!==null&&(O.style.bottom="".concat(p,"px")),B?O.style.left="".concat(I,"px"):O.style.right="".concat(I,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(O),m.appendChild(O)},d.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},d.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},d.prototype.getTimeoutFps=function(m){return 1e3/m},d}(),l1="data:image/svg+xml;base64,",Ax=l1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Ex=l1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Ch=l1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",yx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",wh=function(){function d(){}return d.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},d}(),px=function(){function d(){this.data=wh.createDefault();var m=localStorage.getItem(d.LOCAL_STORAGE_KEY);m?this.data=JSON.parse(m):this.reset()}return d.prototype.hasCameraPermissions=function(){return this.data.hasPermission},d.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},d.prototype.setHasPermission=function(m){this.data.hasPermission=m,this.flush()},d.prototype.setLastUsedCameraId=function(m){this.data.lastUsedCameraId=m,this.flush()},d.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},d.prototype.reset=function(){this.data=wh.createDefault(),this.flush()},d.prototype.flush=function(){localStorage.setItem(d.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},d.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",d}(),Cx=function(){function d(){this.infoDiv=document.createElement("div")}return d.prototype.renderInto=function(m){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=hh.poweredBy();var x=document.createElement("a");x.innerText="ScanApp",x.href="https://scanapp.org",x.target="new",x.style.color="white",this.infoDiv.appendChild(x);var y=document.createElement("br"),C=document.createElement("br");this.infoDiv.appendChild(y),this.infoDiv.appendChild(C);var p=document.createElement("a");p.innerText=hh.reportIssues(),p.href="https://github.com/mebjas/html5-qrcode/issues",p.target="new",p.style.color="white",this.infoDiv.appendChild(p),m.appendChild(this.infoDiv)},d.prototype.show=function(){this.infoDiv.style.display="block"},d.prototype.hide=function(){this.infoDiv.style.display="none"},d}(),wx=function(){function d(m,x){this.isShowingInfoIcon=!0,this.onTapIn=m,this.onTapOut=x,this.infoIcon=document.createElement("img")}return d.prototype.renderInto=function(m){var x=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Ch,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(y){return x.onHoverIn()},this.infoIcon.onmouseout=function(y){return x.onHoverOut()},this.infoIcon.onclick=function(y){return x.onClick()},m.appendChild(this.infoIcon)},d.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},d.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},d.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=yx,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Ch,this.infoIcon.style.opacity="0.6")},d}(),Sx=function(){function d(){var m=this;this.infoDiv=new Cx,this.infoIcon=new wx(function(){m.infoDiv.show()},function(){m.infoDiv.hide()})}return d.prototype.renderInto=function(m){this.infoDiv.renderInto(m),this.infoIcon.renderInto(m)},d}(),bx=function(d,m,x,y){function C(p){return p instanceof x?p:new x(function(I){I(p)})}return new(x||(x=Promise))(function(p,I){function B(R){try{w(y.next(R))}catch(U){I(U)}}function O(R){try{w(y.throw(R))}catch(U){I(U)}}function w(R){R.done?p(R.value):C(R.value).then(B,O)}w((y=y.apply(d,m||[])).next())})},Tx=function(d,m){var x={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},y,C,p,I;return I={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function B(w){return function(R){return O([w,R])}}function O(w){if(y)throw new TypeError("Generator is already executing.");for(;I&&(I=0,w[0]&&(x=0)),x;)try{if(y=1,C&&(p=w[0]&2?C.return:w[0]?C.throw||((p=C.return)&&p.call(C),0):C.next)&&!(p=p.call(C,w[1])).done)return p;switch(C=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return x.label++,{value:w[1],done:!1};case 5:x.label++,C=w[1],w=[0];continue;case 7:w=x.ops.pop(),x.trys.pop();continue;default:if(p=x.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){x=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){x.label=w[1];break}if(w[0]===6&&x.label<p[1]){x.label=p[1],p=w;break}if(p&&x.label<p[2]){x.label=p[2],x.ops.push(w);break}p[2]&&x.ops.pop(),x.trys.pop();continue}w=m.call(d,x)}catch(R){w=[6,R],C=0}finally{y=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Sh=function(){function d(){}return d.hasPermissions=function(){return bx(this,void 0,void 0,function(){var m,x,y,C;return Tx(this,function(p){switch(p.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(m=p.sent(),x=0,y=m;x<y.length;x++)if(C=y[x],C.kind==="videoinput"&&C.label)return[2,!0];return[2,!1]}})})},d}(),ar=function(){function d(m){this.supportedScanTypes=this.validateAndReturnScanTypes(m)}return d.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},d.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},d.prototype.isCameraScanRequired=function(){for(var m=0,x=this.supportedScanTypes;m<x.length;m++){var y=x[m];if(d.isCameraScanType(y))return!0}return!1},d.isCameraScanType=function(m){return m===rr.SCAN_TYPE_CAMERA},d.isFileScanType=function(m){return m===rr.SCAN_TYPE_FILE},d.prototype.validateAndReturnScanTypes=function(m){if(!m||m.length===0)return Ti.DEFAULT_SUPPORTED_SCAN_TYPE;var x=Ti.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(m.length>x)throw"Max ".concat(x," values expected for ")+"supportedScanTypes";for(var y=0,C=m;y<C.length;y++){var p=C[y];if(!Ti.DEFAULT_SUPPORTED_SCAN_TYPE.includes(p))throw"Unsupported scan type ".concat(p)}return m},d}(),ii=function(){function d(){}return d.ALL_ELEMENT_CLASS="html5-qrcode-element",d.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",d.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",d.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",d.TORCH_BUTTON_ID="html5-qrcode-button-torch",d.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",d.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",d.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",d.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",d.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",d.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",d}(),xa=function(){function d(){}return d.createElement=function(m,x){var y=document.createElement(m);return y.id=x,y.classList.add(ii.ALL_ELEMENT_CLASS),m==="button"&&y.setAttribute("type","button"),y},d}(),qh=function(d,m,x,y){function C(p){return p instanceof x?p:new x(function(I){I(p)})}return new(x||(x=Promise))(function(p,I){function B(R){try{w(y.next(R))}catch(U){I(U)}}function O(R){try{w(y.throw(R))}catch(U){I(U)}}function w(R){R.done?p(R.value):C(R.value).then(B,O)}w((y=y.apply(d,m||[])).next())})},Qh=function(d,m){var x={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},y,C,p,I;return I={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function B(w){return function(R){return O([w,R])}}function O(w){if(y)throw new TypeError("Generator is already executing.");for(;I&&(I=0,w[0]&&(x=0)),x;)try{if(y=1,C&&(p=w[0]&2?C.return:w[0]?C.throw||((p=C.return)&&p.call(C),0):C.next)&&!(p=p.call(C,w[1])).done)return p;switch(C=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return x.label++,{value:w[1],done:!1};case 5:x.label++,C=w[1],w=[0];continue;case 7:w=x.ops.pop(),x.trys.pop();continue;default:if(p=x.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){x=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){x.label=w[1];break}if(w[0]===6&&x.label<p[1]){x.label=p[1],p=w;break}if(p&&x.label<p[2]){x.label=p[2],x.ops.push(w);break}p[2]&&x.ops.pop(),x.trys.pop();continue}w=m.call(d,x)}catch(R){w=[6,R],C=0}finally{y=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},bh=function(){function d(m,x,y){this.isTorchOn=!1,this.torchCapability=m,this.buttonController=x,this.onTorchActionFailureCallback=y}return d.prototype.isTorchEnabled=function(){return this.isTorchOn},d.prototype.flipState=function(){return qh(this,void 0,void 0,function(){var m,x;return Qh(this,function(y){switch(y.label){case 0:this.buttonController.disable(),m=!this.isTorchOn,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this.torchCapability.apply(m)];case 2:return y.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),m),[3,4];case 3:return x=y.sent(),this.propagateFailure(m,x),this.buttonController.enable(),[3,4];case 4:return[2]}})})},d.prototype.updateUiBasedOnLatestSettings=function(m,x){m===x?(this.buttonController.setText(x?St.torchOffButton():St.torchOnButton()),this.isTorchOn=x):this.propagateFailure(x),this.buttonController.enable()},d.prototype.propagateFailure=function(m,x){var y=m?St.torchOnFailedMessage():St.torchOffFailedMessage();x&&(y+="; Error = "+x),this.onTorchActionFailureCallback(y)},d.prototype.reset=function(){this.isTorchOn=!1},d}(),vx=function(){function d(m,x){this.onTorchActionFailureCallback=x,this.torchButton=xa.createElement("button",ii.TORCH_BUTTON_ID),this.torchController=new bh(m,this,x)}return d.prototype.render=function(m,x){var y=this;this.torchButton.innerText=St.torchOnButton(),this.torchButton.style.display=x.display,this.torchButton.style.marginLeft=x.marginLeft;var C=this;this.torchButton.addEventListener("click",function(p){return qh(y,void 0,void 0,function(){return Qh(this,function(I){switch(I.label){case 0:return[4,C.torchController.flipState()];case 1:return I.sent(),C.torchController.isTorchEnabled()?(C.torchButton.classList.remove(ii.TORCH_BUTTON_CLASS_TORCH_OFF),C.torchButton.classList.add(ii.TORCH_BUTTON_CLASS_TORCH_ON)):(C.torchButton.classList.remove(ii.TORCH_BUTTON_CLASS_TORCH_ON),C.torchButton.classList.add(ii.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),m.appendChild(this.torchButton)},d.prototype.updateTorchCapability=function(m){this.torchController=new bh(m,this,this.onTorchActionFailureCallback)},d.prototype.getTorchButton=function(){return this.torchButton},d.prototype.hide=function(){this.torchButton.style.display="none"},d.prototype.show=function(){this.torchButton.style.display="inline-block"},d.prototype.disable=function(){this.torchButton.disabled=!0},d.prototype.enable=function(){this.torchButton.disabled=!1},d.prototype.setText=function(m){this.torchButton.innerText=m},d.prototype.reset=function(){this.torchButton.innerText=St.torchOnButton(),this.torchController.reset()},d.create=function(m,x,y,C){var p=new d(x,C);return p.render(m,y),p},d}(),Nx=function(){function d(m,x,y){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=x?"block":"none",m.appendChild(this.fileBasedScanRegion);var C=document.createElement("label");C.setAttribute("for",this.getFileScanInputId()),C.style.display="inline-block",this.fileBasedScanRegion.appendChild(C),this.fileSelectionButton=xa.createElement("button",ii.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(B){C.click()}),C.append(this.fileSelectionButton),this.fileScanInput=xa.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",C.appendChild(this.fileScanInput);var p=this;this.fileScanInput.addEventListener("change",function(B){if(!(B==null||B.target==null)){var O=B.target;if(!(O.files&&O.files.length===0)){var w=O.files,R=w[0],U=R.name;p.setImageNameToButton(U),y(R)}}});var I=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(I),this.fileBasedScanRegion.addEventListener("dragenter",function(B){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),B.stopPropagation(),B.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(B){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder(),B.stopPropagation(),B.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(B){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),B.stopPropagation(),B.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(B){B.stopPropagation(),B.preventDefault(),p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder();var O=B.dataTransfer;if(O){var w=O.files;if(!w||w.length===0)return;for(var R=!1,U=0;U<w.length;++U){var K=w.item(U);if(K){var ee=/image.*/;if(K.type.match(ee)){R=!0;var te=K.name;p.setImageNameToButton(te),y(K),I.innerText=St.dragAndDropMessage();break}}}R||(I.innerText=St.dragAndDropMessageOnlyImages())}})}return d.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},d.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},d.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},d.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},d.prototype.createFileBasedScanRegion=function(){var m=document.createElement("div");return m.style.textAlign="center",m.style.margin="auto",m.style.width="80%",m.style.maxWidth="600px",m.style.border=this.fileBasedScanRegionDefaultBorder(),m.style.padding="10px",m.style.marginBottom="10px",m},d.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},d.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},d.prototype.createDragAndDropMessage=function(){var m=document.createElement("div");return m.innerText=St.dragAndDropMessage(),m.style.fontWeight="400",m},d.prototype.setImageNameToButton=function(m){var x=20;if(m.length>x){var y=m.substring(0,8),C=m.length,p=m.substring(C-8,C);m="".concat(y,"....").concat(p)}var I=St.fileSelectionChooseAnother()+" - "+m;this.fileSelectionButton.innerText=I},d.prototype.setInitialValueToButton=function(){var m=St.fileSelectionChooseImage()+" - "+St.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=m},d.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},d.create=function(m,x,y){var C=new d(m,x,y);return C},d}(),Mx=function(){function d(m){this.selectElement=xa.createElement("select",ii.CAMERA_SELECTION_SELECT_ID),this.cameras=m,this.options=[]}return d.prototype.render=function(m){var x=document.createElement("span");x.style.marginRight="10px";var y=this.cameras.length;if(y===0)throw new Error("No cameras found");if(y===1)x.style.display="none";else{var C=St.selectCamera();x.innerText="".concat(C," (").concat(this.cameras.length,")  ")}for(var p=1,I=0,B=this.cameras;I<B.length;I++){var O=B[I],w=O.id,R=O.label==null?w:O.label;(!R||R==="")&&(R=[St.anonymousCameraPrefix(),p++].join(" "));var U=document.createElement("option");U.value=w,U.innerText=R,this.options.push(U),this.selectElement.appendChild(U)}x.appendChild(this.selectElement),m.appendChild(x)},d.prototype.disable=function(){this.selectElement.disabled=!0},d.prototype.isDisabled=function(){return this.selectElement.disabled===!0},d.prototype.enable=function(){this.selectElement.disabled=!1},d.prototype.getValue=function(){return this.selectElement.value},d.prototype.hasValue=function(m){for(var x=0,y=this.options;x<y.length;x++){var C=y[x];if(C.value===m)return!0}return!1},d.prototype.setValue=function(m){if(!this.hasValue(m))throw new Error("".concat(m," is not present in the camera list."));this.selectElement.value=m},d.prototype.hasSingleItem=function(){return this.cameras.length===1},d.prototype.numCameras=function(){return this.cameras.length},d.create=function(m,x){var y=new d(x);return y.render(m),y},d}(),Ix=function(){function d(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=xa.createElement("input",ii.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return d.prototype.render=function(m,x){this.zoomElementContainer.style.display=x?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",m.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var y=St.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(y),this.rangeText.style.marginRight="10px";var C=this;this.rangeInput.addEventListener("input",function(){return C.onValueChange()}),this.rangeInput.addEventListener("change",function(){return C.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},d.prototype.onValueChange=function(){var m=St.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(m),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},d.prototype.setValues=function(m,x,y,C){this.rangeInput.min=m.toString(),this.rangeInput.max=x.toString(),this.rangeInput.step=C.toString(),this.rangeInput.value=y.toString(),this.onValueChange()},d.prototype.show=function(){this.zoomElementContainer.style.display="block"},d.prototype.hide=function(){this.zoomElementContainer.style.display="none"},d.prototype.setOnCameraZoomValueChangeCallback=function(m){this.onChangeCallback=m},d.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},d.create=function(m,x){var y=new d;return y.render(m,x),y},d}(),ni;(function(d){d[d.STATUS_DEFAULT=0]="STATUS_DEFAULT",d[d.STATUS_SUCCESS=1]="STATUS_SUCCESS",d[d.STATUS_WARNING=2]="STATUS_WARNING",d[d.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ni||(ni={}));function Ox(d){return{fps:d.fps,qrbox:d.qrbox,aspectRatio:d.aspectRatio,disableFlip:d.disableFlip,videoConstraints:d.videoConstraints}}function _x(d,m){return{formatsToSupport:d.formatsToSupport,useBarCodeDetectorIfSupported:d.useBarCodeDetectorIfSupported,experimentalFeatures:d.experimentalFeatures,verbose:m}}var Dx=function(){function d(m,x,y){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=m,this.config=this.createConfig(x),this.verbose=y===!0,!document.getElementById(m))throw"HTML Element with id=".concat(m," not found");this.scanTypeSelector=new ar(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Vh(this.verbose),this.persistedDataManager=new px,x.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return d.prototype.render=function(m,x){var y=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(p,I){if(m)m(p,I);else{if(y.lastMatchFound===p)return;y.lastMatchFound=p,y.setHeaderMessage(St.lastMatch(p),ni.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(p,I){x&&x(p,I)};var C=document.getElementById(this.elementId);if(!C)throw"HTML Element with id=".concat(this.elementId," not found");C.innerHTML="",this.createBasicLayout(C),this.html5Qrcode=new ph(this.getScanRegionId(),_x(this.config,this.verbose))},d.prototype.pause=function(m){(ji(m)||m!==!0)&&(m=!1),this.getHtml5QrcodeOrFail().pause(m)},d.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},d.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},d.prototype.clear=function(){var m=this,x=function(){var y=document.getElementById(m.elementId);y&&(y.innerHTML="",m.resetBasicLayout(y))};return this.html5Qrcode?new Promise(function(y,C){if(!m.html5Qrcode){y();return}m.html5Qrcode.isScanning?m.html5Qrcode.stop().then(function(p){if(!m.html5Qrcode){y();return}m.html5Qrcode.clear(),x(),y()}).catch(function(p){m.verbose&&m.logger.logError("Unable to stop qrcode scanner",p),C(p)}):(m.html5Qrcode.clear(),x(),y())}):Promise.resolve()},d.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},d.prototype.applyVideoConstraints=function(m){return this.getHtml5QrcodeOrFail().applyVideoConstraints(m)},d.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},d.prototype.createConfig=function(m){return m?(m.fps||(m.fps=Ti.SCAN_DEFAULT_FPS),m.rememberLastUsedCamera!==!Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(m.rememberLastUsedCamera=Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED),m.supportedScanTypes||(m.supportedScanTypes=Ti.DEFAULT_SUPPORTED_SCAN_TYPE),m):{fps:Ti.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ti.DEFAULT_SUPPORTED_SCAN_TYPE}},d.prototype.createBasicLayout=function(m){m.style.position="relative",m.style.padding="0px",m.style.border="1px solid silver",this.createHeader(m);var x=document.createElement("div"),y=this.getScanRegionId();x.id=y,x.style.width="100%",x.style.minHeight="100px",x.style.textAlign="center",m.appendChild(x),ar.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var C=document.createElement("div"),p=this.getDashboardId();C.id=p,C.style.width="100%",m.appendChild(C),this.setupInitialDashboard(C)},d.prototype.resetBasicLayout=function(m){m.style.border="none"},d.prototype.setupInitialDashboard=function(m){this.createSection(m),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},d.prototype.createHeader=function(m){var x=document.createElement("div");x.style.textAlign="left",x.style.margin="0px",m.appendChild(x);var y=new Sx;y.renderInto(x);var C=document.createElement("div");C.id=this.getHeaderMessageContainerId(),C.style.display="none",C.style.textAlign="center",C.style.fontSize="14px",C.style.padding="2px 10px",C.style.margin="4px",C.style.borderTop="1px solid #f6f6f6",x.appendChild(C)},d.prototype.createSection=function(m){var x=document.createElement("div");x.id=this.getDashboardSectionId(),x.style.width="100%",x.style.padding="10px 0px 10px 0px",x.style.textAlign="left",m.appendChild(x)},d.prototype.createCameraListUi=function(m,x,y){var C=this;C.showHideScanTypeSwapLink(!1),C.setHeaderMessage(St.cameraPermissionRequesting());var p=function(){y||C.createPermissionButton(m,x)};ph.getCameras().then(function(I){C.persistedDataManager.setHasPermission(!0),C.showHideScanTypeSwapLink(!0),C.resetHeaderMessage(),I&&I.length>0?(m.removeChild(x),C.renderCameraSelection(I)):(C.setHeaderMessage(St.noCameraFound(),ni.STATUS_WARNING),p())}).catch(function(I){C.persistedDataManager.setHasPermission(!1),y?y.disabled=!1:p(),C.setHeaderMessage(I,ni.STATUS_WARNING),C.showHideScanTypeSwapLink(!0)})},d.prototype.createPermissionButton=function(m,x){var y=this,C=xa.createElement("button",this.getCameraPermissionButtonId());C.innerText=St.cameraPermissionTitle(),C.addEventListener("click",function(){C.disabled=!0,y.createCameraListUi(m,x,C)}),x.appendChild(C)},d.prototype.createPermissionsUi=function(m,x){var y=this;if(ar.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Sh.hasPermissions().then(function(C){C?y.createCameraListUi(m,x):(y.persistedDataManager.setHasPermission(!1),y.createPermissionButton(m,x))}).catch(function(C){y.persistedDataManager.setHasPermission(!1),y.createPermissionButton(m,x)});return}this.createPermissionButton(m,x)},d.prototype.createSectionControlPanel=function(){var m=document.getElementById(this.getDashboardSectionId()),x=document.createElement("div");m.appendChild(x);var y=document.createElement("div");y.id=this.getDashboardSectionCameraScanRegionId(),y.style.display=ar.isCameraScanType(this.currentScanType)?"block":"none",x.appendChild(y);var C=document.createElement("div");C.style.textAlign="center",y.appendChild(C),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(y,C),this.renderFileScanUi(x)},d.prototype.renderFileScanUi=function(m){var x=ar.isFileScanType(this.currentScanType),y=this,C=function(p){if(!y.html5Qrcode)throw"html5Qrcode not defined";ar.isFileScanType(y.currentScanType)&&(y.setHeaderMessage(St.loadingImage()),y.html5Qrcode.scanFileV2(p,!0).then(function(I){y.resetHeaderMessage(),y.qrCodeSuccessCallback(I.decodedText,I)}).catch(function(I){y.setHeaderMessage(I,ni.STATUS_WARNING),y.qrCodeErrorCallback(I,Gh.createFrom(I))}))};this.fileSelectionUi=Nx.create(m,x,C)},d.prototype.renderCameraSelection=function(m){var x=this,y=this,C=document.getElementById(this.getDashboardSectionCameraScanRegionId());C.style.textAlign="center";var p=Ix.create(C,!1),I=function(le){var ge=le.zoomFeature();if(ge.isSupported()){p.setOnCameraZoomValueChangeCallback(function(Ee){ge.apply(Ee)});var ue=1;x.config.defaultZoomValueIfSupported&&(ue=x.config.defaultZoomValueIfSupported),ue=qg(ue,ge.min(),ge.max()),p.setValues(ge.min(),ge.max(),ue,ge.step()),p.show()}},B=Mx.create(C,m),O=document.createElement("span"),w=xa.createElement("button",ii.CAMERA_START_BUTTON_ID);w.innerText=St.scanButtonStartScanningText(),O.appendChild(w);var R=xa.createElement("button",ii.CAMERA_STOP_BUTTON_ID);R.innerText=St.scanButtonStopScanningText(),R.style.display="none",R.disabled=!0,O.appendChild(R);var U,K=function(le){if(!le.torchFeature().isSupported()){U&&U.hide();return}U?U.updateTorchCapability(le.torchFeature()):U=vx.create(O,le.torchFeature(),{display:"none",marginLeft:"5px"},function(ge){y.setHeaderMessage(ge,ni.STATUS_WARNING)}),U.show()};C.appendChild(O);var ee=function(le){le||(w.style.display="none"),w.innerText=St.scanButtonStartScanningText(),w.style.opacity="1",w.disabled=!1,le&&(w.style.display="inline-block")};if(w.addEventListener("click",function(le){w.innerText=St.scanButtonScanningStarting(),B.disable(),w.disabled=!0,w.style.opacity="0.5",x.scanTypeSelector.hasMoreThanOneScanType()&&y.showHideScanTypeSwapLink(!1),y.resetHeaderMessage();var ge=B.getValue();y.persistedDataManager.setLastUsedCameraId(ge),y.html5Qrcode.start(ge,Ox(y.config),y.qrCodeSuccessCallback,y.qrCodeErrorCallback).then(function(ue){R.disabled=!1,R.style.display="inline-block",ee(!1);var Ee=y.html5Qrcode.getRunningTrackCameraCapabilities();x.config.showTorchButtonIfSupported===!0&&K(Ee),x.config.showZoomSliderIfSupported===!0&&I(Ee)}).catch(function(ue){y.showHideScanTypeSwapLink(!0),B.enable(),ee(!0),y.setHeaderMessage(ue,ni.STATUS_WARNING)})}),B.hasSingleItem()&&w.click(),R.addEventListener("click",function(le){if(!y.html5Qrcode)throw"html5Qrcode not defined";R.disabled=!0,y.html5Qrcode.stop().then(function(ge){x.scanTypeSelector.hasMoreThanOneScanType()&&y.showHideScanTypeSwapLink(!0),B.enable(),w.disabled=!1,R.style.display="none",w.style.display="inline-block",U&&(U.reset(),U.hide()),p.removeOnCameraZoomValueChangeCallback(),p.hide(),y.insertCameraScanImageToScanRegion()}).catch(function(ge){R.disabled=!1,y.setHeaderMessage(ge,ni.STATUS_WARNING)})}),y.persistedDataManager.getLastUsedCameraId()){var te=y.persistedDataManager.getLastUsedCameraId();B.hasValue(te)?(B.setValue(te),w.click()):y.persistedDataManager.resetLastUsedCameraId()}},d.prototype.createSectionSwap=function(){var m=this,x=St.textIfCameraScanSelected(),y=St.textIfFileScanSelected(),C=document.getElementById(this.getDashboardSectionId()),p=document.createElement("div");p.style.textAlign="center";var I=xa.createElement("span",this.getDashboardSectionSwapLinkId());I.style.textDecoration="underline",I.style.cursor="pointer",I.innerText=ar.isCameraScanType(this.currentScanType)?x:y,I.addEventListener("click",function(){if(!m.sectionSwapAllowed){m.verbose&&m.logger.logError("Section swap called when not allowed");return}m.resetHeaderMessage(),m.fileSelectionUi.resetValue(),m.sectionSwapAllowed=!1,ar.isCameraScanType(m.currentScanType)?(m.clearScanRegion(),m.getCameraScanRegion().style.display="none",m.fileSelectionUi.show(),I.innerText=y,m.currentScanType=rr.SCAN_TYPE_FILE,m.insertFileScanImageToScanRegion()):(m.clearScanRegion(),m.getCameraScanRegion().style.display="block",m.fileSelectionUi.hide(),I.innerText=x,m.currentScanType=rr.SCAN_TYPE_CAMERA,m.insertCameraScanImageToScanRegion(),m.startCameraScanIfPermissionExistsOnSwap()),m.sectionSwapAllowed=!0}),p.appendChild(I),C.appendChild(p)},d.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var m=this,x=this;if(this.persistedDataManager.hasCameraPermissions()){Sh.hasPermissions().then(function(y){if(y){var C=document.getElementById(x.getCameraPermissionButtonId());if(!C)throw m.logger.logError("Permission button not found, fail;"),"Permission button not found";C.click()}else x.persistedDataManager.setHasPermission(!1)}).catch(function(y){x.persistedDataManager.setHasPermission(!1)});return}},d.prototype.resetHeaderMessage=function(){var m=document.getElementById(this.getHeaderMessageContainerId());m.style.display="none"},d.prototype.setHeaderMessage=function(m,x){x||(x=ni.STATUS_DEFAULT);var y=this.getHeaderMessageDiv();switch(y.innerText=m,y.style.display="block",x){case ni.STATUS_SUCCESS:y.style.background="rgba(106, 175, 80, 0.26)",y.style.color="#477735";break;case ni.STATUS_WARNING:y.style.background="rgba(203, 36, 49, 0.14)",y.style.color="#cb2431";break;case ni.STATUS_DEFAULT:default:y.style.background="rgba(0, 0, 0, 0)",y.style.color="rgb(17, 17, 17)";break}},d.prototype.showHideScanTypeSwapLink=function(m){this.scanTypeSelector.hasMoreThanOneScanType()&&(m!==!0&&(m=!1),this.sectionSwapAllowed=m,this.getDashboardSectionSwapLink().style.display=m?"inline-block":"none")},d.prototype.insertCameraScanImageToScanRegion=function(){var m=this,x=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){x.innerHTML="<br>",x.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(y){x.innerHTML="<br>",x.appendChild(m.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Ax,this.cameraScanImage.alt=St.cameraScanAltText()},d.prototype.insertFileScanImageToScanRegion=function(){var m=this,x=document.getElementById(this.getScanRegionId());if(this.fileScanImage){x.innerHTML="<br>",x.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(y){x.innerHTML="<br>",x.appendChild(m.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Ex,this.fileScanImage.alt=St.fileScanAltText()},d.prototype.clearScanRegion=function(){var m=document.getElementById(this.getScanRegionId());m.innerHTML=""},d.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},d.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},d.prototype.getDashboardSectionSwapLinkId=function(){return ii.SCAN_TYPE_CHANGE_ANCHOR_ID},d.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},d.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},d.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},d.prototype.getCameraPermissionButtonId=function(){return ii.CAMERA_PERMISSION_BUTTON_ID},d.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},d.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},d.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},d}();const Rx="_background_bmnat_5",Bx="_scanner_bmnat_17",Lx="_userInput_bmnat_31",Ux="_result_container_bmnat_52",kx="_scannerLine_bmnat_62",ws={background:Rx,scanner:Bx,userInput:Lx,result_container:Ux,scannerLine:kx};function zx(){const[d,m]=ne.useState(""),[x,y]=ne.useState("");ne.useEffect(()=>{new Dx("reader",{qrbox:{width:200,height:200},facingMode:"environment",fps:5}).render(R,U);async function R(K){await O(K)}function U(K){console.log(K)}},[]);async function C(w){try{const U=await(await fetch(`/api/tickets/${w}/check-in`,{method:POST,credentials:"include"})).text();m(U)}catch(R){console.error("API error:",R),m("Error fetching ticket information.")}}const p=()=>{e.preventDefault(),C(x)},I=w=>{y(w.target.value)},B=w=>{w.key=="Enter"&&(w.preventDefault(),O(w.target.value.trim()))};async function O(w){try{const U=await(await fetch(`/api/tickets/${w}`,{method:"GET",credentials:"include"})).text();m(U)}catch(R){console.error("API error:",R),m("Error fetching ticket information.")}}return Ht.jsxs("div",{className:ws.background,children:[Ht.jsx("div",{id:"reader",className:ws.scanner,children:Ht.jsx("div",{className:ws.scannerLine})}),Ht.jsx("div",{className:ws.userInput,children:Ht.jsx("input",{type:"text",value:x,onChange:I,onKeyDown:B,autoFocus:!0,placeholder:"Barcode Scanner Input"})}),d&&Ht.jsxs("div",{className:ws.result_container,children:[Ht.jsx("a",{children:d}),Ht.jsx("button",{onSubmit:p,children:"Check In"})]})]})}function Fx(){return Ht.jsx(Bg,{children:Ht.jsxs(fg,{children:[Ht.jsx(Uo,{path:"/",element:Ht.jsx(oh,{})}),Ht.jsx(Uo,{path:"/login",element:Ht.jsx(oh,{})}),Ht.jsx(Uo,{path:"/scan",element:Ht.jsx(zx,{})})]})})}C2.createRoot(document.getElementById("root")).render(Ht.jsx(ne.StrictMode,{children:Ht.jsx(Fx,{})}));
